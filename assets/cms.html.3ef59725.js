import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o,c,a as n,d as t,b as s,e as p,r as l}from"./app.4445a247.js";const i={},r={id:"\u9879\u76EE\u5730\u5740",tabindex:"-1"},u=n("a",{class:"header-anchor",href:"#\u9879\u76EE\u5730\u5740","aria-hidden":"true"},"#",-1),k=s(),d={href:"http://129.204.230.159:8001",target:"_blank",rel:"noopener noreferrer"},v=s("\u9879\u76EE\u5730\u5740"),m=p(`<h2 id="\u9879\u76EE\u521D\u59CB\u5316" tabindex="-1"><a class="header-anchor" href="#\u9879\u76EE\u521D\u59CB\u5316" aria-hidden="true">#</a> \u9879\u76EE\u521D\u59CB\u5316</h2><p>\u642D\u5EFA vue3 \u811A\u624B\u67B6</p><p><code>npm init vue@latest</code></p><p>\u5B89\u88C5\u4F9D\u8D56</p><p><code>npm install</code></p><p>css \u6837\u5F0F\u91CD\u7F6E\uFF08\u7565\uFF09</p><p>\u914D\u7F6E\u8DEF\u7531\uFF08\u7565\uFF09</p><p>\u914D\u7F6E pinia \u72B6\u6001\u7BA1\u7406\uFF08\u7565\uFF09</p><p>\u914D\u7F6E axios \u7F51\u7EDC\u8BF7\u6C42 ts \u5199\u6CD5</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/request/index.ts</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> AxiosInstance<span class="token punctuation">,</span> AxiosRequestConfig<span class="token punctuation">,</span> AxiosResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">HYInstanceInterceptors<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> AxiosResponse<span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  requestInterceptor<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> AxiosRequestConfig
  requestInterceptorCatch<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  responseInterceptor<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span>
  responseInterceptorCatch<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">HYRequestConfig<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> AxiosResponse<span class="token operator">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AxiosRequestConfig</span> <span class="token punctuation">{</span>
  interceptors<span class="token operator">?</span><span class="token operator">:</span> HYInstanceInterceptors<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HYRequest</span> <span class="token punctuation">{</span>
  instance<span class="token operator">:</span> AxiosInstance

  <span class="token function">constructor</span><span class="token punctuation">(</span>config<span class="token operator">:</span> HYRequestConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>

    <span class="token comment">// \u5168\u5C40\u7684\u62E6\u622A\u5668</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> config
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> err
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span>data
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> err
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>

    <span class="token comment">// \u5B9E\u4F8B\u7684\u62E6\u622A\u5668</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>requestInterceptor<span class="token punctuation">,</span>
      config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>requestInterceptorCatch
    <span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>responseInterceptor<span class="token punctuation">,</span>
      config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>responseInterceptorCatch
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>config<span class="token operator">:</span> HYRequestConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>requestInterceptor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config <span class="token operator">=</span> config<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span><span class="token function">requestInterceptor</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>instance
        <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>responseInterceptor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> config<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span><span class="token function">responseInterceptor</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>interceptors<span class="token operator">?.</span>responseInterceptorCatch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            err <span class="token operator">=</span> config<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span><span class="token function">responseInterceptorCatch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>config<span class="token operator">:</span> HYRequestConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>config<span class="token operator">:</span> HYRequestConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">delete</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>config<span class="token operator">:</span> HYRequestConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">&#39;DELETE&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token generic-function"><span class="token function">patch</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>config<span class="token operator">:</span> HYRequestConfig<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> method<span class="token operator">:</span> <span class="token string">&#39;PATCH&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HYRequest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/index.ts</span>
<span class="token keyword">import</span> HYRequest <span class="token keyword">from</span> <span class="token string">&#39;./request&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">BASE_URL1</span><span class="token punctuation">,</span> <span class="token constant">TIME_OUT1</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./config&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> localCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/cache&#39;</span>

<span class="token keyword">const</span> hyRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HYRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token operator">:</span> <span class="token constant">BASE_URL1</span><span class="token punctuation">,</span>
  timeout<span class="token operator">:</span> <span class="token constant">TIME_OUT1</span><span class="token punctuation">,</span>
  interceptors<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">requestInterceptor</span><span class="token operator">:</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> token <span class="token operator">=</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>headers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> config
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">requestInterceptorCatch</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> err
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">responseInterceptor</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> res
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">responseInterceptorCatch</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> err
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> hyRequest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/config/index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">BASE_URL1</span> <span class="token operator">=</span> <span class="token string">&#39;http://152.136.185.210:5000&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">TIME_OUT1</span> <span class="token operator">=</span> <span class="token number">10000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E\u751F\u4EA7\u73AF\u5883\u548C\u5F00\u53D1\u73AF\u5883\uFF08\u7565\uFF09</p><h2 id="\u6309\u9700\u5F15\u5165-element-plus" tabindex="-1"><a class="header-anchor" href="#\u6309\u9700\u5F15\u5165-element-plus" aria-hidden="true">#</a> \u6309\u9700\u5F15\u5165 Element-Plus</h2><p>\u5B89\u88C5\u63D2\u4EF6<code>npm install -D unplugin-vue-components unplugin-auto-import</code></p><p>\u7136\u540E\u628A\u4E0B\u5217\u4EE3\u7801\u63D2\u5165\u5230\u4F60\u7684 Vite \u6216 Webpack \u7684\u914D\u7F6E\u6587\u4EF6\u4E2D</p><p><strong>Vite</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> AutoImport <span class="token keyword">from</span> <span class="token string">&#39;unplugin-auto-import/vite&#39;</span>
<span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/vite&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElementPlusResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/resolvers&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
    <span class="token function">AutoImport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      resolvers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      resolvers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Webpack</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> AutoImport <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;unplugin-auto-import/webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Components <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;unplugin-vue-components/webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> ElementPlusResolver <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;unplugin-vue-components/resolvers&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">AutoImport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      resolvers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      resolvers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u767B\u5F55\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u767B\u5F55\u9875\u9762" aria-hidden="true">#</a> \u5B9E\u73B0\u767B\u5F55\u9875\u9762</h2><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_EgQqzVLzYM.png" alt=""></p><h3 id="\u8BBE\u7F6E-app-\u5BBD\u9AD8\u94FA\u6EE1\u5C4F\u5E55" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E-app-\u5BBD\u9AD8\u94FA\u6EE1\u5C4F\u5E55" aria-hidden="true">#</a> \u8BBE\u7F6E App \u5BBD\u9AD8\u94FA\u6EE1\u5C4F\u5E55</h3><p>\u6CE8\u610F\u8FD9\u91CC\u4E0D\u80FD\u7528%\u53F7</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">&lt;style scoped&gt;
.app</span> <span class="token punctuation">{</span>
  <span class="token comment">/* \u4E0D\u80FD\u4F7F\u7528%\uFF0C\u56E0\u4E3A\u76F8\u5BF9\u4E8E\u7236\u5143\u7D20\uFF1Bvh\u76F8\u5BF9\u4E8E\u89C6\u53E3 */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u642D\u5EFA\u540E\u53F0\u7BA1\u7406\u5E10\u53F7\u767B\u5F55\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u642D\u5EFA\u540E\u53F0\u7BA1\u7406\u5E10\u53F7\u767B\u5F55\u9875\u9762" aria-hidden="true">#</a> \u642D\u5EFA\u540E\u53F0\u7BA1\u7406\u5E10\u53F7\u767B\u5F55\u9875\u9762</h3><h4 id="login-\u7236\u7EC4\u4EF6\u8BBE\u7F6E\u80CC\u666F\u53CA\u4F4D\u7F6E" tabindex="-1"><a class="header-anchor" href="#login-\u7236\u7EC4\u4EF6\u8BBE\u7F6E\u80CC\u666F\u53CA\u4F4D\u7F6E" aria-hidden="true">#</a> Login \u7236\u7EC4\u4EF6\u8BBE\u7F6E\u80CC\u666F\u53CA\u4F4D\u7F6E</h4><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- Login.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login-panel</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> loginPanel <span class="token keyword">from</span> <span class="token string">&#39;./cpns/login-panel.vue&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.login</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>

  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>

  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../../assets/img/login-bg.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5168\u5C40\u56FE\u6807\u53CA-elmessage-\u7EC4\u4EF6\u7B49\u6837\u5F0F\u5F15\u5165" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u56FE\u6807\u53CA-elmessage-\u7EC4\u4EF6\u7B49\u6837\u5F0F\u5F15\u5165" aria-hidden="true">#</a> \u5168\u5C40\u56FE\u6807\u53CA ElMessage \u7EC4\u4EF6\u7B49\u6837\u5F0F\u5F15\u5165</h4><p>\u56FE\u6807\u5F15\u5165\u5B89\u88C5\uFF1A<code>npm install @element-plus/icons-vue</code></p><p>ElMessage \u7EC4\u4EF6\u7B49\u6837\u5F0F\u5F15\u5165\u5B89\u88C5\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u56FE\u6807\u7684\u5168\u5C40\u6CE8\u518C</span>
<span class="token comment">// global/register-icons.ts</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ElementPlusIconsVue <span class="token keyword">from</span> <span class="token string">&#39;@element-plus/icons-vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">function</span> <span class="token function">registerIcons</span><span class="token punctuation">(</span>app<span class="token operator">:</span> App<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> component<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>ElementPlusIconsVue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> component<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> registerIcons

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>main.ts \u4E2D\u8FDB\u884C\u6CE8\u518C</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;normalize.css&#39;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&#39;./router&#39;</span>
<span class="token keyword">import</span> pinia <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">import</span> registerIcons <span class="token keyword">from</span> <span class="token string">&#39;./global/register-icons&#39;</span>

<span class="token comment">// \u9488\u5BF9ElMessage\u548CElLoading\u7B49\u7EC4\u4EF6\u5F15\u5165\u6837\u5F0F(\u624B\u52A8\u6309\u9700\u5F15\u5165)</span>
<span class="token keyword">import</span> <span class="token string">&#39;element-plus/theme-chalk/el-message.css&#39;</span>

<span class="token comment">// \u5168\u5C40\u6CE8\u518Celement-plus</span>
<span class="token comment">// import ElementPlus from &#39;element-plus&#39;</span>
<span class="token comment">// import &#39;element-plus/dist/index.css&#39;</span>

<span class="token comment">// \u5B89\u88C5vite-plugin-style-import/consola\u5E76\u914D\u7F6Evite.config.ts\uFF08\u81EA\u52A8\u6309\u9700\u5F15\u5165\u6837\u5F0F\uFF09</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>registerIcons<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B9E\u73B0\u767B\u5F55\u9762\u677F\u7236\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u767B\u5F55\u9762\u677F\u7236\u7EC4\u4EF6" aria-hidden="true">#</a> \u5B9E\u73B0\u767B\u5F55\u9762\u677F\u7236\u7EC4\u4EF6</h4><p>\u6D89\u53CA\u5230\u7684 Element-Plus \u7EC4\u4EF6\u6709<code>el-tabs(\u9009\u9879\u5361)</code>\u3001<code>el-check(\u8BB0\u4F4F\u5BC6\u7801\u52FE\u9009\u6846)</code>\u3001<code>el-button(\u7ACB\u5373\u767B\u5F55)</code>\u3001<code>el-link(\u8BB0\u4F4F\u5BC6\u7801/\u5FD8\u8BB0\u5BC6\u7801)</code>\u3001<code>el-icon(\u9009\u9879\u5361\u56FE\u6807)</code></p><p>tabs \u4E2D\u63D2\u5165\u56FE\u6807\u9700\u8981\u7528\u5230<code>label</code>\u63D2\u69FD<code>&lt;template #label&gt;...&lt;/template&gt;</code></p><p>tabs \u4E2D\u901A\u8FC7 v-model \u7ED1\u5B9A\u9009\u9879\u5361\u7684 name</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- login-panel.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-panel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u9876\u90E8\u6807\u9898 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- tabs\u6807\u7B7E\u9875 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tabs</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>activeName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>border-card<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stretch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tab-pane</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5E10\u53F7\u767B\u5F55<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

          <span class="token comment">&lt;!-- \u56FE\u6807\u63D2\u69FD --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UserFilled</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5E10\u53F7\u767B\u5F55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

          <span class="token comment">&lt;!-- pane-account\u5B50\u7EC4\u4EF6 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pane-account</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tab-pane</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tab-pane</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u624B\u673A\u767B\u5F55<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- \u56FE\u6807\u63D2\u69FD --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#label</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Cellphone</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u624B\u673A\u767B\u5F55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\u624B\u673A\u767B\u5F55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\u9A8C\u8BC1\u7801<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tab-pane</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tabs</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u5E95\u90E8\u533A\u57DF --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>controls<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isRemPwd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BB0\u4F4F\u5BC6\u7801<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5FD8\u8BB0\u5BC6\u7801<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleLoginBtnClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      \u7ACB\u5373\u767B\u5F55
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> paneAccount <span class="token keyword">from</span> <span class="token string">&#39;./pane-account.vue&#39;</span>

<span class="token keyword">const</span> activeName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;account&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> isRemPwd <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> accountRef <span class="token operator">=</span> ref<span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> paneAccount<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u6309\u94AE\u76D1\u542C</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleLoginBtnClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>activeName<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;account&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7236\u7EC4\u4EF6\u8C03\u7528\u5B50\u7EC4\u4EF6\u65B9\u6CD5</span>
    accountRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">loginAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u624B\u673A\u767B\u5F55&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.login-panel</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 330px<span class="token punctuation">;</span>

  <span class="token selector">.title</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.label</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>

    <span class="token selector">.text</span> <span class="token punctuation">{</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.controls</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.login-btn</span> <span class="token punctuation">{</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5\u9762\u677F\u4E2D\u767B\u5F55\u8868\u5355\u5B50\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u9762\u677F\u4E2D\u767B\u5F55\u8868\u5355\u5B50\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C01\u88C5\u9762\u677F\u4E2D\u767B\u5F55\u8868\u5355\u5B50\u7EC4\u4EF6</h4><p>\u6D89\u53CA\u5230\u7684 Element-Plus \u7EC4\u4EF6\u6709<code>el-form</code>\u3001<code>el-input</code>\u3001<code>el-message</code></p><p><code>form</code>\u7684\u6821\u9A8C\u89C4\u5219\u9700\u8981\u4F7F\u7528\u5230<code>FormRules</code></p><p><code>form</code>\u7684\u901A\u8FC7\u9A8C\u8BC1\u9700\u8981\u4F7F\u7528<code>formRef.value.validate()</code></p><p><code>defineExpose</code>\u5C06\u5B50\u7EC4\u4EF6\u7684\u7528\u6237\u540D/\u5BC6\u7801\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\uFF0C\u4ECE\u800C\u5B9E\u73B0\u767B\u5F55\u903B\u8F91\uFF08\u6D89\u53CA pinia\u3001axios\uFF09</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> pane<span class="token operator">-</span>account<span class="token punctuation">.</span>vue <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;account&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;account&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;60px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;accountRules&quot;</span> status<span class="token operator">-</span>icon ref<span class="token operator">=</span><span class="token string">&quot;formRef&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u5E10\u53F7&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;account.username&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u5E10\u53F7&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u5BC6\u7801&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;account.password&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u5BC6\u7801&quot;</span> show<span class="token operator">-</span>password<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ElForm<span class="token punctuation">,</span> FormRules <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-plus&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-plus&#39;</span>
<span class="token keyword">import</span> useLoginStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/login/login&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> IAccount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/types&#39;</span>

<span class="token comment">// \u5B9A\u4E49account\u6570\u636E</span>
<span class="token keyword">const</span> account <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reactive</span><span class="token generic class-name"><span class="token operator">&lt;</span>IAccount<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  username<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  password<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u5B9A\u4E49\u6821\u9A8C\u89C4\u5219</span>
<span class="token keyword">const</span> accountRules<span class="token operator">:</span> FormRules <span class="token operator">=</span> <span class="token punctuation">{</span>
  username<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;\u5FC5\u987B\u8F93\u5165\u7528\u6237\u540D&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> pattern<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z0-9]{6,20}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;\u5FC5\u987B\u662F6\uFF5E20\u4F4D\u4EE5\u5C0F\u5199\u5B57\u6BCD\u6216\u6570\u5B57\u5F00\u5934&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  password<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;\u5FC5\u987B\u8F93\u5165\u5BC6\u7801&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&#39;\u957F\u5EA6\u5FC5\u987B\u57283~11\u4E2A\u5B57\u7B26&#39;</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">&#39;blur&#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6267\u884C\u5E10\u53F7\u767B\u5F55\u903B\u8F91</span>
<span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> ElForm<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">loginAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  formRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>valid<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> username <span class="token operator">=</span> account<span class="token punctuation">.</span>username
        <span class="token keyword">const</span> password <span class="token operator">=</span> account<span class="token punctuation">.</span>password

        loginStore<span class="token punctuation">.</span><span class="token function">loginAccountAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Oops, \u8BF7\u8F93\u5165\u6B63\u786E\u7684\u683C\u5F0F.&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    loginAction
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u903B\u8F91" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u903B\u8F91" aria-hidden="true">#</a> \u5B9E\u73B0\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u903B\u8F91</h3><h4 id="\u5C01\u88C5-iaccount-\u5BF9\u8C61\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-iaccount-\u5BF9\u8C61\u7C7B\u578B" aria-hidden="true">#</a> \u5C01\u88C5 IAccount \u5BF9\u8C61\u7C7B\u578B</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// types/login.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IAccount</span> <span class="token punctuation">{</span>
    username<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// types/index.ts(\u7EDF\u4E00\u5BFC\u51FA)</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./login&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5-axios-\u767B\u5F55\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-axios-\u767B\u5F55\u8BF7\u6C42" aria-hidden="true">#</a> \u5C01\u88C5 axios \u767B\u5F55\u8BF7\u6C42</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;..&quot;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> IAccount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">accountLoginRequest</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> account
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528-pinia-\u5B58\u50A8\u8BF7\u6C42\u6570\u636E-\u5728pane-account\u7EC4\u4EF6\u4E2D\u8C03\u7528" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-pinia-\u5B58\u50A8\u8BF7\u6C42\u6570\u636E-\u5728pane-account\u7EC4\u4EF6\u4E2D\u8C03\u7528" aria-hidden="true">#</a> \u4F7F\u7528 pinia \u5B58\u50A8\u8BF7\u6C42\u6570\u636E(\u5728<code>pane-account</code>\u7EC4\u4EF6\u4E2D\u8C03\u7528)</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/index.ts</span>
<span class="token comment">// \u521D\u59CB\u5316pinia</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> pinia
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/login/login.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> accountLoginRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/service/login/login&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> IAccount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> localCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/cache&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useLoginStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// token: localStorage.getItem(&#39;token&#39;) ?? &#39;&#39;,</span>
        token<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        username<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> loginResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">accountLoginRequest</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u767B\u5F55\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> loginResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id
            <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> loginResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>token
            <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> loginResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>username

            <span class="token comment">// \u8FDB\u884C\u672C\u5730\u7F13\u5B58</span>
            <span class="token comment">// localStorage.setItem(&#39;token&#39;, this.token)</span>
            localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useLoginStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5\u672C\u5730\u7F13\u5B58-token-\u5DE5\u5177-localstorage\u3001sessionstorage" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u672C\u5730\u7F13\u5B58-token-\u5DE5\u5177-localstorage\u3001sessionstorage" aria-hidden="true">#</a> \u5C01\u88C5\u672C\u5730\u7F13\u5B58 token \u5DE5\u5177\uFF08localStorage\u3001sessionStorage\uFF09</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// utils/cache.ts</span>
<span class="token keyword">enum</span> CacheType <span class="token punctuation">{</span>
  local <span class="token operator">=</span> <span class="token string">&#39;local&#39;</span><span class="token punctuation">,</span>
  session <span class="token operator">=</span> <span class="token string">&#39;session&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyCache</span> <span class="token punctuation">{</span>
  storage<span class="token operator">:</span> Storage

  <span class="token comment">// \u5224\u65AD\u662FlocalStorage\u8FD8\u662FsessionStorage</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>type<span class="token operator">:</span> CacheType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>storage <span class="token operator">=</span> type <span class="token operator">===</span> CacheType<span class="token punctuation">.</span>local <span class="token operator">?</span> localStorage <span class="token operator">:</span> sessionStorage
  <span class="token punctuation">}</span>

  <span class="token function">setCache</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">getCache</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">deleteCache</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> localCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCache</span><span class="token punctuation">(</span>CacheType<span class="token punctuation">.</span>local<span class="token punctuation">)</span>
<span class="token keyword">const</span> sessionCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCache</span><span class="token punctuation">(</span>CacheType<span class="token punctuation">.</span>session<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> localCache<span class="token punctuation">,</span> sessionCache <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u767B\u5F55\u62E6\u622A-\u8DEF\u7531\u5BFC\u822A\u5B88\u536B" tabindex="-1"><a class="header-anchor" href="#\u767B\u5F55\u62E6\u622A-\u8DEF\u7531\u5BFC\u822A\u5B88\u536B" aria-hidden="true">#</a> \u767B\u5F55\u62E6\u622A\uFF08\u8DEF\u7531\u5BFC\u822A\u5B88\u536B\uFF09</h4><p><code>router.beforeEach(to, from)</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// router/index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> localCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/cache&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&#39;/main&#39;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&#39;/login&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u8BB0\u4F4F\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u8BB0\u4F4F\u5BC6\u7801" aria-hidden="true">#</a> \u5B9E\u73B0\u8BB0\u4F4F\u5BC6\u7801</h3><p>\u7236\u7EC4\u4EF6\u5C06<code>isRemPwd</code>\u4F5C\u4E3A\u53C2\u6570\u4F20\u5165\u5B50\u7EC4\u4EF6\u767B\u5F55\u903B\u8F91\uFF0C\u5224\u65AD<code>isRemPwd</code>\u7684\u5E03\u5C14\u503C\uFF0C\u6765\u9009\u62E9\u662F\u5426\u5B58\u5165\u6216\u5220\u9664<code>LocalStore</code>\u672C\u5730\u7F13\u5B58\uFF0C\u518D\u83B7\u53D6\u672C\u5730\u7F13\u5B58\u5C06\u503C\u8D4B\u503C\u7ED9\u521D\u59CB\u5316\u7684<code>username</code>\u548C<code>password</code>\u8FDB\u884C\u56DE\u663E\u3002\u5C06\u52FE\u9009\u6846\u662F\u5426\u9009\u4E2D\u4E5F\u4F5C\u4E3A<code>LocalStore</code>\u7F13\u5B58\u5B58\u5165\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u7236\u7EC4\u4EF6login-panel</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> isRemPwd <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;isRemPwd&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>isRemPwd<span class="token punctuation">,</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;isRemPwd&#39;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>
<span class="token comment">// \u6309\u94AE\u76D1\u542C</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleLoginBtnClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>activeName<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;account&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7236\u7EC4\u4EF6\u8C03\u7528\u5B50\u7EC4\u4EF6\u65B9\u6CD5</span>
    accountRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">loginAction</span><span class="token punctuation">(</span>isRemPwd<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u624B\u673A\u767B\u5F55&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>
<span class="token comment">// \u5B9A\u4E49account\u6570\u636E</span>
<span class="token keyword">const</span> account <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reactive</span><span class="token generic class-name"><span class="token operator">&lt;</span>IAccount<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  username<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  password<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u6267\u884C\u5E10\u53F7\u767B\u5F55\u903B\u8F91</span>
<span class="token comment">// ...</span>
<span class="token keyword">function</span> <span class="token function">loginAction</span><span class="token punctuation">(</span>isRemPwd<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  formRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>valid<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> username <span class="token operator">=</span> account<span class="token punctuation">.</span>username
        <span class="token keyword">const</span> password <span class="token operator">=</span> account<span class="token punctuation">.</span>password

        <span class="token comment">// \u8C03\u7528store\u4E2D\u7684loginAccountAction(pinia)</span>
        loginStore<span class="token punctuation">.</span><span class="token function">loginAccountAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u767B\u5F55\u6210\u529F\u540E\u8BB0\u4F4F\u5BC6\u7801</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>isRemPwd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span>
            localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            localCache<span class="token punctuation">.</span><span class="token function">deleteCache</span><span class="token punctuation">(</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">)</span>
            localCache<span class="token punctuation">.</span><span class="token function">deleteCache</span><span class="token punctuation">(</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;\u9519\u8BEF, \u8BF7\u8F93\u5165\u6B63\u786E\u7684\u683C\u5F0F\uFF01&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u83B7\u53D6\u767B\u5F55\u7528\u6237\u8BE6\u7EC6\u4FE1\u606F-\u5305\u62EC\u89D2\u8272\u6743\u9650\u83DC\u5355" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u83B7\u53D6\u767B\u5F55\u7528\u6237\u8BE6\u7EC6\u4FE1\u606F-\u5305\u62EC\u89D2\u8272\u6743\u9650\u83DC\u5355" aria-hidden="true">#</a> \u5B9E\u73B0\u83B7\u53D6\u767B\u5F55\u7528\u6237\u8BE6\u7EC6\u4FE1\u606F\uFF08\u5305\u62EC\u89D2\u8272\u6743\u9650\u83DC\u5355\uFF09</h3><h4 id="\u5C01\u88C5-axios-\u63A5\u53E3\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-axios-\u63A5\u53E3\u8BF7\u6C42" aria-hidden="true">#</a> \u5C01\u88C5 axios \u63A5\u53E3\u8BF7\u6C42</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u83B7\u53D6\u7528\u6237\u8BE6\u7EC6\u4FE1\u606F</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserInfoById</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
        <span class="token comment">// headers: {</span>
        <span class="token comment">//     Authorization: &#39;Bearer &#39; + localCache.getCache(&#39;token&#39;)</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u89D2\u8272\u6743\u9650\u4FE1\u606F</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserMenusByRoleId</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/role/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/menu</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528-pinia-\u5B58\u50A8\u8BF7\u6C42\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-pinia-\u5B58\u50A8\u8BF7\u6C42\u6570\u636E" aria-hidden="true">#</a> \u4F7F\u7528 pinia \u5B58\u50A8\u8BF7\u6C42\u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ILoginState</span> <span class="token punctuation">{</span>
    token<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    userMenus<span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> useLoginStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ILoginState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        token<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        userInfo<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        userMenus<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1. \u5E10\u53F7\u767B\u5F55\uFF0Caxios\u83B7\u53D6token\u7B49\u4FE1\u606F</span>
            <span class="token keyword">const</span> loginResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">accountLogin</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span>
            <span class="token keyword">const</span> id <span class="token operator">=</span> loginResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id
            <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> loginResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>token

            <span class="token comment">// 2. \u8FDB\u884C\u672C\u5730\u7F13\u5B58\uFF08\u4F7F\u7528\u5C01\u88C5\u7684cache\u5DE5\u5177\uFF09</span>
            localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>

            <span class="token comment">// 3.\u83B7\u53D6\u767B\u5F55\u7528\u6237\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF08role\u89D2\u8272\u4FE1\u606F\uFF09</span>
            <span class="token keyword">const</span> userInfoResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserInfoById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>userInfo <span class="token operator">=</span> userInfoResult<span class="token punctuation">.</span>data

            <span class="token comment">// 4.\u6839\u636E\u89D2\u8272\u8BF7\u6C42\u7528\u6237\u7684\u6743\u9650\uFF08\u83DC\u5355menus\uFF09</span>
            <span class="token keyword">const</span> userMenusResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserMenusByRoleId</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>role<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>userMenus <span class="token operator">=</span> userMenusResult<span class="token punctuation">.</span>data

            <span class="token comment">//  \u9875\u9762\u8DF3\u8F6C</span>
            router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/main&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useLoginStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u4E3B\u9875\u5DE6\u4FA7\u5BFC\u822A\u680F" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u4E3B\u9875\u5DE6\u4FA7\u5BFC\u822A\u680F" aria-hidden="true">#</a> \u5B9E\u73B0\u4E3B\u9875\u5DE6\u4FA7\u5BFC\u822A\u680F</h2><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_Omxnqoo1Oj.png" alt=""></p><h3 id="\u6574\u4F53\u5BB9\u5668\u5E03\u5C40" tabindex="-1"><a class="header-anchor" href="#\u6574\u4F53\u5BB9\u5668\u5E03\u5C40" aria-hidden="true">#</a> \u6574\u4F53\u5BB9\u5668\u5E03\u5C40</h3><p>\u4F7F\u7528<code>el-container</code>\u5305\u88F9\u4FA7\u8FB9\u680F\u5BB9\u5668<code>el-aside</code>\u4EE5\u53CA\u5305\u88F9<code>el-header</code>\u9876\u680F\u5BB9\u5668\u548C<code>el-main</code>\u4E3B\u8981\u533A\u57DF\u5BB9\u5668\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      // \u5DE6\u4FA7\u5BFC\u822A\u680F
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-aside</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>210px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main-menu</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-aside</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-main</span><span class="token punctuation">&gt;</span></span>
          // \u8DEF\u7531\u5360\u4F4D
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-main</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.main</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>

  <span class="token selector">.main-content</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>

    <span class="token selector">.el-aside</span> <span class="token punctuation">{</span>
      <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
      <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #001529<span class="token punctuation">;</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> width 0.3s linear<span class="token punctuation">;</span>
      <span class="token property">scrollbar-width</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* firefox */</span>
      <span class="token property">-ms-overflow-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* IE 10+ */</span>

      <span class="token selector">&amp;::-webkit-scrollbar</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.el-main</span> <span class="token punctuation">{</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> #f0f2f5<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5DE6\u4FA7\u5BFC\u822A\u680F\u9759\u6001\u5E03\u5C40" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5DE6\u4FA7\u5BFC\u822A\u680F\u9759\u6001\u5E03\u5C40" aria-hidden="true">#</a> \u5B9E\u73B0\u5DE6\u4FA7\u5BFC\u822A\u680F\u9759\u6001\u5E03\u5C40</h3><p>\u4F7F\u7528<code>elementUI</code>\u4E2D\u83DC\u5355<code>menu</code>\u7EC4\u4EF6\u7531<code>el-menu</code>\u3001<code>el-sub-menu</code>\uFF08\u9700\u8981\u4F7F\u7528\u63D2\u69FD\uFF09\u3001<code>el-menu-item</code>\u7EC4\u6210\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/img/logo.svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u56FE\u6807<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
        <span class="token attr-name">:default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultValue<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:collapse</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFold<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#b7bdc3<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">active-text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">background-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#001529<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- \u63D2\u69FD --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Monitor</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u7CFB\u7EDF\u603B\u89C8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>\u6838\u5FC3\u6280\u672F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>\u5546\u54C1\u7EDF\u8BA1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u7CFB\u7EDF\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>\u7528\u6237\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>\u90E8\u95E8\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>\u83DC\u5355\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>\u89D2\u8272\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.main-menu</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #001529<span class="token punctuation">;</span>

  <span class="token selector">.logo</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 12px 10px 8px 10px<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>

    <span class="token selector">.img</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.title</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.el-menu</span> <span class="token punctuation">{</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.el-sub-menu</span> <span class="token punctuation">{</span>
  <span class="token selector">.el-menu-item</span> <span class="token punctuation">{</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 50px <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #0c2135<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.el-menu-item:hover</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.el-menu-item.is-active</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #0a60bd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5DE6\u4FA7\u5BFC\u822A\u680F\u52A8\u6001\u5C55\u793A\u6548\u679C" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5DE6\u4FA7\u5BFC\u822A\u680F\u52A8\u6001\u5C55\u793A\u6548\u679C" aria-hidden="true">#</a> \u5B9E\u73B0\u5DE6\u4FA7\u5BFC\u822A\u680F\u52A8\u6001\u5C55\u793A\u6548\u679C</h3><p>\u9996\u5148\u5C06\u7528\u6237\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u6743\u9650\u4FE1\u606F\u7F13\u5B58\u5904\u7406\uFF08\u5237\u65B0\u65F6\u4F9D\u7136\u5B58\u5728\uFF09\uFF0C\u7136\u540E\u4F7F\u7528<code>&lt;template v-for=&quot;&quot;&gt;</code>\u3001<code>mustache</code>\u8868\u8FBE\u5F0F\u52A8\u6001\u904D\u5386\u5373\u53EF\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u767B\u5F55\u65F6store\u7F13\u5B58\u7528\u6237\u6743\u9650\u4FE1\u606F</span>
state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ILoginState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    userInfo<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;userInfo&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    userMenus<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;userMenus&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ....</span>
        <span class="token comment">// \u8FDB\u884C\u7528\u6237\u6743\u9650\u4FE1\u606F\u7F13\u5B58</span>
        localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;userInfo&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span>
        localCache<span class="token punctuation">.</span><span class="token function">setCache</span><span class="token punctuation">(</span><span class="token string">&#39;userMenus&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userMenus<span class="token punctuation">)</span>

        <span class="token comment">//  \u9875\u9762\u8DF3\u8F6C</span>
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/main&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/img/logo.svg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u56FE\u6807<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
        <span class="token attr-name">:default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultValue<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:collapse</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFold<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#b7bdc3<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">active-text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">background-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#001529<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in userMenus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- \u5B50\u83DC\u5355 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id + &#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- \u5B50\u83DC\u5355\u7684\u6BCF\u4E00\u9879 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subItem in item.children<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subItem.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subItem.id + &#39;&#39;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleItemClick(subItem)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ subItem.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useLoginStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/login/login&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> userMenus <span class="token operator">=</span> loginStore<span class="token punctuation">.</span>userMenus

<span class="token keyword">function</span> <span class="token function">handleItemClick</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">subItem</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> subItem<span class="token punctuation">.</span>url
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5BFC\u822A\u680F\u56FE\u6807\u7684\u52A8\u6001\u7EC4\u4EF6-\u7EC6\u8282\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u822A\u680F\u56FE\u6807\u7684\u52A8\u6001\u7EC4\u4EF6-\u7EC6\u8282\u5904\u7406" aria-hidden="true">#</a> \u5BFC\u822A\u680F\u56FE\u6807\u7684\u52A8\u6001\u7EC4\u4EF6\uFF08\u7EC6\u8282\u5904\u7406\uFF09</h3><p>\u670D\u52A1\u5668\u8FD4\u56DE\u7684\u662F\u5B57\u7B26\u4E32<code>el-icon-monitor</code>\uFF0C\u9700\u8981\u4F7F\u7528\u52A8\u6001\u7EC4\u4EF6<code>componet</code>\u6765\u5904\u7406\u56FE\u6807\u5B57\u7B26\u4E32\u5E76\u4E14\u4F7F\u7528<code>split</code>\u51FD\u6570\u5206\u9694\u5B57\u7B26\u4E32\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- \u5B50\u83DC\u5355 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id + &#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.icon.split(&#39;-icon-&#39;)[1]<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  //.......
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5BFC\u822A\u680F\u6CE8\u518C\u6240\u6709\u9759\u6001\u8DEF\u7531-\u6709\u7F3A\u9677" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u822A\u680F\u6CE8\u518C\u6240\u6709\u9759\u6001\u8DEF\u7531-\u6709\u7F3A\u9677" aria-hidden="true">#</a> \u5BFC\u822A\u680F\u6CE8\u518C\u6240\u6709\u9759\u6001\u8DEF\u7531\uFF08\u6709\u7F3A\u9677\uFF09</h3><p>\u5F53\u7528\u6237\u6CA1\u6709\u6743\u9650\u65F6\uFF0C\u53EF\u4EE5\u624B\u52A8\u5728\u5730\u5740\u680F\u8F93\u5165 url \u53BB\u8BBF\u95EE\u6CA1\u6709\u6743\u9650\u7684\u9875\u9762\u3002\u540E\u9762\u4F7F\u7528\u52A8\u6001\u8DEF\u7531\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&#39;/main&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/main/Main.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/main/analysis/overview&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/main/analysis/overview/overview.vue&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/main/analysis/dashboard&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/main/analysis/dashboard/dashboard.vue&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/main/system/role&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/main/system/role/role.vue&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/main/system/user&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/main/system/user/user.vue&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u4E3B\u9875\u5934\u90E8\u9762\u5305\u5C51" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u4E3B\u9875\u5934\u90E8\u9762\u5305\u5C51" aria-hidden="true">#</a> \u5B9E\u73B0\u4E3B\u9875\u5934\u90E8\u9762\u5305\u5C51</h2><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_Or2gIT2k8K.png" alt=""></p><h3 id="\u642D\u5EFA\u6574\u4F53\u5E03\u5C40" tabindex="-1"><a class="header-anchor" href="#\u642D\u5EFA\u6574\u4F53\u5E03\u5C40" aria-hidden="true">#</a> \u642D\u5EFA\u6574\u4F53\u5E03\u5C40</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleMenuIconClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fold</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>breadcrumb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u9762\u5305\u5C51<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E2A\u4EBA\u4FE1\u606F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.main-header</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>

  <span class="token selector">.menu-icon</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.content</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 18px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5934\u90E8\u5DE6\u4FA7\u56FE\u6807\u70B9\u51FB\u6298\u53E0\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5934\u90E8\u5DE6\u4FA7\u56FE\u6807\u70B9\u51FB\u6298\u53E0\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u5934\u90E8\u5DE6\u4FA7\u56FE\u6807\u70B9\u51FB\u6298\u53E0\u529F\u80FD</h3><p>\u7531<code>main-header</code>\u5B50\u7EC4\u4EF6\u901A\u8FC7<code>defineEmits</code>\u5C06\u6298\u53E0\u72B6\u6001<code>isFold</code>\u4F20\u5165\u7ED9\u7236\u7EC4\u4EF6<code>main</code>\u4E2D\u7684<code>el-aside</code>\u4ECE\u800C\u63A7\u5236\u5176\u5BBD\u5EA6\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- main-header.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleMenuIconClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>28px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFold ? &#39;Expand&#39; : &#39;Fold&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>breadcrumb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u9762\u5305\u5C51<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E2A\u4EBA\u4FE1\u606F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 1.\u5185\u90E8\u81EA\u5B9A\u4E49\u4E8B\u4EF6</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;foldChange&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 2.\u8BB0\u5F55\u6298\u53E0\u72B6\u6001</span>
<span class="token keyword">const</span> isFold <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleMenuIconClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 3.\u5B50\u7EC4\u4EF6\u5185\u90E8\u6539\u53D8\u72B6\u6001</span>
  isFold<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isFold<span class="token punctuation">.</span>value

  <span class="token comment">// 4.\u5C06\u4E8B\u4EF6\u548C\u72B6\u6001\u4F20\u9012\u7ED9\u7236\u7EC4\u4EF6</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;foldChange&#39;</span><span class="token punctuation">,</span> isFold<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u7EC4\u4EF6\u5728\u5B9A\u4E49<code>main-header</code>\u4E0A\u901A\u8FC7<code>@fold-change</code>\u63A5\u6536\u5B50\u7EC4\u4EF6\u4F20\u6765\u7684<code>emit(&#39;foldChange&#39;, isFold.value)</code>\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- main.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-aside</span> <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFold ? &#39;60px&#39; : &#39;210px&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- \u7236\u4F20\u5B50\uFF08defineProps\uFF09 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main-menu</span> <span class="token attr-name">:is-fold</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFold<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-aside</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- emit\u5B50\u4F20\u7236\uFF08defineEmits\uFF09 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main-header</span> <span class="token attr-name">@fold-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleFoldChange<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-main</span><span class="token punctuation">&gt;</span></span>Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-main</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> localCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/cache&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MainMenu <span class="token keyword">from</span> <span class="token string">&#39;@/components/main-menu/main-menu.vue&#39;</span>
<span class="token keyword">import</span> MainHeader <span class="token keyword">from</span> <span class="token string">&#39;@/components/main-header/main-header.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isFold <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleFoldChange</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">isFoldValue</span><span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  isFold<span class="token punctuation">.</span>value <span class="token operator">=</span> isFoldValue
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u7EC4\u4EF6\u901A\u8FC7\u5B50\u7EC4\u4EF6\u7684<code>defineProps</code>\u5C06<code>:is-fold=&quot;isFold&quot;</code>\u6298\u53E0\u72B6\u6001\u4F20\u5165\u5230<code>el-menu</code>\u7684\u5C5E\u6027<code>:collapse</code>\u4E0A\uFF0C\u4ECE\u800C\u63A7\u5236<code>menu</code>\u83DC\u5355\u7684\u6298\u53E0\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- main-menu.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    // ....
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      &lt;el-menu
        // ....
        :collapse=&quot;isFold&quot;
      &gt;
      // ....
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">isFold</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5934\u90E8\u53F3\u4FA7\u4E2A\u4EBA\u4FE1\u606F\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5934\u90E8\u53F3\u4FA7\u4E2A\u4EBA\u4FE1\u606F\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u5934\u90E8\u53F3\u4FA7\u4E2A\u4EBA\u4FE1\u606F\u529F\u80FD</h3><h4 id="\u9759\u6001\u5E03\u5C40\u642D\u5EFA-\u5305\u542B\u6CE8\u9500\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u5E03\u5C40\u642D\u5EFA-\u5305\u542B\u6CE8\u9500\u529F\u80FD" aria-hidden="true">#</a> \u9759\u6001\u5E03\u5C40\u642D\u5EFA\uFF08\u5305\u542B\u6CE8\u9500\u529F\u80FD\uFF09</h4><p>\u4F7F\u7528<code>el-dropdown</code>\u4E0B\u62C9\u83DC\u5355\u7EC4\u4EF6\uFF0C\u8FD9\u91CC\u8981\u8C03\u8282\u4E0B\u62C9\u6846\u7684\u6837\u5F0F\u9700\u8981\u52A0<code>:global</code>\uFF08\u539F\u56E0\uFF1A\u5B83\u4E0D\u5728 app \u7236\u7EC4\u4EF6\u4E0B\uFF0C\u5B83\u5728\u4E0E app \u540C\u7EA7\u7684\u7EC4\u4EF6 el-popper-container \u4E0B\uFF09</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>operation<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bell</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChatDotRound</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dot<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Postcard</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-avatar</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://xumingyu2018.github.io/avatar.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ loginStore.userInfo.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#dropdown</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleExitClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CircleCloseFilled</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
              \u6CE8\u9500
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">divided</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>InfoFilled</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
              \u4E2A\u4EBA\u4FE1\u606F
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Unlock</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
              \u4FEE\u6539\u5BC6\u7801
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> localCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/cache&#39;</span>
<span class="token keyword">import</span> useLoginStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/login/login&#39;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleExitClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  localCache<span class="token punctuation">.</span><span class="token function">deleteCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span>
  localCache<span class="token punctuation">.</span><span class="token function">deleteCache</span><span class="token punctuation">(</span><span class="token string">&#39;userInfo&#39;</span><span class="token punctuation">)</span>
  localCache<span class="token punctuation">.</span><span class="token function">deleteCache</span><span class="token punctuation">(</span><span class="token string">&#39;userMenus&#39;</span><span class="token punctuation">)</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u663E\u793A\u7528\u6237\u540D\u79F0\u4FE1\u606F</span>
<span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.header-info</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.operation</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-flex<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token selector">span</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span>

    <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">i</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.dot</span> <span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
      <span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.user-info</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>

  <span class="token selector">.name</span> <span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.info</span> <span class="token punctuation">{</span>
  <span class="token selector">// \u4F7F\u7528global\u7684\u539F\u56E0\u662F\u56E0\u4E3A\u5B83\u4E0D\u5728app\u7236\u7EC4\u4EF6\u4E0B\uFF0C\u5B83\u5728\u4E0Eapp\u540C\u7EA7\u7684\u7EC4\u4EF6el-popper-container\u4E0B
  :global(.el-dropdown-menu__item)</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 36px <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 6px 22px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u52A8\u6001\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#\u52A8\u6001\u8DEF\u7531" aria-hidden="true">#</a> \u52A8\u6001\u8DEF\u7531</h2><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_Or2gIT2k8K.png" alt=""></p><p>\u672C\u6587\u91C7\u7528\u57FA\u4E8E\u83DC\u5355\u7684\u52A8\u6001\u8DEF\u7531\u7BA1\u7406\u5B9E\u73B0\uFF08\u7ED3\u5408 coderwhy \u5168\u5C40\u5DE5\u5177\uFF09\u3002</p><h3 id="\u5B89\u88C5\u81EA\u52A8\u5316\u751F\u6210\u8DEF\u7531\u914D\u7F6E\u4FE1\u606F\u548C-vue-\u9875\u9762\u7684\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u81EA\u52A8\u5316\u751F\u6210\u8DEF\u7531\u914D\u7F6E\u4FE1\u606F\u548C-vue-\u9875\u9762\u7684\u5DE5\u5177" aria-hidden="true">#</a> \u5B89\u88C5\u81EA\u52A8\u5316\u751F\u6210\u8DEF\u7531\u914D\u7F6E\u4FE1\u606F\u548C vue \u9875\u9762\u7684\u5DE5\u5177</h3><p><code>npm install coderwhy -g</code></p><h3 id="\u4F7F\u7528-coderwhy-\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-coderwhy-\u5DE5\u5177" aria-hidden="true">#</a> \u4F7F\u7528 coderwhy \u5DE5\u5177</h3><p>\u4F8B\uFF1A<code>coderwhy add3page_setup list -d src/views/main/story/list</code></p><p><code>add3page_setup</code>\uFF1A\u9488\u5BF9 vue3 \u7684 setup \u8BED\u6CD5\u3002</p><p><code>-d</code>\uFF1A\u751F\u6210\u6307\u5B9A\u6587\u4EF6\u7684\u5730\u5740\u3002</p><p><code>list</code>\uFF1A\u751F\u6210\u7684\u8DEF\u7531\u540D\u5B57\u548C vue \u9875\u9762\u540D\u5B57\u3002</p><h3 id="\u7F16\u5199\u83DC\u5355\u6620\u5C04\u8DEF\u7531\u5DE5\u5177\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199\u83DC\u5355\u6620\u5C04\u8DEF\u7531\u5DE5\u5177\u7C7B" aria-hidden="true">#</a> \u7F16\u5199\u83DC\u5355\u6620\u5C04\u8DEF\u7531\u5DE5\u5177\u7C7B</h3><ol><li>\u6839\u636E\u83DC\u5355\u6620\u5C04\u5BF9\u5E94\u7684\u8DEF\u7531\u3002</li><li>\u8FDB\u5165\u4E3B\u9875\u5339\u914D\u7B2C\u4E00\u4E2A\u83DC\u5355\u7684\u8DEF\u7531\u3002</li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// utils/map-menus.ts</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> RouteRecordRaw <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>

<span class="token comment">// \u81EA\u52A8\u5316\u52A0\u8F7D\u6240\u6709\u7684\u8DEF\u7531\uFF08\u4E5F\u53EF\u4EE5\u6536\u5230\u5199\u6B7B\uFF09</span>
<span class="token keyword">function</span> <span class="token function">loadLocalRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1.\u52A0\u8F7D\u6240\u6709\u7684\u6A21\u677F</span>
  <span class="token keyword">const</span> modules<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token function">glob</span><span class="token punctuation">(</span><span class="token string">&#39;../router/main/**/*.ts&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> eager<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 2.\u904D\u5386\u6240\u6709\u7684\u6A21\u677F\u4E3A\u8DEF\u7531\u5BF9\u8C61</span>
  <span class="token keyword">const</span> routes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> route <span class="token operator">=</span> modules<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>default
    routes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> routes
<span class="token punctuation">}</span>

<span class="token comment">// \u8BB0\u5F55\u7B2C\u4E00\u4E2A\u83DC\u5355\u4FE1\u606F</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> firstMenu<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token comment">/**
 * \u6620\u5C04\u83DC\u5355\u5230\u8DEF\u7531
 * @param menus \u83DC\u5355
 * @returns \u8DEF\u7531
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapMenuToRoutes</span><span class="token punctuation">(</span>menus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.\u52A0\u8F7D\u6240\u6709\u7684\u8DEF\u7531\u5BF9\u8C61</span>
    <span class="token keyword">const</span> loadRoutes <span class="token operator">=</span> <span class="token function">loadLocalRoutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 2.\u6839\u636E\u83DC\u5355\u83B7\u53D6\u9700\u8981\u6DFB\u52A0\u7684\u8DEF\u7531\u5BF9\u8C61</span>
    <span class="token keyword">const</span> finalRoutes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> menu <span class="token keyword">of</span> menus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> submenu <span class="token keyword">of</span> menu<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> route <span class="token operator">=</span> loadRoutes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>route <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>path <span class="token operator">===</span> submenu<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span> finalRoutes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span>

            <span class="token comment">// \u8BB0\u5F55\u7B2C\u4E00\u4E2A\u88AB\u5339\u914D\u83DC\u5355</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>firstMenu <span class="token operator">&amp;&amp;</span> route<span class="token punctuation">)</span> firstMenu <span class="token operator">=</span> submenu
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> finalRoutes
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6709\u5F0A\u7AEF-\u767B\u5F55\u65F6\u8C03\u7528\u5DE5\u5177\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u6709\u5F0A\u7AEF-\u767B\u5F55\u65F6\u8C03\u7528\u5DE5\u5177\u7C7B" aria-hidden="true">#</a> (\u6709\u5F0A\u7AEF)\u767B\u5F55\u65F6\u8C03\u7528\u5DE5\u5177\u7C7B</h3><p>\u5728\u53D1\u9001\u767B\u5F55\u8BF7\u6C42\u65F6\uFF0C\u4F7F\u7528<code>router.addRoute(&#39;main&#39;, route)</code>\u5C06\u83DC\u5355\u4FE1\u606F<code>userMenus</code>\u91CC\u7684\u8DEF\u7531\u548C\u5168\u90E8\u6CE8\u518C\u8FDB<code>loadLocalRoutes</code>\u5339\u914D\u65F6\u8C03\u7528\u3002</p><p>\u5F0A\u7AEF\uFF1A\u5237\u65B0\u65F6\u8DEF\u7531\u6CE8\u518C\u4E0D\u4E86\uFF0C\u4EE3\u7801\u91CD\u65B0\u6267\u884C\u65F6\uFF0C\u52A8\u6001\u8DEF\u7531\u5C31\u52A0\u8F7D\u4E0D\u4E86\uFF0C\u56E0\u4E3A\u53EA\u6709\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u65F6\u624D\u4F1A\u6267\u884C\u8BE5\u4EE3\u7801\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/login/login.ts</span>
<span class="token keyword">interface</span> <span class="token class-name">ILoginState</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    userMenus<span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> useLoginStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ILoginState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        userMenus<span class="token operator">:</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;userMenus&#39;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
            <span class="token comment">// 6.\u6839\u636E\u83DC\u5355menu\u52A8\u6001\u52A0\u8F7D\u8DEF\u7531(\u4F7F\u7528\u5DE5\u5177\u7C7Bmap-menus.ts)\uFF0C\u5237\u65B0\u65F6\u8FD9\u6BB5\u4EE3\u7801\u4E0D\u4F1A\u91CD\u65B0\u6267\u884C\uFF0C\u56E0\u4E3A\u53EA\u6709\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u65F6\u624D\u4F1A\u6267\u884C\u8BE5\u4EE3\u7801\u3002</span>
            <span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token function">mapMenuToRoutes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userMenus<span class="token punctuation">)</span>
            <span class="token comment">// \u8FD9\u91CC\u7684&#39;main&#39;\u662F\u6839\u636E\u8DEF\u7531\u91CC\u7684name\u5C5E\u6027\u6765\u7684</span>
            routes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>route <span class="token operator">=&gt;</span> router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span> route<span class="token punctuation">)</span><span class="token punctuation">)</span>

            <span class="token comment">//  \u9875\u9762\u8DF3\u8F6C</span>
            router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/main&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useLoginStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>router.addRoute(&#39;main&#39;, route)</code>\u91CC\u7684 main \u662F\u9700\u8981\u5728\u8DEF\u7531\u8868\u4E2D\u8BBE\u7F6E<code>name</code>\u5C5E\u6027\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/main&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/main/Main.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// \u4EE5\u4E0B\u66FF\u6362\u6210\u52A8\u6001\u6CE8\u518C\u8DEF\u7531\u7684\u65B9\u6CD5(\u4E5F\u53EF\u4EE5\u4E0D\u4F7F\u7528\u5DE5\u5177\u7C7B\uFF0C\u5728\u8FD9\u91CC\u5168\u90E8\u8DEF\u7531\u5199\u6B7B)</span>
      <span class="token comment">// children: [</span>
      <span class="token comment">//   {</span>
      <span class="token comment">//     path: &#39;/main/analysis/overview&#39;,</span>
      <span class="token comment">//     component: () =&gt; import(&#39;../views/main/analysis/overview/overview.vue&#39;)</span>
      <span class="token comment">//   },</span>
      <span class="token comment">//   {</span>
      <span class="token comment">//     path: &#39;/main/analysis/dashboard&#39;,</span>
      <span class="token comment">//     component: () =&gt; import(&#39;../views/main/analysis/dashboard/dashboard.vue&#39;)</span>
      <span class="token comment">//   },</span>
      <span class="token comment">// ]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ....</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6539\u8FDB-\u4F7F\u7528\u5168\u5C40\u52A0\u8F7D\u6570\u636E\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u6539\u8FDB-\u4F7F\u7528\u5168\u5C40\u52A0\u8F7D\u6570\u636E\u65B9\u6CD5" aria-hidden="true">#</a> (\u6539\u8FDB)\u4F7F\u7528\u5168\u5C40\u52A0\u8F7D\u6570\u636E\u65B9\u6CD5</h3><p>\u4E0D\u518D\u4EC5\u9650\u4E8E\u5728\u767B\u5F55\u65F6\u8C03\u7528<code>mapMenuToRoutes</code>\u5DE5\u5177\u7C7B\uFF0C\u800C\u5728\u5168\u5C40\u5F53\u5237\u65B0\u9875\u9762\u65F6\u8C03\u7528\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> useLoginStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ILoginState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        token<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        userInfo<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        userMenus<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ....</span>
            router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/main&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// \u89E3\u51B3\u5237\u65B0\u9875\u9762\u540E\uFF0C\u52A8\u6001\u8DEF\u7531\u4E22\u5931\u7684\u95EE\u9898(\u4E0D\u518D\u662FloginAccountAction\u767B\u5F55\u65F6\u624D\u6267\u884C)</span>
        <span class="token function">loadLocalDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u7528\u6237\u8FDB\u884C\u5237\u65B0\u65F6\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E</span>
            <span class="token keyword">const</span> token <span class="token operator">=</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;token&#39;</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> userInfo <span class="token operator">=</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;userInfo&#39;</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> userMenus <span class="token operator">=</span> localCache<span class="token punctuation">.</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token string">&#39;userMenus&#39;</span><span class="token punctuation">)</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> userInfo <span class="token operator">&amp;&amp;</span> userMenus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> token
                <span class="token keyword">this</span><span class="token punctuation">.</span>userInfo <span class="token operator">=</span> userInfo
                <span class="token keyword">this</span><span class="token punctuation">.</span>userMenus <span class="token operator">=</span> userMenus
                <span class="token comment">// 6.\u6839\u636E\u83DC\u5355menu\u52A8\u6001\u52A0\u8F7D\u8DEF\u7531(\u4F7F\u7528\u5DE5\u5177\u7C7Bmap-menus.ts)</span>
                <span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token function">mapMenuToRoutes</span><span class="token punctuation">(</span>userMenus<span class="token punctuation">)</span>
                <span class="token comment">// \u8FD9\u91CC\u7684&#39;main&#39;\u662F\u6839\u636E\u8DEF\u7531\u91CC\u7684name\u5C5E\u6027\u6765\u7684</span>
                routes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>route <span class="token operator">=&gt;</span> router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span> route<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 App \u7EC4\u4EF6\u4E2D\u8C03\u7528<code>loadLocalDataAction</code>\u65B9\u6CD5\uFF0C\u6CE8\u610F\uFF1A\u6B64\u65B9\u6CD5\u4E00\u5B9A\u8981\u653E\u5728<code>app.router</code>\u4E4B\u524D\u6267\u884C\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>
<span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
loginStore<span class="token punctuation">.</span><span class="token function">loadLocalDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>registerIcons<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u5C06<code>loadLocalDataAction</code>\u65B9\u6CD5\u5C01\u88C5\u8FDB<code>pinia</code>\u5BFC\u51FA\u7684\u5730\u65B9\uFF0C\u4ECE\u800C\u4F7F\u7528<code>app.use()</code>\u65B9\u6CD5\u6CE8\u518C\u8FDB\u5168\u5C40 App \u7EC4\u4EF6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//store/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useLoginStore <span class="token keyword">from</span> <span class="token string">&quot;./login/login&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">registerStore</span><span class="token punctuation">(</span>app<span class="token operator">:</span> App<span class="token operator">&lt;</span>Element<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>

    <span class="token comment">// \u52A0\u8F7D\u672C\u5730\u7F13\u5B58\u6570\u636E</span>
    <span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    loginStore<span class="token punctuation">.</span><span class="token function">loadLocalDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> registerStore

<span class="token comment">// App.vue</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>registerIcons<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FDB\u5165\u4E3B\u9875\u65F6\u5339\u914D\u7B2C\u4E00\u4E2A\u83DC\u5355" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5165\u4E3B\u9875\u65F6\u5339\u914D\u7B2C\u4E00\u4E2A\u83DC\u5355" aria-hidden="true">#</a> \u8FDB\u5165\u4E3B\u9875\u65F6\u5339\u914D\u7B2C\u4E00\u4E2A\u83DC\u5355</h3><p>\u4ECE<code>mapMenuToRoutes</code>\u5DE5\u5177\u7C7B\u4E2D\u83B7\u53D6<code>firstMenu</code>\u7B2C\u4E00\u4E2A\u83DC\u5355\uFF0C\u5728\u8DEF\u7531\u5BFC\u822A\u5B88\u536B\u4E2D\u5224\u65AD\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> firstMenu <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/map-menus&#39;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span> <span class="token comment">// ....</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ....</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&#39;/main&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> firstMenu<span class="token punctuation">.</span>url
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5237\u65B0\u9875\u9762\u65F6-\u83DC\u5355\u9ED8\u8BA4\u503C\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u5237\u65B0\u9875\u9762\u65F6-\u83DC\u5355\u9ED8\u8BA4\u503C\u95EE\u9898" aria-hidden="true">#</a> \u5237\u65B0\u9875\u9762\u65F6\uFF0C\u83DC\u5355\u9ED8\u8BA4\u503C\u95EE\u9898</h3><p>\u6839\u636E\u8DEF\u7531\u7684<code>url</code>\u8DEF\u5F84\uFF0C\u6620\u5C04\u5BF9\u5E94\u83DC\u5355<code>menu</code>\uFF08\u9700\u8981\u4E00\u4E2A\u8DEF\u7531\u6620\u5C04\u83DC\u5355\u7684\u5DE5\u5177\u7C7B\uFF09\uFF0C\u4ECE\u800C\u83B7\u5F97<code>menu</code>\u7684<code>id</code>\u5C5E\u6027\uFF0C\u5C06<code>el-menu</code>\u7EC4\u4EF6\u5C5E\u6027<code>:default-active=&quot;defaultValue&quot;</code>\u7684<code>defaultValue</code>\u52A8\u6001\u7ED1\u5B9A\u7ED9<code>menu.id</code>\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// utils/map-menus.ts</span>
<span class="token comment">/**
 * \u6620\u5C04\u8DEF\u7531\u5230\u83DC\u5355\u5DE5\u5177\u7C7B
 * @param path \u8DEF\u7531url
 * @param menus \u83DC\u5355
 * @returns \u83DC\u5355
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapPathToMenu</span><span class="token punctuation">(</span>menus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> menu <span class="token keyword">of</span> menus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> submenu <span class="token keyword">of</span> menu<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>path <span class="token operator">===</span> submenu<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token keyword">return</span> submenu
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- main-menu.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    // ....
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      &lt;el-menu
        :default-active=&quot;defaultValue&quot;
        // ....
      &gt;
      // .....
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapPathToMenu <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/map-menus&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// .....</span>

<span class="token comment">// 1.\u5B58\u653E\u52A8\u6001\u7684\u83DC\u5355</span>
<span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> userMenus <span class="token operator">=</span> loginStore<span class="token punctuation">.</span>userMenus

<span class="token comment">// 3.\u9875\u9762\u5237\u65B0\u65F6\uFF0C\u6839\u636E\u5F53\u524D\u7684\u8DEF\u7531\u5730\u5740\uFF0C\u8BBE\u7F6E\u9ED8\u8BA4\u9009\u4E2D\u7684\u83DC\u5355\u9879(\u9ED8\u8BA4\u503C\u95EE\u9898)</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> defaultValue <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> currentMenu <span class="token operator">=</span> <span class="token function">mapPathToMenu</span><span class="token punctuation">(</span>userMenus<span class="token punctuation">,</span> route<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
  <span class="token keyword">return</span> currentMenu<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u9762\u5305\u5C51\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u9762\u5305\u5C51\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u9762\u5305\u5C51\u529F\u80FD</h2><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_OrlIEIPhXw.png" alt=""></p><h3 id="\u642D\u5EFA\u9762\u5305\u5C51\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u642D\u5EFA\u9762\u5305\u5C51\u9875\u9762" aria-hidden="true">#</a> \u642D\u5EFA\u9762\u5305\u5C51\u9875\u9762</h3><p>\u4F7F\u7528<code>el-breadcrumb</code>\u642D\u5EFA\u9762\u5305\u5C51\u9875\u9762\uFF0C\u4F7F\u7528\u5DE5\u5177\u7C7B<code>mapPathToBreadCrumb</code>\u5C06\u83DC\u5355<code>menu</code>\u4EE5\u53CA\u5B50\u83DC\u5355<code>submenu</code>\u653E\u5165<code>breadcrumb</code>\u6570\u7EC4\uFF0C\u7528\u4E8E\u52A8\u6001\u904D\u5386<code>el-breadcrumb</code>\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- header-crumb.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-crumb<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-breadcrumb</span> <span class="token attr-name">separator-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ArrowRight<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in breadcrumb<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-breadcrumb-item</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>item.url</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-breadcrumb-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-breadcrumb</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapPathToBreadCrumb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/map-menus&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">import</span> useLoginStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/login/login&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> loginStore <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u8DEF\u5F84\u6539\u53D8\u65F6\uFF0C\u91CD\u65B0\u8BA1\u7B97\u9762\u5305\u5C51</span>
<span class="token keyword">const</span> breadcrumb <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">mapPathToBreadCrumb</span><span class="token punctuation">(</span>loginStore<span class="token punctuation">.</span>userMenus<span class="token punctuation">,</span> route<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8DEF\u7531\u6620\u5C04\u9762\u5305\u5C51\u5DE5\u5177\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u6620\u5C04\u9762\u5305\u5C51\u5DE5\u5177\u7C7B" aria-hidden="true">#</a> \u8DEF\u7531\u6620\u5C04\u9762\u5305\u5C51\u5DE5\u5177\u7C7B</h3><p><code>mapPathToBreadCrumb</code>\u5DE5\u5177\u7C7B</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// map-menus.ts</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapPathToBreadCrumb</span><span class="token punctuation">(</span>menus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> breadCrumb<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> menu <span class="token keyword">of</span> menus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> submenu <span class="token keyword">of</span> menu<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>path <span class="token operator">===</span> submenu<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">{</span>
            breadCrumb<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span>
            breadCrumb<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>submenu<span class="token punctuation">)</span>
            <span class="token keyword">return</span> breadCrumb
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u89E3\u51B3\u70B9\u51FB\u9762\u5305\u5C51\u8DF3\u5230\u76EE\u5F55\u4E0B\u7684\u7B2C\u4E00\u4E2A\u5B50\u76EE\u5F55\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3\u70B9\u51FB\u9762\u5305\u5C51\u8DF3\u5230\u76EE\u5F55\u4E0B\u7684\u7B2C\u4E00\u4E2A\u5B50\u76EE\u5F55\u95EE\u9898" aria-hidden="true">#</a> \u89E3\u51B3\u70B9\u51FB\u9762\u5305\u5C51\u8DF3\u5230\u76EE\u5F55\u4E0B\u7684\u7B2C\u4E00\u4E2A\u5B50\u76EE\u5F55\u95EE\u9898</h3><p><code>el-breadcrumb</code>\u7684<code>:to=item.url</code>\u5C5E\u6027\u95EE\u9898\uFF0C\u4FEE\u6539\u5DE5\u5177\u7C7B<code>mapMenuToRoutes</code>\u5C06\u6839\u76EE\u5F55\u8DEF\u5F84\u91CD\u5B9A\u5411\u5230\u6839\u76EE\u5F55\u4E0B\u7684\u7B2C\u4E00\u4E2A\u5B50\u76EE\u5F55\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapMenuToRoutes</span><span class="token punctuation">(</span>menus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">const</span> finalRoutes<span class="token operator">:</span> RouteRecordRaw<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> menu <span class="token keyword">of</span> menus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> submenu <span class="token keyword">of</span> menu<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ....</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// \u7ED9route\u7684\u9876\u5C42\u83DC\u5355\u589E\u52A0\u91CD\u5B9A\u5411\u529F\u80FD\uFF08\u4F46\u662F\u53EA\u9700\u8981\u6DFB\u52A0\u4E00\u6B21\u5373\u53EF\uFF09</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>finalRoutes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>path <span class="token operator">===</span> route<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    finalRoutes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> menu<span class="token punctuation">.</span>url<span class="token punctuation">,</span> redirect<span class="token operator">:</span> route<span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                finalRoutes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// \u8BB0\u5F55\u7B2C\u4E00\u4E2A\u88AB\u5339\u914D\u83DC\u5355</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>firstMenu <span class="token operator">&amp;&amp;</span> route<span class="token punctuation">)</span> firstMenu <span class="token operator">=</span> submenu
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> finalRoutes
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u4E3B\u9875\u4E2D\u90E8-main-\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u4E3B\u9875\u4E2D\u90E8-main-\u9875\u9762" aria-hidden="true">#</a> \u5B9E\u73B0\u4E3B\u9875\u4E2D\u90E8 main \u9875\u9762</h2><p>\u4E3B\u4F53\u9875\u9762<code>main</code>\u4E2D\u5305\u62EC\u4E09\u4E2A\u90E8\u5206\u8868\u8FBE\u641C\u7D22\u6846<code>search</code>\u3001\u5185\u5BB9\u90E8\u5206\u7684\u5934\u90E8\u53CA\u8868\u683C\u6570\u636E\u3002</p><h3 id="\u5B9E\u73B0-search-\u8868\u5355\u641C\u7D22\u6846\u754C\u9762" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0-search-\u8868\u5355\u641C\u7D22\u6846\u754C\u9762" aria-hidden="true">#</a> \u5B9E\u73B0 search \u8868\u5355\u641C\u7D22\u6846\u754C\u9762</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_8g3h9E3Wpj.png" alt=""></p><h4 id="\u642D\u5EFA\u9759\u6001-search-\u8868\u5355\u641C\u7D22\u6846\u754C\u9762" tabindex="-1"><a class="header-anchor" href="#\u642D\u5EFA\u9759\u6001-search-\u8868\u5355\u641C\u7D22\u6846\u754C\u9762" aria-hidden="true">#</a> \u642D\u5EFA\u9759\u6001 search \u8868\u5355\u641C\u7D22\u6846\u754C\u9762</h4><p>\u901A\u8FC7<code>layout</code>\u5E03\u5C40\u7EC4\u4EF6\u4E2D\u7684<code>el-row</code>\u548C<code>el-col</code>\u5BF9\u6BCF\u884C\u6BCF\u5217\u505A\u5E03\u5C40\uFF0C\u4F7F\u7528<code>el-form</code>\u8868\u5355\u7EC4\u4EF6\u5305\u542B\u7684<code>el-input</code>\u8F93\u5165\u6846\u3001<code>el-select</code>\u4E0B\u62C9\u9009\u62E9\u4EE5\u53CA<code>el-date-picker</code>\u65E5\u671F\u9009\u62E9\u5668\u5B9E\u73B0\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- user/cpns/user-search.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">:gutter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u7528\u6237\u540D<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u7528\u6237\u540D<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u771F\u5B9E\u59D3\u540D<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u771F\u5B9E\u59D3\u540D<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u7535\u8BDD\u53F7\u7801<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u7535\u8BDD\u53F7\u7801<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- \u53E6\u8D77\u4E00\u884C --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u72B6\u6001<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u9009\u62E9\u67E5\u8BE2\u7684\u72B6\u6001<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u542F\u7528<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u7981\u7528<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u521B\u5EFA\u65F6\u95F4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-date-picker</span>
                        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>daterange<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">range-separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">start-placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5F00\u59CB\u65F6\u95F4<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">end-placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u7ED3\u675F\u65F6\u95F4<span class="token punctuation">&quot;</span></span>
                    <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Refresh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u91CD\u7F6E<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Search<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u641C\u7D22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.search</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>

    <span class="token selector">.el-form-item</span> <span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.btns</span> <span class="token punctuation">{</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0 50px 10px 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,151),b=s("\u5BF9\u65E5\u671F\u9009\u62E9\u5668\u91CC\u7684\u65E5\u671F\u5B9E\u73B0\u56FD\u9645\u5316\u3002"),g={href:"https://element-plus.gitee.io/zh-CN/guide/i18n.html",target:"_blank",rel:"noopener noreferrer"},y=s("Element Plus"),f=s(" \u63D0\u4F9B\u4E86\u4E00\u4E2A Vue \u7EC4\u4EF6 "),h={href:"https://element-plus.gitee.io/en-US/component/config-provider.html",target:"_blank",rel:"noopener noreferrer"},q=s("ConfigProvider"),w=s(" \uFF08"),x=n("code",null,"el-config-provider",-1),C=s("\uFF09\u7528\u4E8E\u5168\u5C40\u914D\u7F6E\u56FD\u9645\u5316\u7684\u8BBE\u7F6E\u3002\uFF08\u9700\u8981\u5305\u88F9 App \u7EC4\u4EF6\uFF09\u5E76\u5728"),S=n("code",null,"env.d.ts",-1),R=s("\u4E2D\u58F0\u660E"),D=n("code",null,".mjs",-1),I=s("\u6587\u4EF6"),A=p(`<div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- App.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- \u56FD\u9645\u5316\u914D\u7F6E\uFF08\u5C06\u7EC4\u4EF6\u4E2D\u7684\u82F1\u6587\u8F6C\u4E3A\u4E2D\u6587-&gt;\u65E5\u671F\u7EC4\u4EF6\uFF09 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-config-provider</span> <span class="token attr-name">:locale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhCn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-config-provider</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&#39;element-plus/dist/locale/zh-cn.mjs&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// env.d.ts
declare module &#39;*.vue&#39; {
    import { DefineComponent } from &#39;vue&#39;
    const component: DefineComponent
    export default component
}

// \u58F0\u660E\u56FD\u9645\u5316\u914D\u7F6E\u6587\u4EF6mjs
declare module &#39;*.mjs&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B9E\u73B0\u91CD\u7F6E\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u91CD\u7F6E\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u91CD\u7F6E\u529F\u80FD</h4><p><code>el-form</code>\u8868\u5355\u7EC4\u4EF6\u8981\u60F3\u8F93\u5165\u503C\uFF0C\u9700\u8981\u4F7F\u7528<code>reactive()</code>\u548C<code>:model</code>\u7ED1\u5B9A\u503C\uFF0C\u5E76\u4E14\u5728\u76F8\u5E94\u7684\u7EC4\u4EF6\u5982<code>el-input</code>\u4F7F\u7528<code>v-model</code>\u7ED1\u5B9A<code>reactive</code>\u91CC\u9762\u5BF9\u5E94\u7684\u503C\u3002\u91CD\u7F6E\u503C\u8C03\u7528<code>formRef.value?.resetFields()</code>\u65B9\u6CD5\uFF08<code>formRef</code>\u7ED1\u5B9A\u5230<code>el-form</code>\u4E0A\uFF0C<code>el-form-item</code>\u4E0A\u6DFB\u52A0\u5C5E\u6027<code>prop=&quot;xxx&quot;</code>\u5373\u53EF\u5B9E\u73B0\uFF09</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;search&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">**</span><span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;searchForm&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;formRef&quot;</span><span class="token operator">**</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;120px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;20&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;8&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u7528\u6237\u540D&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>input <span class="token operator">**</span>v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;searchForm.name&quot;</span><span class="token operator">**</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u7528\u6237\u540D&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
    <span class="token comment">// ....</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btns&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;Refresh&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleResetClick()&quot;</span><span class="token operator">&gt;</span>\u91CD\u7F6E<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;Search&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span><span class="token operator">&gt;</span>\u641C\u7D22<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ElForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> searchForm <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    realname<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    cellphone<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    enable<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    createAt<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u91CD\u7F6E\u529F\u80FD</span>
<span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> ElForm<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65B9\u6CD5\u4E00</span>
    <span class="token comment">// searchForm.name = &#39;&#39;</span>
    <span class="token comment">// searchForm.realname = &#39;&#39;</span>
    <span class="token comment">// searchForm.cellphone = &#39;&#39;</span>
    <span class="token comment">// searchForm.enable = 1</span>
    <span class="token comment">// searchForm.createAt = &#39;&#39;</span>

    <span class="token comment">// \u65B9\u6CD5\u4E8C</span>
    formRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5C55\u793A\u7528\u6237\u5217\u8868\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5C55\u793A\u7528\u6237\u5217\u8868\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u5C55\u793A\u7528\u6237\u5217\u8868\u529F\u80FD</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_QJax7-SQRM.png" alt=""></p><h4 id="\u4F7F\u7528-pinia-\u53D1\u8D77\u83B7\u53D6\u7528\u6237\u6570\u636E\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-pinia-\u53D1\u8D77\u83B7\u53D6\u7528\u6237\u6570\u636E\u8BF7\u6C42" aria-hidden="true">#</a> \u4F7F\u7528 pinia \u53D1\u8D77\u83B7\u53D6\u7528\u6237\u6570\u636E\u8BF7\u6C42</h4><p>\u7F16\u5199<code>axios</code>\u8BF7\u6C42\u63A5\u53E3\uFF08\u4F7F\u7528\u4E86<code>hyRequest</code>\u8FDB\u884C\u4E86\u5C01\u88C5\uFF0C\u76F4\u63A5\u8C03\u7528\u5373\u53EF\uFF09</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;@/service&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \u83B7\u53D6\u7528\u6237\u5217\u8868\u6570\u636E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/users/list&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
            offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            size<span class="token operator">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7F16\u5199<code>pinia</code>\u8FDB\u884C\u6570\u636E\u5B58\u50A8</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getUserListData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/system/system&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ISystemState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./type&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useSystemStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;system&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4F7F\u7528typescript\u8FDB\u884C\u7C7B\u578B\u9650\u5236</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">**</span>ISystemState<span class="token operator">**</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        usersList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        usersTotalCount<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">getUsersListAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u8C03\u7528axios\u8BF7\u6C42</span>
            <span class="token keyword">const</span> userListResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span> totalCount<span class="token punctuation">,</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> userListResult<span class="token punctuation">.</span>data
            <span class="token comment">// \u5B58\u5165store\u4E2D</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>usersList <span class="token operator">=</span> list
            <span class="token keyword">this</span><span class="token punctuation">.</span>usersTotalCount <span class="token operator">=</span> totalCount
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useSystemStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528<code>typescript</code>\u8FDB\u884C\u7C7B\u578B\u9650\u5236</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// type.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IUser</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token builtin">number</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    realname<span class="token operator">:</span> <span class="token builtin">string</span>
    cellphone<span class="token operator">:</span> <span class="token builtin">number</span>
    enable<span class="token operator">:</span> <span class="token builtin">number</span>
    departmentId<span class="token operator">:</span> <span class="token builtin">number</span>
    roleId<span class="token operator">:</span> <span class="token builtin">number</span>
    createAt<span class="token operator">:</span> <span class="token builtin">string</span>
    updateAt<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISystemState</span> <span class="token punctuation">{</span>
    usersList<span class="token operator">:</span> IUser<span class="token punctuation">[</span><span class="token punctuation">]</span>
    usersTotalCount<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7528\u6237\u5217\u8868\u9875\u9762\uFF08<code>user-content.vue</code>\uFF09\u4E2D\u8C03\u7528<code>pinia</code>\u4E2D\u7684<code>getUsersListAction</code>\uFF0C\u4ECE\u800C\u53D1\u8D77\u8BF7\u6C42\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user-content.vue</span>
<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/system/system&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 1.\u53D1\u8D77action\uFF0C\u8BF7\u6C42usersList\u6570\u636E</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
systemStore<span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.\u83B7\u53D6usersList\u6570\u636E(\u54CD\u5E94\u5F0F\u6570\u636E\uFF1A\u4E0A\u9762\u4EE3\u7801\u662F\u5F02\u6B65\u7684\uFF0C\u5F53\u6570\u636E\u8FD8\u6CA1\u62FF\u5230\u662F\uFF0C\u8FD9\u4E00\u53E5\u4E0D\u8D77\u4F5C\u7528\uFF0C\u9700\u8981\u7528storeToRefs)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> usersList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>systemStore<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u521D\u6B65\u642D\u5EFA\u8868\u683C\u6570\u636E\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u521D\u6B65\u642D\u5EFA\u8868\u683C\u6570\u636E\u9875\u9762" aria-hidden="true">#</a> \u521D\u6B65\u642D\u5EFA\u8868\u683C\u6570\u636E\u9875\u9762</h4><p>\u4F7F\u7528<code>el-table</code>\u53CA<code>el-table-column</code>\u642D\u5EFA\u8868\u683C\u6570\u636E\u9875\u9762\uFF0C<code>prop</code>\u5BF9\u5E94\u8BF7\u6C42\u6570\u636E\u4E2D\u76F8\u5E94\u7684\u5C5E\u6027\uFF0C<code>type</code>\u4E3A<code>selection</code>\u5C55\u793A\u52FE\u9009\u6846\uFF0C<code>type</code>\u4E3A<code>index</code>\u5C55\u793A\u7D22\u5F15\u503C\u3002<code>el-table-column</code>\u53EF\u4F5C\u4E3A\u63D2\u69FD\u4F20\u5165\u5176\u5B83\u7EC4\u4EF6\uFF0C<code>:data</code>\u4F20\u5165\u8BF7\u6C42\u8FD4\u56DE\u7684\u6570\u636E\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>\u7528\u6237\u5217\u8868<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span><span class="token operator">&gt;</span>\u65B0\u5EFA\u7528\u6237<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;usersList&quot;</span> border style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u52FE\u9009\u6846 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;selection&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;50px&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5E8F\u53F7 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u5E8F\u53F7&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;60px&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;name&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u7528\u6237\u540D&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;150px&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;realname&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u771F\u5B9E\u59D3\u540D&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;150px&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;cellphone&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u7535\u8BDD\u53F7\u7801&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;150px&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;enable&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u72B6\u6001&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;100px&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;createAt&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u521B\u5EFA\u65F6\u95F4&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;updateAt&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u66F4\u65B0\u65F6\u95F4&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u64CD\u4F5C&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;150px&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> text<span class="token operator">&gt;</span>\u7F16\u8F91<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger &quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> text<span class="token operator">&gt;</span>\u5220\u9664<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pagination&quot;</span><span class="token operator">&gt;</span>\u5206\u9875<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/system/system&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 1.\u53D1\u8D77action\uFF0C\u8BF7\u6C42usersList\u6570\u636E</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
systemStore<span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.\u83B7\u53D6usersList\u6570\u636E(\u54CD\u5E94\u5F0F\u6570\u636E\uFF1A\u4E0A\u9762\u4EE3\u7801\u662F\u5F02\u6B65\u7684\uFF0C\u5F53\u6570\u636E\u8FD8\u6CA1\u62FF\u5230\u662F\uFF0C\u8FD9\u4E00\u53E5\u4E0D\u8D77\u4F5C\u7528\uFF0C\u9700\u8981\u7528storeToRefs)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> usersList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>systemStore<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>usersList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>content <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
    padding<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>header <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 20px<span class="token punctuation">;</span>

    <span class="token punctuation">.</span>title <span class="token punctuation">{</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> 22px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>table <span class="token punctuation">{</span>
    <span class="token operator">:</span><span class="token function">deep</span><span class="token punctuation">(</span><span class="token punctuation">.</span>el<span class="token operator">-</span>table__cell<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        padding<span class="token operator">:</span> 12px <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>el<span class="token operator">-</span>button <span class="token punctuation">{</span>
        margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        padding<span class="token operator">:</span> 5px 8px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528\u4F5C\u7528\u57DF\u63D2\u69FD\u5904\u7406\u8868\u683C\u6570\u636E\u4E2D\u7684\u72B6\u6001\u4EE5\u53CA\u65F6\u95F4\u683C\u5F0F\u5316" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u4F5C\u7528\u57DF\u63D2\u69FD\u5904\u7406\u8868\u683C\u6570\u636E\u4E2D\u7684\u72B6\u6001\u4EE5\u53CA\u65F6\u95F4\u683C\u5F0F\u5316" aria-hidden="true">#</a> \u4F7F\u7528\u4F5C\u7528\u57DF\u63D2\u69FD\u5904\u7406\u8868\u683C\u6570\u636E\u4E2D\u7684\u72B6\u6001\u4EE5\u53CA\u65F6\u95F4\u683C\u5F0F\u5316</h4><p>\u79D1\u666E\uFF1A\u4F5C\u7528\u57DF\u63D2\u69FD\uFF08\u5B50\u7EC4\u4EF6\u63D0\u4F9B\u5185\u5BB9\uFF08\u6570\u636E\uFF09\uFF0C\u5728\u7236\u7EC4\u4EF6\u4E2D\u5C55\u793A\uFF0C\u5EF6\u4F38\u4E86\u5B50\u7EC4\u4EF6\u7684\u4F5C\u7528\u57DF\uFF09\uFF0C\u63D2\u69FD\uFF08\u7236\u7EC4\u4EF6\u63D0\u4F9B\u5185\u5BB9\uFF0C\u5728\u5B50\u7EC4\u4EF6\u4E2D\u5C55\u793A\uFF09</p><p><strong>\u5904\u7406\u72B6\u6001\u5C5E\u6027</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// ....</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;enable&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u72B6\u6001&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;100px&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u4F5C\u7528\u57DF\u63D2\u69FD <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;{ row }&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> <span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;row.enable ? &#39;primary&#39; : &#39;danger&#39;&quot;</span> plain<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token punctuation">{</span> row<span class="token punctuation">.</span>enable <span class="token operator">?</span> <span class="token string">&#39;\u542F\u7528&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;\u7981\u7528&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token comment">//&lt;template #default=&quot;scope&quot;&gt;</span>
    <span class="token comment">//    &lt;el-button size=&quot;small&quot; :type=&quot;scope.row.enable ? &#39;primary&#39; : &#39;danger&#39;&quot; plain&gt;</span>
    <span class="token comment">//        {{ scope.row.enable ? &#39;\u542F\u7528&#39; : &#39;\u7981\u7528&#39; }}</span>
    <span class="token comment">//    &lt;/el-button&gt;</span>
    <span class="token comment">//&lt;/template&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
<span class="token comment">// ....</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5904\u7406\u65F6\u95F4\u683C\u5F0F</strong></p><p>\u5B89\u88C5 dayjs\uFF1A<code>npm install dayjs</code></p><p>\u5C01\u88C5\u65F6\u95F4\u683C\u5F0F\u5316\u5DE5\u5177<code>format.ts</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">&#39;dayjs&#39;</span>
<span class="token keyword">import</span> utc <span class="token keyword">from</span> <span class="token string">&#39;dayjs/plugin/utc&#39;</span>

dayjs<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>utc<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formatUTC</span><span class="token punctuation">(</span>utcString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> format <span class="token operator">=</span> <span class="token string">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// utcOffset\u4E1C\u516B\u533A\u504F\u79FB8\u5C0F\u65F6</span>
    <span class="token keyword">return</span> dayjs<span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span>utcString<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">utcOffset</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4F5C\u7528\u57DF\u63D2\u69FD\u4E2D\u4F7F\u7528<code>formatUTC</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// ...</span>
<span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;createAt&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u521B\u5EFA\u65F6\u95F4&quot;</span> <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">formatUTC</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span>row<span class="token punctuation">.</span>createAt<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatUTC <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/format&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5206\u9875\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5206\u9875\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u5206\u9875\u529F\u80FD</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_N1AqUvRrLC.png" alt=""></p><h4 id="\u4ECE\u8BF7\u6C42\u63A5\u53E3\u4E2D\u83B7\u53D6offset\u548Csize\u5206\u9875\u6570\u636E\u3002" tabindex="-1"><a class="header-anchor" href="#\u4ECE\u8BF7\u6C42\u63A5\u53E3\u4E2D\u83B7\u53D6offset\u548Csize\u5206\u9875\u6570\u636E\u3002" aria-hidden="true">#</a> \u4ECE\u8BF7\u6C42\u63A5\u53E3\u4E2D\u83B7\u53D6<code>offset</code>\u548C<code>size</code>\u5206\u9875\u6570\u636E\u3002</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;@/service&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \u83B7\u53D6\u7528\u6237\u5217\u8868\u6570\u636E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserListData</span><span class="token punctuation">(</span>queryInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/users/list&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> queryInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570\u4F20\u9012" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570\u4F20\u9012" aria-hidden="true">#</a> \u53C2\u6570\u4F20\u9012</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> useSystemStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;system&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">getUsersListAction</span><span class="token punctuation">(</span>queryInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u8C03\u7528axios\u8BF7\u6C42</span>
            <span class="token keyword">const</span> userListResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserListData</span><span class="token punctuation">(</span>queryInfo<span class="token punctuation">)</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span> totalCount<span class="token punctuation">,</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> userListResult<span class="token punctuation">.</span>data
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> useSystemStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528el-pagination\u5B8C\u6210\u9875\u9762\u642D\u5EFA\u3002" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528el-pagination\u5B8C\u6210\u9875\u9762\u642D\u5EFA\u3002" aria-hidden="true">#</a> \u4F7F\u7528<code>el-pagination</code>\u5B8C\u6210\u9875\u9762\u642D\u5EFA\u3002</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user-content.vue</span>
<span class="token comment">// ....</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pagination&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
      v<span class="token operator">-</span>model<span class="token operator">:</span>current<span class="token operator">-</span>page<span class="token operator">=</span><span class="token string">&quot;currentPage&quot;</span>
      v<span class="token operator">-</span>model<span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">&quot;pageSize&quot;</span>
      <span class="token operator">:</span>page<span class="token operator">-</span>sizes<span class="token operator">=</span><span class="token string">&quot;[10, 20, 30]&quot;</span>
      <span class="token operator">:</span>small<span class="token operator">=</span><span class="token string">&quot;small&quot;</span>
      layout<span class="token operator">=</span><span class="token string">&quot;sizes, prev, pager, next, jumper, total&quot;</span>
      <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">&quot;usersTotalCount&quot;</span>
      <span class="token decorator"><span class="token at operator">@</span><span class="token function">size</span></span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">&quot;handleSizeChange&quot;</span>
      <span class="token decorator"><span class="token at operator">@</span><span class="token function">current</span></span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">&quot;handleCurrentChange&quot;</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 1.\u53D1\u8D77action\uFF0C\u8BF7\u6C42usersList\u548C\u5206\u9875\u6570\u636E</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> currentPage <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> pageSize <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">fetchUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.\u83B7\u53D6usersList\u548CusersTotalCount\u6570\u636E(\u54CD\u5E94\u5F0F\u6570\u636E\uFF1A\u4E0A\u9762\u4EE3\u7801\u662F\u5F02\u6B65\u7684\uFF0C\u5F53\u6570\u636E\u8FD8\u6CA1\u62FF\u5230\u662F\uFF0C\u8FD9\u4E00\u53E5\u4E0D\u8D77\u4F5C\u7528\uFF0C\u9700\u8981\u7528storeToRefs)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> usersList<span class="token punctuation">,</span> usersTotalCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>systemStore<span class="token punctuation">)</span>

<span class="token comment">// 3.\u5206\u9875\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleSizeChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetchUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleCurrentChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetchUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 4.\u5B9A\u4E49\u51FD\u6570\uFF0C\u7528\u4E8E\u53D1\u9001\u7F51\u7EDC\u8BF7\u6C42</span>
<span class="token keyword">function</span> <span class="token function">fetchUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> size <span class="token operator">=</span> pageSize<span class="token punctuation">.</span>value
    <span class="token keyword">const</span> offset <span class="token operator">=</span> <span class="token punctuation">(</span>currentPage<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> size
    <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">,</span> offset<span class="token punctuation">}</span>

    <span class="token comment">// \u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42</span>
    systemStore<span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>pagination <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> flex<span class="token operator">-</span>end<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u67E5\u8BE2\u7528\u6237\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u67E5\u8BE2\u7528\u6237\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u67E5\u8BE2\u7528\u6237\u529F\u80FD</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_-2ElEwJZek.png" alt=""></p><h4 id="\u901A\u8FC7\u4E8B\u4EF6\u5C06\u8868\u5355\u5185\u5BB9\u4F20\u9012\u7ED9\u7236\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7\u4E8B\u4EF6\u5C06\u8868\u5355\u5185\u5BB9\u4F20\u9012\u7ED9\u7236\u7EC4\u4EF6" aria-hidden="true">#</a> \u901A\u8FC7\u4E8B\u4EF6\u5C06\u8868\u5355\u5185\u5BB9\u4F20\u9012\u7ED9\u7236\u7EC4\u4EF6</h4><p>\u5B50\u4F20\u7236\uFF1A\u4F7F\u7528<code>const emit = defineEmits(&#39;xxx&#39;)</code>\uFF0C<code>emit(&#39;xxx&#39;)</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user-search.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btns&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;Refresh&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleResetClick()&quot;</span><span class="token operator">&gt;</span>\u91CD\u7F6E<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;Search&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span> <span class="token operator">=</span> <span class="token string">&quot;handleQueryClick()&quot;</span><span class="token operator">&gt;</span>\u641C\u7D22<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ElForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;queryClick&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;resetClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> searchForm <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    realname<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    cellphone<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    enable<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    createAt<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u91CD\u7F6E\u529F\u80FD</span>
<span class="token comment">// ...</span>

<span class="token comment">// \u641C\u7D22\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleQueryClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u901A\u8FC7\u4E8B\u4EF6\u629B\u51FA\uFF08\u5B50\u4F20\u7236\uFF09</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;queryClick&#39;</span><span class="token punctuation">,</span> searchForm<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u63A5\u53D7\u4E8B\u4EF6\u5E76\u8C03\u7528\u53E6\u4E00\u4E2A\u5B50\u7EC4\u4EF6\u66B4\u9732\u7684\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u63A5\u53D7\u4E8B\u4EF6\u5E76\u8C03\u7528\u53E6\u4E00\u4E2A\u5B50\u7EC4\u4EF6\u66B4\u9732\u7684\u51FD\u6570" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u63A5\u53D7\u4E8B\u4EF6\u5E76\u8C03\u7528\u53E6\u4E00\u4E2A\u5B50\u7EC4\u4EF6\u66B4\u9732\u7684\u51FD\u6570</h4><p>\u5B50\u4F20\u7236\u4E5F\u53EF\u4EE5\u7528<code>defineExpose()</code>\uFF0C\u8FD9\u91CC<code>user-content</code>\u5B50\u7EC4\u4EF6\u4F7F\u7528\u6B64\u51FD\u6570\u63A5\u53D7\u7236\u7EC4\u4EF6\uFF08\u7531<code>user-search</code>\u4F20\u8FC7\u6765\uFF09\u4F20\u8FC7\u6765\u7684<code>searchForm</code>\u4FE1\u606F\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>user<span class="token operator">-</span>search <span class="token decorator"><span class="token at operator">@</span><span class="token function">query</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleQueryClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">reset</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleResetClick&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>user<span class="token operator">-</span>content ref<span class="token operator">=</span><span class="token string">&quot;contentRef&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> userContent <span class="token keyword">from</span> <span class="token string">&#39;./cpns/user-content.vue&#39;</span>
<span class="token keyword">import</span> userSearch <span class="token keyword">from</span> <span class="token string">&#39;./cpns/user-search.vue&#39;</span>

<span class="token keyword">const</span> contentRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> userContent<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleQueryClick</span><span class="token punctuation">(</span>searchInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  contentRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">fetchUserListData</span><span class="token punctuation">(</span>searchInfo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  contentRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">fetchUserListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token comment">// 4.\u5B9A\u4E49\u51FD\u6570\uFF0C\u7528\u4E8E\u53D1\u9001\u7F51\u7EDC\u8BF7\u6C42</span>
<span class="token keyword">function</span> <span class="token function">fetchUserListData</span><span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> size <span class="token operator">=</span> pageSize<span class="token punctuation">.</span>value
    <span class="token keyword">const</span> offset <span class="token operator">=</span> <span class="token punctuation">(</span>currentPage<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> size
    <span class="token keyword">const</span> pageInfo <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">,</span> offset<span class="token punctuation">}</span>

    <span class="token keyword">const</span> queryInfo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>formData<span class="token punctuation">,</span> <span class="token operator">...</span>pageInfo <span class="token punctuation">}</span>
    <span class="token comment">// \u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42</span>
    systemStore<span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span>queryInfo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u66B4\u9732\u51FD\u6570\u7ED9\u7236\u7EC4\u4EF6</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    fetchUserListData
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5220\u9664\u7528\u6237\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5220\u9664\u7528\u6237\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u5220\u9664\u7528\u6237\u529F\u80FD</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_JyyGiGUc-9.png" alt=""></p><p>\u901A\u8FC7\u4F5C\u7528\u57DF\u63D2\u69FD\u83B7\u53D6\u5F53\u524D\u70B9\u51FB\u5220\u9664\u6309\u94AE\u90A3\u4E00\u884C\u7684\u7528\u6237<code>id</code>\uFF0C\u5373<code>scope.row.id</code>\uFF0C\u5C06<code>id</code>\u4F20\u5165\u7528\u6237\u5220\u9664\u63A5\u53E3\u3002</p><h4 id="\u5C01\u88C5\u5220\u9664\u7528\u6237\u6570\u636E\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u5220\u9664\u7528\u6237\u6570\u636E\u63A5\u53E3" aria-hidden="true">#</a> \u5C01\u88C5\u5220\u9664\u7528\u6237\u6570\u636E\u63A5\u53E3</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;@/service&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token comment">// \u5220\u9664\u7528\u6237\u6570\u636E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deleteUserData</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="pinia-\u4E2D\u8C03\u7528\u63A5\u53E3\u7684-actions" tabindex="-1"><a class="header-anchor" href="#pinia-\u4E2D\u8C03\u7528\u63A5\u53E3\u7684-actions" aria-hidden="true">#</a> pinia \u4E2D\u8C03\u7528\u63A5\u53E3\u7684 actions</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> useSystemStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;system&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ISystemState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        <span class="token comment">// \u5220\u9664\u7528\u6237\u6570\u636E</span>
        <span class="token keyword">async</span> <span class="token function">deleteUserDataAction</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u8C03\u7528axios\u8BF7\u6C42</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">deleteUserData</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
            <span class="token comment">// \u91CD\u65B0\u8BF7\u6C42\u6570\u636E\u5237\u65B0\u9875\u9762</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useSystemStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9875\u9762\u4E2D\u83B7\u53D6-id-\u4F20\u5165-actions" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u4E2D\u83B7\u53D6-id-\u4F20\u5165-actions" aria-hidden="true">#</a> \u9875\u9762\u4E2D\u83B7\u53D6 id \u4F20\u5165 actions</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
      <span class="token comment">// ...</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;usersList&quot;</span> border style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
            <span class="token comment">// ...</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u64CD\u4F5C&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;150px&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> text<span class="token operator">&gt;</span>\u7F16\u8F91<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> text <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleDeleteClick(scope.row.id)&quot;</span><span class="token operator">&gt;</span>\u5220\u9664<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/system/system&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u5220\u9664\u7528\u6237\u6570\u636E</span>
<span class="token keyword">function</span> <span class="token function">handleDeleteClick</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    systemStore<span class="token punctuation">.</span><span class="token function">deleteUserDataAction</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u65B0\u589E\u7528\u6237\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u65B0\u589E\u7528\u6237\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u65B0\u589E\u7528\u6237\u529F\u80FD</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_YsaeThWQO2.png" alt=""></p><p>\u7531\u4E8E\u65B0\u5EFA\u7528\u6237\u6309\u94AE\u5728<code>user-content.vue</code>\u9875\u9762\u4E2D\uFF0C\u4E0E<code>user-modal.vue</code>\u662F\u5144\u5F1F\u7EC4\u4EF6\uFF0C\u9700\u8981\u7528\u5230\u7EC4\u4EF6\u901A\u4FE1\uFF0C\u7531<code>user-content.vue</code>\u53D1\u8D77\u4E8B\u4EF6<code>defineEmits()</code></p><h4 id="\u521D\u6B65\u642D\u5EFA\u6A21\u6001\u6846\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u521D\u6B65\u642D\u5EFA\u6A21\u6001\u6846\u9875\u9762" aria-hidden="true">#</a> \u521D\u6B65\u642D\u5EFA\u6A21\u6001\u6846\u9875\u9762</h4><p>\u4F7F\u7528<code>el-dialog</code>\u7EC4\u4EF6\u5B9E\u73B0\uFF0C<code>v-model</code>\u7ED1\u5B9A\u6A21\u6001\u6846\u7684<code>dialogVisible</code>\u53EF\u89C1\u503C\uFF0C\u5C01\u88C5\u5230\u51FD\u6570\u4E2D\uFF0C\u5C06\u5176\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user-modal.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> title<span class="token operator">=</span><span class="token string">&quot;\u65B0\u5EFA\u7528\u6237&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;30%&quot;</span> center<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;80px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u7528\u6237\u540D&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.name&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u7528\u6237\u540D&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u771F\u5B9E\u59D3\u540D&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;realname&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.realname&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u5BC6\u7801&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.password&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u5BC6\u7801&quot;</span> show<span class="token operator">-</span>password<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u7535\u8BDD\u53F7\u7801&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;cellphone&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.cellphone&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u9009\u62E9\u89D2\u8272&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;roleId&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.roleId&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u9009\u62E9\u89D2\u8272&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u9009\u62E9\u90E8\u95E8&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;departmentId&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.departmentId&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u9009\u62E9\u90E8\u95E8&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template #footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dialog-footer&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;dialogVisible = false&quot;</span><span class="token operator">&gt;</span>\u53D6\u6D88<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;dialogVisible = false&quot;</span><span class="token operator">&gt;</span>\u786E\u5B9A<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dialogVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    realname<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    cellphone<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    roleId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    departmentId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    setDialogVisible
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u70B9\u51FB\u65B0\u5EFA\u7528\u6237\u6309\u94AE\u53D1\u8D77\u7EC4\u4EF6\u901A\u4FE1</strong></p><p>\u4F7F\u7528<code>defineEmits</code>\u53D1\u8D77\u70B9\u51FB\u4E8B\u4EF6\u4F20\u9012\u7ED9\u7236\u7EC4\u4EF6<code>user.vue</code>\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user-content.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>\u7528\u6237\u5217\u8868<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleNewData&quot;</span><span class="token operator">&gt;</span>\u65B0\u5EFA\u7528\u6237<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;usersList&quot;</span> border style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
           <span class="token comment">// ...</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 6.\u65B0\u5EFA\u7528\u6237\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleNewData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u7236\u7EC4\u4EF6\u83B7\u53D6\u4E8B\u4EF6</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>user<span class="token operator">-</span>content ref<span class="token operator">=</span><span class="token string">&quot;contentRef&quot;</span> @<span class="token keyword">new</span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleNewDataClick&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>user<span class="token operator">-</span>modal ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> userModal <span class="token keyword">from</span> <span class="token string">&#39;./cpns/user-modal.vue&#39;</span>

<span class="token keyword">const</span> modalRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> userModal<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u65B0\u589E\u7528\u6237\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleNewDataClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5168\u5C40\u5C01\u88C5\u83B7\u53D6\u89D2\u8272\u548C\u90E8\u95E8\u7684\u8BF7\u6C42\u63A5\u53E3\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5168\u5C40\u5C01\u88C5\u83B7\u53D6\u89D2\u8272\u548C\u90E8\u95E8\u7684\u8BF7\u6C42\u63A5\u53E3\u6570\u636E" aria-hidden="true">#</a> \u5168\u5C40\u5C01\u88C5\u83B7\u53D6\u89D2\u8272\u548C\u90E8\u95E8\u7684\u8BF7\u6C42\u63A5\u53E3\u6570\u636E</h4><p><code>service</code>\u5C42\u4F7F\u7528<code>hyRequest</code>\u5C01\u88C5\u63A5\u53E3\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// serivce/main.ts</span>
<span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;..&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getEntireRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&quot;/role/list&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getEntireDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&quot;/department/list&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>pinia</code>\u8C03\u7528\u63A5\u53E3\u5B58\u50A8\u5728\u672C\u5730<code>store</code>\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getEntireDepartments<span class="token punctuation">,</span> getEntireRoles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/main&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IMainState</span> <span class="token punctuation">{</span>
    entireRoles<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    entireDepartments<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> useMainStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IMainState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        entireRoles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        entireDepartments<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">fetchEntireDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> rolesResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getEntireRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> departmentResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getEntireDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>entireRoles <span class="token operator">=</span> rolesResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>list
            <span class="token keyword">this</span><span class="token punctuation">.</span>entireDepartments <span class="token operator">=</span> departmentResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>list
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> useMainStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u767B\u5F55<code>actions</code>\u4E2D\u53D1\u8D77\u8C03\u7528\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/login.ts</span>
<span class="token keyword">import</span> useMainStore <span class="token keyword">from</span> <span class="token string">&quot;../main/main&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">ILoginState</span> <span class="token punctuation">{</span>
    token<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
    userMenus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> useLoginStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ILoginState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        token<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        userInfo<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        userMenus<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>

            <span class="token comment">// 6.\u8BF7\u6C42\u6240\u6709roles/department\u6570\u636E(\u5237\u65B0\u65F6\u6570\u636E\u4F1A\u6D88\u5931)</span>
            <span class="token keyword">const</span> mainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            mainStore<span class="token punctuation">.</span><span class="token function">fetchEntireDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment">//  \u9875\u9762\u8DF3\u8F6C</span>
            router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/main&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// \u89E3\u51B3\u5237\u65B0\u9875\u9762\u540E\uFF0C\u52A8\u6001\u8DEF\u7531\u4E22\u5931\u7684\u95EE\u9898(\u4E0D\u518D\u662FloginAccountAction\u767B\u5F55\u65F6\u624D\u6267\u884C)</span>
        <span class="token function">loadLocalDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> userInfo <span class="token operator">&amp;&amp;</span> userMenus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// ...</span>
                <span class="token comment">// \u8BF7\u6C42\u6240\u6709roles/department\u6570\u636E(\u5237\u65B0\u65F6\u6570\u636E\u4E0D\u4F1A\u6D88\u5931\uFF0C\u7ECF\u5E38\u53D8\u5316\uFF0C\u4E0D\u653E\u7F13\u5B58\uFF0C\u5237\u65B0\u65F6\u8BF7\u6C42\u6700\u65B0\u7684)</span>
                <span class="token keyword">const</span> mainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                mainStore<span class="token punctuation">.</span><span class="token function">fetchEntireDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">// ...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useLoginStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5904\u7406\u89D2\u8272\u548C\u90E8\u95E8\u4E0B\u62C9\u6846" tabindex="-1"><a class="header-anchor" href="#\u5904\u7406\u89D2\u8272\u548C\u90E8\u95E8\u4E0B\u62C9\u6846" aria-hidden="true">#</a> \u5904\u7406\u89D2\u8272\u548C\u90E8\u95E8\u4E0B\u62C9\u6846</h4><p>\u5728<code>el-select</code>\u4E2D\u4F7F\u7528<code>v-for</code>\u5FAA\u73AF\u904D\u5386<code>el-option</code>\uFF0C\u52A8\u6001\u56DE\u663E\u5230<code>label</code>\u5C5E\u6027\u4E2D\u3002\u89D2\u8272\u548C\u90E8\u95E8\u6570\u636E\u4ECE<code>pinia</code>\u4E2D\u83B7\u53D6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> title<span class="token operator">=</span><span class="token string">&quot;\u65B0\u5EFA\u7528\u6237&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;30%&quot;</span> center<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;80px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
            <span class="token comment">// ...</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u9009\u62E9\u89D2\u8272&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;roleId&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.roleId&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u9009\u62E9\u89D2\u8272&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in entireRoles&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>el<span class="token operator">-</span>option <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;item.name&quot;</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item label<span class="token operator">=</span><span class="token string">&quot;\u9009\u62E9\u90E8\u95E8&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;departmentId&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.departmentId&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u9009\u62E9\u90E8\u95E8&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in entireDepartments&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>el<span class="token operator">-</span>option <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;item.name&quot;</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> useMainStore <span class="token keyword">from</span> <span class="token string">&quot;@/store/main/main&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>

<span class="token comment">// \u83B7\u53D6roles/departments\u6570\u636E</span>
<span class="token keyword">const</span> mainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> entireRoles<span class="token punctuation">,</span> entireDepartments <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>mainStore<span class="token punctuation">)</span>
<span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5\u65B0\u5EFA\u7528\u6237\u8BF7\u6C42\u63A5\u53E3\u5E76\u8C03\u7528" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u65B0\u5EFA\u7528\u6237\u8BF7\u6C42\u63A5\u53E3\u5E76\u8C03\u7528" aria-hidden="true">#</a> \u5C01\u88C5\u65B0\u5EFA\u7528\u6237\u8BF7\u6C42\u63A5\u53E3\u5E76\u8C03\u7528</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">//sevice/main/system/system.ts</span>
<span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;@/service&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// \u83B7\u53D6\u7528\u6237\u5217\u8868\u6570\u636E...</span>

<span class="token comment">// \u5220\u9664\u7528\u6237\u6570\u636E...</span>

<span class="token comment">// \u65B0\u5EFA\u7528\u6237\u6570\u636E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">newUserData</span><span class="token punctuation">(</span>userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/users&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> userInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> deleteUserData<span class="token punctuation">,</span> getUserListData<span class="token punctuation">,</span> newUserData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/system/system&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> useSystemStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;system&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ISystemState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        usersList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        usersTotalCount<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u7528\u6237\u6570\u636E\u5217\u8868...</span>

        <span class="token comment">// \u5220\u9664\u7528\u6237\u6570\u636E...</span>

        <span class="token comment">// \u65B0\u589E\u7528\u6237\u6570\u636E</span>
        <span class="token keyword">async</span> <span class="token function">newUserDataAction</span><span class="token punctuation">(</span>userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u521B\u5EFA\u65B0\u7684\u7528\u6237</span>
            <span class="token keyword">const</span> newResult <span class="token operator">=</span>  <span class="token keyword">await</span> <span class="token function">newUserData</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span>
            <span class="token comment">// \u91CD\u65B0\u53D1\u9001\u8BF7\u6C42\u6570\u636E\u5237\u65B0\u9875\u9762</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> title<span class="token operator">=</span><span class="token string">&quot;\u65B0\u5EFA\u7528\u6237&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;30%&quot;</span> center<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
            <span class="token comment">// ...</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template #footer<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dialog-footer&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;dialogVisible = false&quot;</span><span class="token operator">&gt;</span>\u53D6\u6D88<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleConfirmClick&quot;</span><span class="token operator">&gt;</span>\u786E\u5B9A<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&quot;@/store/main/system/system&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dialogVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    realname<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    cellphone<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    roleId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    departmentId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// ...</span>

<span class="token comment">// dialog\u70B9\u51FB\u786E\u5B9A\u6309\u94AE\u903B\u8F91</span>
<span class="token keyword">function</span> <span class="token function">handleConfirmClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5173\u95E8dialog</span>
    dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token comment">// \u53D1\u9001\u65B0\u5EFA\u7528\u6237\u8BF7\u6C42</span>
    systemStore<span class="token punctuation">.</span><span class="token function">newUserDataAction</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u7F16\u8F91\u7528\u6237\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u7F16\u8F91\u7528\u6237\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u7F16\u8F91\u7528\u6237\u529F\u80FD</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_ONXbS8GUdk.png" alt=""></p><h4 id="\u5C01\u88C5\u4FEE\u6539\u7528\u6237\u8BF7\u6C42\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u4FEE\u6539\u7528\u6237\u8BF7\u6C42\u63A5\u53E3" aria-hidden="true">#</a> \u5C01\u88C5\u4FEE\u6539\u7528\u6237\u8BF7\u6C42\u63A5\u53E3</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;@/service&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token comment">// \u7F16\u8F91\u7528\u6237\u6570\u636E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">editUserData</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> userInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="pinia-\u4E2D\u8C03\u7528\u63A5\u53E3\u7684-actions-1" tabindex="-1"><a class="header-anchor" href="#pinia-\u4E2D\u8C03\u7528\u63A5\u53E3\u7684-actions-1" aria-hidden="true">#</a> pinia \u4E2D\u8C03\u7528\u63A5\u53E3\u7684 actions</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> deleteUserData<span class="token punctuation">,</span> editUserData<span class="token punctuation">,</span> getUserListData<span class="token punctuation">,</span> newUserData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/system/system&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useSystemStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;system&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ISystemState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        <span class="token comment">// \u7F16\u8F91\u7528\u6237\u6570\u636E</span>
        <span class="token keyword">async</span> <span class="token function">editUserDataAction</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> editResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">editUserData</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUsersListAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useSystemStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B9E\u73B0\u70B9\u51FB\u7F16\u8F91\u6309\u94AE\u5F39\u51FA\u6A21\u6001\u6846" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u70B9\u51FB\u7F16\u8F91\u6309\u94AE\u5F39\u51FA\u6A21\u6001\u6846" aria-hidden="true">#</a> \u5B9E\u73B0\u70B9\u51FB\u7F16\u8F91\u6309\u94AE\u5F39\u51FA\u6A21\u6001\u6846</h4><p>\u4F7F\u7528\u4F5C\u7528\u57DF\u63D2\u69FD\u5C06\u5B50\u7EC4\u4EF6<code>user-content</code>\u7684\u70B9\u51FB\u4E8B\u4EF6\u53D1\u9001\u7ED9\u7236\u7EC4\u4EF6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// user-content.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
      <span class="token comment">// ...</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;usersList&quot;</span> border style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
            <span class="token comment">// ...</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u64CD\u4F5C&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;150px&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Edit&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> text <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleEditClick(scope.row)&quot;</span><span class="token operator">&gt;</span>\u7F16\u8F91<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> text <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleDeleteClick(scope.row.id)&quot;</span><span class="token operator">&gt;</span>\u5220\u9664<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// ...</span>

<span class="token comment">// 7.\u7F16\u8F91\u7528\u6237\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleEditClick</span><span class="token punctuation">(</span>itemData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">,</span> itemData<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u7EC4\u4EF6\u63A5\u53D7\u70B9\u51FB\u4E8B\u4EF6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>user<span class="token operator">-</span>content ref<span class="token operator">=</span><span class="token string">&quot;contentRef&quot;</span> @<span class="token keyword">new</span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleNewDataClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">edit</span></span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleEditDataClick&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>user<span class="token operator">-</span>modal ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> userModal <span class="token keyword">from</span> <span class="token string">&#39;./cpns/user-modal.vue&#39;</span>
<span class="token comment">// ...</span>

<span class="token keyword">const</span> modalRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> userModal<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// ...</span>
<span class="token comment">// \u7F16\u8F91\u7528\u6237\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleEditDataClick</span><span class="token punctuation">(</span>itemData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// setDialogVisible\u7531user-modal\u5B50\u7EC4\u4EF6\u66B4\u9732\u51FA\u6765\u7684\u65B9\u6CD5</span>
  modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> itemData<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B50\u7EC4\u4EF6<code>user-modal</code>\u63A5\u53D7\u7236\u7EC4\u4EF6\u4F20\u6765\u7684\u65B9\u6CD5\u548C\u53C2\u6570\u3002\u5BF9\u6A21\u6001\u6846\u7684\u8868\u5355\u5185\u5BB9\u8FDB\u884C\u5224\u65AD\uFF0C\u5728\u7F16\u8F91\u6570\u636E\u65F6\u9664\u4E86\u5BC6\u7801\uFF0C\u5176\u5B83\u5C5E\u6027\u90FD\u8FDB\u884C\u56DE\u663E\uFF0C<code>title</code>\u53D8\u4E3A\u7F16\u8F91\u7528\u6237\u6587\u672C\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;isNewRef? &#39;\u65B0\u5EFA\u7528\u6237&#39;: &#39;\u7F16\u8F91\u7528\u6237&#39;&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;30%&quot;</span> center<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;80px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
                <span class="token comment">// \u7F16\u8F91\u6570\u636E\u65F6\u5BC6\u7801\u4E0D\u8FDB\u884C\u56DE\u663E\u3002</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isNewRef&quot;</span> label<span class="token operator">=</span><span class="token string">&quot;\u5BC6\u7801&quot;</span> prop<span class="token operator">=</span><span class="token string">&quot;password&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData.password&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;\u8BF7\u8F93\u5165\u5BC6\u7801&quot;</span> show<span class="token operator">-</span>password<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
                <span class="token comment">// ...</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template #footer<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dialog-footer&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;dialogVisible = false&quot;</span><span class="token operator">&gt;</span>\u53D6\u6D88<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleConfirmClick&quot;</span><span class="token operator">&gt;</span>\u786E\u5B9A<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&quot;@/store/main/system/system&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>

<span class="token keyword">const</span> dialogVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token comment">// \u7F16\u8F91\u65F6\u5BC6\u7801\u4E0D\u663E\u793A</span>
<span class="token keyword">const</span> isNewRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> editData <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reactive</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    realname<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    password<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    cellphone<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    roleId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    departmentId<span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>
<span class="token comment">// \u5B9A\u4E49\u8BBE\u7F6EdialogVisible\u7684\u65B9\u6CD5</span>
<span class="token keyword">function</span> <span class="token function">setDialogVisible</span><span class="token punctuation">(</span>isNew<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> itemData<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  isNewRef<span class="token punctuation">.</span>value <span class="token operator">=</span> isNew
  <span class="token comment">// \u6A21\u6001\u6846\u8868\u5355\u56DE\u663E</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isNew <span class="token operator">&amp;&amp;</span> itemData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7F16\u8F91\u6570\u636E</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// key\u4E0D\u4E00\u5B9A\u5728formData\u4E2D,\u6240\u4EE5\u9700\u8981\u52A0\u7C7B\u578B\u5224\u65ADany(reactive&lt;any&gt;)</span>
        formData<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> itemData<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    editData<span class="token punctuation">.</span>value <span class="token operator">=</span> itemData
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65B0\u589E\u6570\u636E</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        formData<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span>
    editData<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// dialog\u70B9\u51FB\u786E\u5B9A\u6309\u94AE\u903B\u8F91</span>
<span class="token keyword">function</span> <span class="token function">handleConfirmClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5173\u95E8dialog</span>
    dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token comment">// isNewRef\u4E3Afalse\u65F6\uFF0C\u53D1\u9001\u7F16\u8F91\u7528\u6237\u8BF7\u6C42</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isNewRef<span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> editData<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        systemStore<span class="token punctuation">.</span><span class="token function">editUserDataAction</span><span class="token punctuation">(</span>editData<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id<span class="token punctuation">,</span> formData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5426\u5219\u53D1\u9001\u65B0\u5EFA\u7528\u6237\u8BF7\u6C42</span>
        systemStore<span class="token punctuation">.</span><span class="token function">newUserDataAction</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    setDialogVisible
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u9AD8\u7EA7\u590D\u7528\u6027\u4EE3\u7801\u62BD\u53D6" tabindex="-1"><a class="header-anchor" href="#\u9AD8\u7EA7\u590D\u7528\u6027\u4EE3\u7801\u62BD\u53D6" aria-hidden="true">#</a> \u9AD8\u7EA7\u590D\u7528\u6027\u4EE3\u7801\u62BD\u53D6</h2><p><strong>\u5C01\u88C5\u62BD\u53D6\u6210\u914D\u7F6E\u6587\u4EF6\u6765\u5B9E\u73B0\uFF0C\u589E\u5F3A\u590D\u7528\u6027\u3002</strong></p><h3 id="\u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42" aria-hidden="true">#</a> \u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42</h3><h4 id="\u62BD\u53D6\u63A5\u53E3\u7684\u516C\u5171\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#\u62BD\u53D6\u63A5\u53E3\u7684\u516C\u5171\u7279\u6027" aria-hidden="true">#</a> \u62BD\u53D6\u63A5\u53E3\u7684\u516C\u5171\u7279\u6027</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/** \u62BD\u53D6\u516C\u5171\u9875\u9762\u63A5\u53E3 */</span>
<span class="token comment">// \u67E5\u8BE2</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPageListData</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> queryInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/list</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> queryInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5220\u9664</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deletePageData</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u65B0\u589E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">newPageData</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> dataInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> dataInfo
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u4FEE\u6539</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">editPageData</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> dataInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> dataInfo
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u62BD\u53D6-pinia-\u5BF9\u5E94\u7684-actions" tabindex="-1"><a class="header-anchor" href="#\u62BD\u53D6-pinia-\u5BF9\u5E94\u7684-actions" aria-hidden="true">#</a> \u62BD\u53D6 pinia \u5BF9\u5E94\u7684 actions</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> deleteUserData<span class="token punctuation">,</span> editUserData<span class="token punctuation">,</span> getUserListData<span class="token punctuation">,</span> newUserData<span class="token punctuation">,</span> deletePageData<span class="token punctuation">,</span> editPageData<span class="token punctuation">,</span> getPageListData<span class="token punctuation">,</span> newPageData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/system/system&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ISystemState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./type&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useSystemStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;system&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ISystemState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// \u62BD\u53D6\u516C\u5171\u9875\u9762\u6570\u636E</span>
        pageList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        pageTotalCount<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u62BD\u53D6\u516C\u5171\u9875\u9762action</span>
        <span class="token keyword">async</span> <span class="token function">getPageListDataAction</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> queryInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1.\u8BF7\u6C42\u7528\u6237\u5217\u8868\u6570\u636E</span>
            <span class="token keyword">const</span> pageListResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPageListData</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> queryInfo<span class="token punctuation">)</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span> list<span class="token punctuation">,</span> totalCount <span class="token punctuation">}</span> <span class="token operator">=</span> pageListResult<span class="token punctuation">.</span>data
            <span class="token keyword">this</span><span class="token punctuation">.</span>pageList <span class="token operator">=</span> list
            <span class="token keyword">this</span><span class="token punctuation">.</span>pageTotalCount <span class="token operator">=</span> totalCount
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">async</span> <span class="token function">deletePageDataAction</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">deletePageData</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageListDataAction</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">async</span> <span class="token function">newPageDataAction</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pageData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">newPageData</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> pageData<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageListDataAction</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">async</span> <span class="token function">editPageDataAction</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> pageData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">editPageData</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> id<span class="token punctuation">,</span> pageData<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPageListDataAction</span><span class="token punctuation">(</span>pageName<span class="token punctuation">,</span> <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useSystemStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISystemState</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u62BD\u53D6\u516C\u5171\u9875\u9762\u6570\u636E</span>
    pageList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    pageTotalCount<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C01\u88C5\u8868\u5355\u641C\u7D22\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u8868\u5355\u641C\u7D22\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C01\u88C5\u8868\u5355\u641C\u7D22\u7EC4\u4EF6</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_9XcwMn65Vo.png" alt=""></p><h4 id="\u7F16\u5199\u8868\u5355\u641C\u7D22\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199\u8868\u5355\u641C\u7D22\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u7F16\u5199\u8868\u5355\u641C\u7D22\u914D\u7F6E\u6587\u4EF6</h4><p><code>search.config.ts</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> searchConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    labelWidth<span class="token operator">:</span> <span class="token string">&#39;120px&#39;</span><span class="token punctuation">,</span>
    formItems<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
            placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u90E8\u95E8\u540D\u79F0&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;leader&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u9886\u5BFC&#39;</span><span class="token punctuation">,</span>
            placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u9886\u5BFC\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
            initialValue<span class="token operator">:</span> <span class="token string">&#39;\u5F20\u4E09&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;select&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;enable&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u72B6\u6001&#39;</span><span class="token punctuation">,</span>
            placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u9009\u62E9\u67E5\u8BE2\u7684\u72B6\u6001&#39;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#39;\u542F\u7528&#39;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#39;\u7981\u7528&#39;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;time&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;createAt&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u521B\u5EFA\u65F6\u95F4&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> searchConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u91CD\u6784\u8868\u5355\u641C\u7D22\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u91CD\u6784\u8868\u5355\u641C\u7D22\u7EC4\u4EF6" aria-hidden="true">#</a> \u91CD\u6784\u8868\u5355\u641C\u7D22\u7EC4\u4EF6</h4><p>\u5C06\u91CC\u9762\u7684\u5177\u4F53\u7684\u5C5E\u6027\u540D\u79F0\u901A\u8FC7<code>search.config.ts</code>\u914D\u7F6E\u6587\u4EF6\u6765\u52A8\u6001\u904D\u5386\u5177\u4F53\u7684\u5C5E\u6027\u548C\u8868\u5355\u7C7B\u578B\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-search.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;search&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;searchForm&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;formRef&quot;</span> <span class="token operator">:</span>label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;searchConfig.labelWidth ?? &#39;80px&#39;&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;20&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u52A8\u6001\u904D\u5386\u914D\u7F6Econfig\u6587\u4EF6 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in searchConfig.formItems&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;8&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;item.label&quot;</span> <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;input&#39;&quot;</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;searchForm[item.prop]&quot;</span> <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;item.placeholder&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;time&#39;&quot;</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
                                v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;searchForm[item.prop]&quot;</span>
                                type<span class="token operator">=</span><span class="token string">&quot;daterange&quot;</span>
                                range<span class="token operator">-</span>separator<span class="token operator">=</span><span class="token string">&quot;-&quot;</span>
                                start<span class="token operator">-</span>placeholder<span class="token operator">=</span><span class="token string">&quot;\u5F00\u59CB\u65F6\u95F4&quot;</span>
                                end<span class="token operator">-</span>placeholder<span class="token operator">=</span><span class="token string">&quot;\u7ED3\u675F\u65F6\u95F4&quot;</span>
                            <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;select&#39;&quot;</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;searchForm[item.prop]&quot;</span> <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;item.placeholder&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;option in item.options&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;option.value&quot;</span><span class="token operator">&gt;</span>
                                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>option <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;option.label&quot;</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;option.value&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>option<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btns&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;Refresh&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleResetClick()&quot;</span><span class="token operator">&gt;</span>\u91CD\u7F6E<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">&quot;Search&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span> <span class="token operator">=</span> <span class="token string">&quot;handleQueryClick()&quot;</span><span class="token operator">&gt;</span>\u641C\u7D22<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ElForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \u5B9A\u4E49\u7684\u53C2\u6570\u9700\u4E0E\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u53C2\u6570\u4E00\u81F4</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
    searchConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
        labelWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        formItems<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u63A5\u53D7\u7236\u7EC4\u4EF6\u4F20\u6765\u7684\u914D\u7F6E\u53C2\u6570</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;queryClick&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;resetClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> initialForm<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> props<span class="token punctuation">.</span>searchConfig<span class="token punctuation">.</span>formItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    initialForm<span class="token punctuation">[</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>initialValue <span class="token operator">??</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> searchForm <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    initialForm
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u91CD\u7F6E\u529F\u80FD</span>
<span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> ElForm<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    formRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// \u53D1\u9001\u8BF7\u6C42\u91CD\u7F6E\u67E5\u627E</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;resetClick&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u641C\u7D22\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleQueryClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u901A\u8FC7\u4E8B\u4EF6\u629B\u51FA\uFF08\u5B50\u4F20\u7236\uFF09</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;queryClick&#39;</span><span class="token punctuation">,</span> searchForm<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>search <span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    padding<span class="token operator">:</span> 20px<span class="token punctuation">;</span>

    <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item <span class="token punctuation">{</span>
        padding<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>btns <span class="token punctuation">{</span>
        text<span class="token operator">-</span>align<span class="token operator">:</span> right<span class="token punctuation">;</span>
        padding<span class="token operator">:</span> <span class="token number">0</span> 50px 10px <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u5F15\u7528\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u5F15\u7528\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u5F15\u7528\u914D\u7F6E\u6587\u4EF6</h4><p>\u7236\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570\u4E3A<code>search-config</code>\u7ED9\u5B50\u7EC4\u4EF6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// department.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>search <span class="token operator">:</span>search<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;searchConfig&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> pageSearch <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-search/page-search.vue&#39;</span>
<span class="token keyword">import</span> searchConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/search.config&#39;</span>
<span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C01\u88C5\u8868\u683C\u5185\u5BB9\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u8868\u683C\u5185\u5BB9\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C01\u88C5\u8868\u683C\u5185\u5BB9\u7EC4\u4EF6</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_V3RocAKr0d.png" alt=""></p><h4 id="\u7F16\u5199\u8868\u683C\u5185\u5BB9\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199\u8868\u683C\u5185\u5BB9\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u7F16\u5199\u8868\u683C\u5185\u5BB9\u914D\u7F6E\u6587\u4EF6</h4><p><code>content.config.ts</code></p><p>\u9488\u5BF9\u4E0D\u540C\u7C7B\u578B\u7684\u8868\u683C\u6570\u636E\u7684\u4F5C\u7528\u57DF\u63D2\u69FD\uFF0C\u533A\u5206\u4E0D\u540C\u7684<code>type</code>\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> contentConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    pageName<span class="token operator">:</span> <span class="token string">&#39;Department&#39;</span><span class="token punctuation">,</span>
    header<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u5217\u8868&#39;</span><span class="token punctuation">,</span>
        btnTitle<span class="token operator">:</span> <span class="token string">&#39;\u65B0\u5EFA\u90E8\u95E8&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    propsList<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;selection&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u9009\u62E9&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;80px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u5E8F\u53F7&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;80px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u540D\u79F0&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;leader&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u9886\u5BFC&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;normal&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;parentId&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u4E0A\u7EA7\u90E8\u95E8&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;time&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;createAt&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u521B\u5EFA\u65F6\u95F4&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;time&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;updateAt&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u66F4\u65B0\u65F6\u95F4&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;handler&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u64CD\u4F5C&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;180px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> contentConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u91CD\u6784\u8868\u683C\u5185\u5BB9\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u91CD\u6784\u8868\u683C\u5185\u5BB9\u7EC4\u4EF6" aria-hidden="true">#</a> \u91CD\u6784\u8868\u683C\u5185\u5BB9\u7EC4\u4EF6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-content.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h3 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> contentConfig<span class="token operator">?.</span>header<span class="token operator">?.</span>title <span class="token operator">??</span> <span class="token string">&#39;\u6570\u636E\u5217\u8868&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleNewData&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> contentConfig<span class="token operator">?.</span>header<span class="token operator">?.</span>btnTitle <span class="token operator">??</span> <span class="token string">&#39;\u65B0\u5EFA\u6570\u636E&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;pageList&quot;</span> <span class="token operator">:</span>border<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in contentConfig.propsList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406\u5E26\u81EA\u5B9A\u4E49\u63D2\u69FD\u7684\u65F6\u95F4\u683C\u5F0F\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;time&#39;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">formatUTC</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span>row<span class="token punctuation">[</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406handle\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;handler&#39;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;EditPen&quot;</span> link <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleEditClick(scope.row)&quot;</span><span class="token operator">&gt;</span>
                  \u7F16\u8F91
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> link <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleDeleteClick(scope.row.id)&quot;</span><span class="token operator">&gt;</span>
                  \u5220\u9664
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406\u666E\u901A\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> <span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;item.type&quot;</span> <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span> <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;item.label&quot;</span> <span class="token operator">:</span>width<span class="token operator">=</span><span class="token string">&quot;item.width&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span> \u76F8\u5F53\u4E8E\u4E0B\u9762<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
        v<span class="token operator">-</span>model<span class="token operator">:</span>currentPage<span class="token operator">=</span><span class="token string">&quot;currentPage&quot;</span>
        v<span class="token operator">-</span>model<span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">&quot;pageSize&quot;</span>
        <span class="token operator">:</span>page<span class="token operator">-</span>sizes<span class="token operator">=</span><span class="token string">&quot;[10, 20, 30]&quot;</span>
        layout<span class="token operator">=</span><span class="token string">&quot;total, sizes, prev, pager, next, jumper&quot;</span>
        <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">&quot;pageTotalCount&quot;</span>
        <span class="token decorator"><span class="token at operator">@</span><span class="token function">current</span></span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">&quot;handleCurrentChange&quot;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/system/system&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatUTC <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/format&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  contentConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7528\u4E8E\u5904\u7406\u63A5\u53E3\u65B9\u6CD5\u4E2D\u4F20\u5165\u7684pageName\u53C2\u6570</span>
    pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    header<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      btnTitle<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    propsList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 1.\u8BF7\u6C42\u6570\u636E</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> currentPage <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> pageSize <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">fetchPageListData</span><span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1.\u83B7\u53D6offset\u548Csize</span>
  <span class="token keyword">const</span> size <span class="token operator">=</span> pageSize<span class="token punctuation">.</span>value
  <span class="token keyword">const</span> offset <span class="token operator">=</span> <span class="token punctuation">(</span>currentPage<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> size
  <span class="token keyword">const</span> pageInfo <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">,</span> offset<span class="token punctuation">}</span>

  <span class="token comment">// 2.\u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42</span>
  <span class="token keyword">const</span> queryInfo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>pageInfo<span class="token punctuation">,</span> <span class="token operator">...</span>formData<span class="token punctuation">}</span>
  <span class="token comment">// \u4ECE\u914D\u7F6E\u6587\u4EF6\u4E2D\u83B7\u53D6pageName</span>
  systemStore<span class="token punctuation">.</span><span class="token function">getPageListDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> <span class="token punctuation">{</span> offset<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token operator">...</span>queryInfo <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.\u5C55\u793A\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> pageList<span class="token punctuation">,</span> pageTotalCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>systemStore<span class="token punctuation">)</span>

<span class="token comment">// 3.\u7ED1\u5B9A\u5206\u9875\u6570\u636E</span>
<span class="token keyword">function</span> <span class="token function">handleCurrentChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  currentPage<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
  pageSize<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 4.\u65B0\u5EFA\u6570\u636E\u7684\u5904\u7406</span>
<span class="token keyword">function</span> <span class="token function">handleNewData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 5.\u5220\u9664\u548C\u7F16\u8F91\u64CD\u4F5C</span>
<span class="token keyword">function</span> <span class="token function">handleDeleteClick</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4ECE\u914D\u7F6E\u6587\u4EF6\u4E2D\u83B7\u53D6pageName</span>
  systemStore<span class="token punctuation">.</span><span class="token function">deletePageDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleEditClick</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u66B4\u9732\u51FD\u6570</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  fetchPageListData<span class="token punctuation">,</span>
  handleResetClick
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>content <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
  padding<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>

  <span class="token punctuation">.</span>header <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    height<span class="token operator">:</span> 45px<span class="token punctuation">;</span>
    padding<span class="token operator">:</span> <span class="token number">0</span> 5px<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

    <span class="token punctuation">.</span>title <span class="token punctuation">{</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
      font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>handler <span class="token punctuation">{</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>table <span class="token punctuation">{</span>
    <span class="token operator">:</span><span class="token function">deep</span><span class="token punctuation">(</span><span class="token punctuation">.</span>el<span class="token operator">-</span>table__cell<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      padding<span class="token operator">:</span> 14px <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>footer <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> flex<span class="token operator">-</span>end<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u5F15\u7528\u914D\u7F6E\u6587\u4EF6-\u540E\u9762\u7EDF\u4E00\u8D77\u6765\u6574\u7406" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u5F15\u7528\u914D\u7F6E\u6587\u4EF6-\u540E\u9762\u7EDF\u4E00\u8D77\u6765\u6574\u7406" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u5F15\u7528\u914D\u7F6E\u6587\u4EF6\uFF08\u540E\u9762\u7EDF\u4E00\u8D77\u6765\u6574\u7406\uFF09</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>search <span class="token decorator"><span class="token at operator">@</span><span class="token function">query</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleQueryClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">reset</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleResetClick&quot;</span> <span class="token operator">:</span>search<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;searchConfig&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>content ref<span class="token operator">=</span><span class="token string">&quot;contentRef&quot;</span> @<span class="token keyword">new</span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleNewDataClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">edit</span></span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleEditDataClick&quot;</span> <span class="token operator">:</span>content<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;contentConfig&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> pageSearch <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-search/page-search.vue&#39;</span>
<span class="token keyword">import</span> PageContent <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-content/page-content.vue&#39;</span>
<span class="token keyword">import</span> PageModal <span class="token keyword">from</span> <span class="token string">&#39;./cpns/page-modal.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">import</span> searchConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/search.config&#39;</span>
<span class="token keyword">import</span> contentConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/content.config&#39;</span>

<span class="token keyword">const</span> contentRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> PageContent<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> modalRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> PageModal<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u641C\u7D22\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleQueryClick</span><span class="token punctuation">(</span>searchInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  contentRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">fetchPageListData</span><span class="token punctuation">(</span>searchInfo<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u91CD\u7F6E\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  contentRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u65B0\u589E\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleNewDataClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u7F16\u8F91\u529F\u80FD</span>
<span class="token keyword">function</span> <span class="token function">handleEditDataClick</span><span class="token punctuation">(</span>itemData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> itemData<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u8FDB\u9636-\u5C01\u88C5\u81EA\u5B9A\u4E49\u7684\u5B9A\u5236\u4F5C\u7528\u57DF\u63D2\u69FD" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u9636-\u5C01\u88C5\u81EA\u5B9A\u4E49\u7684\u5B9A\u5236\u4F5C\u7528\u57DF\u63D2\u69FD" aria-hidden="true">#</a> (\u8FDB\u9636)\u5C01\u88C5\u81EA\u5B9A\u4E49\u7684\u5B9A\u5236\u4F5C\u7528\u57DF\u63D2\u69FD</h4><p>\u4EE5\u4E0A\u4EE3\u7801\u662F\u901A\u8FC7\u4E0D\u65AD\u7684<code>if</code>\u5224\u65AD <code>&lt;template v-else-if=&quot;item.type === &#39;custom&#39;&quot;&gt;</code>\uFF0C\u6765\u5904\u7406\u4E0D\u540C\u7C7B\u578B\uFF08\u5E26\u6709\u4F5C\u7528\u57DF\u63D2\u69FD\uFF09\u7684<code>table</code>\u6570\u636E\uFF0C\u5982\u56FE\u7247\u3001<code>el-tag</code>\u3001<code>button</code>\u7B49\u3002\u56E0\u6B64\u901A\u8FC7\u7F16\u5199\u901A\u7528\u7684\u81EA\u5B9A\u4E49\u63D2\u69FD\u6765\u9884\u7559\u4E00\u4E2A\u63D2\u69FD<code>slot</code>\u7ED9\u7236\u7EC4\u4EF6\uFF0C\u4F7F\u7528\u6237\u53EF\u4EE5\u5B9A\u5236<code>table</code>\u6570\u636E\u5185\u5BB9\u3002</p><p><strong>\u914D\u7F6E\u6587\u4EF6</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> contentConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    propsList<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">// ...</span>
        <span class="token comment">// \u81EA\u5B9A\u4E49\u63D2\u69FD\u5B9A\u5236\uFF08\u901A\u7528\uFF09</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;custom&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u81EA\u5B9A\u4E49\u63D2\u69FD1&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;leader&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span><span class="token punctuation">,</span> slotName<span class="token operator">:</span> <span class="token string">&#39;leader&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;custom&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u81EA\u5B9A\u4E49\u63D2\u69FD2&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;parentId&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span><span class="token punctuation">,</span> slotName<span class="token operator">:</span> <span class="token string">&#39;parent&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> contentConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u81EA\u5B9A\u4E49\u63D2\u69FD\u7684\u7EC4\u4EF6\u6A21\u7248</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;pageList&quot;</span> <span class="token operator">:</span>border<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in contentConfig.propsList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406\u5E26\u81EA\u5B9A\u4E49\u63D2\u69FD\u7684\u65F6\u95F4\u683C\u5F0F\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token comment">// ...</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406handle\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token comment">// ....</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406\u666E\u901A\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token comment">// ....</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token function">\u81EA\u5B9A\u4E49\u63D2\u69FD\u5B9A\u5236\u5904\u7406</span><span class="token punctuation">(</span>\u901A\u7528<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;custom&#39;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u7ED9\u7528\u6237\u9884\u7559\u5B9A\u5236\u63D2\u69FD <span class="token operator">--</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>slot <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.slotName&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;scope&quot;</span> <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u7236\u7EC4\u4EF6\u7F16\u5199\u5B9A\u5236\u63D2\u69FD</strong></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>search <span class="token decorator"><span class="token at operator">@</span><span class="token function">query</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleQueryClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">reset</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleResetClick&quot;</span> <span class="token operator">:</span>search<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;searchConfig&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>page<span class="token operator">-</span>content ref<span class="token operator">=</span><span class="token string">&quot;contentRef&quot;</span> @<span class="token keyword">new</span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleNewDataClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">edit</span></span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleEditDataClick&quot;</span> <span class="token operator">:</span>content<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;contentConfig&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #leader<span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token string">&quot;color: red;&quot;</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token punctuation">{</span> scope<span class="token punctuation">.</span>row<span class="token punctuation">[</span>scope<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #parent<span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>tag<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token punctuation">{</span> scope<span class="token punctuation">.</span>row<span class="token punctuation">[</span>scope<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>tag<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>page<span class="token operator">-</span>content<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C01\u88C5\u6A21\u6001\u6846\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u6A21\u6001\u6846\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C01\u88C5\u6A21\u6001\u6846\u7EC4\u4EF6</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_rLSWO79LOv.png" alt=""></p><h4 id="\u7F16\u5199\u6A21\u6001\u6846\u5185\u5BB9\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199\u6A21\u6001\u6846\u5185\u5BB9\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u7F16\u5199\u6A21\u6001\u6846\u5185\u5BB9\u914D\u7F6E\u6587\u4EF6</h4><p><code>motal.config.ts</code></p><p>\u8FD9\u91CC\u7684<code>options</code>\u5E94\u8BE5\u662F\u7531\u83B7\u53D6\u63A5\u53E3\u6570\u636E\u5F97\u5230\u7684\uFF0C\u540E\u7EED\u4F1A\u8FDB\u884C\u5C01\u88C5\uFF0C\u8FD9\u91CC\u5148\u5199\u4E3A\u9759\u6001\u7684\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> modalConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token punctuation">{</span>
        newTitle<span class="token operator">:</span> <span class="token string">&#39;\u65B0\u5EFA\u90E8\u95E8&#39;</span><span class="token punctuation">,</span>
        editTitle<span class="token operator">:</span> <span class="token string">&#39;\u7F16\u8F91\u90E8\u95E8&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    pageName<span class="token operator">:</span> <span class="token string">&#39;department&#39;</span><span class="token punctuation">,</span>
    formItems<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
            placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;leader&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u90E8\u95E8\u9886\u5BFC&#39;</span><span class="token punctuation">,</span>
            placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u67E5\u8BE2\u7684\u9886\u5BFC\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
            initialValue<span class="token operator">:</span> <span class="token string">&#39;\u5F20\u4E09&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">&#39;select&#39;</span><span class="token punctuation">,</span>
            prop<span class="token operator">:</span> <span class="token string">&#39;parentId&#39;</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token string">&#39;\u4E0A\u7EA7\u90E8\u95E8&#39;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// \u540E\u9762\u4F7F\u7528\u52A8\u6001\u83B7\u53D6</span>
                <span class="token comment">// { label: &#39;\u90E8\u95E81&#39;, value: &#39;1&#39; },</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> modalConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u91CD\u6784\u6A21\u6001\u6846\u5185\u5BB9\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u91CD\u6784\u6A21\u6001\u6846\u5185\u5BB9\u7EC4\u4EF6" aria-hidden="true">#</a> \u91CD\u6784\u6A21\u6001\u6846\u5185\u5BB9\u7EC4\u4EF6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-modal.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;isEdit ? modalConfig.header.editTitle : modalConfig.header.newTitle&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;30%&quot;</span> center<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;80px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in modalConfig.formItems&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;input&#39;&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData[item.prop]&quot;</span> <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;item.placeholder&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

              <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;select&#39;&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;formData[item.prop]&quot;</span> <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;item.placeholder&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;option in item.options&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;option.value&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>option <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;option.value&quot;</span> <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;option.label&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #footer<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dialog-footer&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;dialogVisible = false&quot;</span><span class="token operator">&gt;</span>\u53D6\u6D88<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleConfirmClick&quot;</span><span class="token operator">&gt;</span>\u786E\u5B9A<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> useMainStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/main&#39;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/system/system&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> dialogVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> isEdit <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> editData <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u90E8\u95E8\u548C\u89D2\u8272\u7684\u6570\u636E</span>
<span class="token keyword">const</span> mainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> entireDepartments <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>mainStore<span class="token punctuation">)</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  modalConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
    header<span class="token operator">:</span> <span class="token punctuation">{</span>
      newTitle<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      editTitle<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token punctuation">}</span>
    pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    formItems<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B9A\u4E49props</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u5B9A\u4E49\u6570\u636E\u7ED1\u5B9A</span>
<span class="token keyword">const</span> initialForm<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> props<span class="token punctuation">.</span>modalConfig<span class="token punctuation">.</span>formItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    initialForm<span class="token punctuation">[</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>initialValue <span class="token operator">??</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reactive</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>initialForm<span class="token punctuation">)</span>

<span class="token comment">// \u70B9\u51FB\u786E\u5B9A</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleConfirmClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isEdit<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    systemStore<span class="token punctuation">.</span><span class="token function">newPageDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modalConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> formData<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    systemStore<span class="token punctuation">.</span><span class="token function">editPageDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modalConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> editData<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id<span class="token punctuation">,</span> formData<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u65B0\u5EFA\u6216\u8005\u7F16\u8F91</span>
<span class="token keyword">function</span> <span class="token function">setDialogVisible</span><span class="token punctuation">(</span>isNew<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span>
  isEdit<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isNew
  editData<span class="token punctuation">.</span>value <span class="token operator">=</span> data
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> formData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isNew<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      formData<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      formData<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  setDialogVisible
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>form <span class="token punctuation">{</span>
  padding<span class="token operator">:</span> 10px 30px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C06\u9009\u62E9\u5668\u4E0B\u62C9\u5185\u5BB9-options-\u6539\u4E3A\u52A8\u6001\u83B7\u53D6\u63A5\u53E3\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5C06\u9009\u62E9\u5668\u4E0B\u62C9\u5185\u5BB9-options-\u6539\u4E3A\u52A8\u6001\u83B7\u53D6\u63A5\u53E3\u6570\u636E" aria-hidden="true">#</a> \u5C06\u9009\u62E9\u5668\u4E0B\u62C9\u5185\u5BB9 options \u6539\u4E3A\u52A8\u6001\u83B7\u53D6\u63A5\u53E3\u6570\u636E</h4><p>\u5728\u7236\u7EC4\u4EF6\u4E2D\u5C06\u8981\u4F20\u5165\u7684<code>modalConfig</code>\u8FDB\u884C\u9884\u5904\u7406\uFF0C\u4F7F\u7528<code>pinia</code>\u5C06\u63A5\u53E3\u6570\u636E\uFF08<code>name</code>, <code>id</code>\uFF09\u5148\u6620\u5C04\u6210<code>options</code>\u9700\u8981\u7684\u53C2\u6570\uFF08<code>label</code>, <code>value</code>\uFF09\uFF0C\u518D\u5C06\u6570\u636E\u63A8\u5165\u5230<code>prop</code>\u4E3A<code>parentId</code>\u4E0B\u7684<code>options</code>\u6570\u7EC4\u4E2D\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u7236\u7EC4\u4EF6deparment.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span> <span class="token operator">:</span>modal<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;modalConfigRef&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token keyword">import</span> PageModal <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-modal/page-modal.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> modalConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/modal.config&#39;</span>
<span class="token keyword">import</span> useMainStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/main&#39;</span>

<span class="token comment">// \u5BF9modalConfig\u8FDB\u884C\u64CD\u4F5C\uFF0C\u7528\u4E8Eselect\u4E2D\u7684options\u6765\u81EA\u4E8E\u63A5\u53E3\u6570\u636E</span>
<span class="token keyword">const</span> modalConfigRef <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// \u5C06\u83B7\u53D6\u5230\u7684name\u548Cid\u6620\u5C04\u6210option\u9700\u8981\u7684label\u548Cvalue\u5F62\u5F0F</span>
  <span class="token keyword">const</span> departments <span class="token operator">=</span> mainStore<span class="token punctuation">.</span>entireDepartments<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span> value<span class="token operator">:</span> item<span class="token punctuation">.</span>id <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  modalConfig<span class="token punctuation">.</span>formItems<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>prop <span class="token operator">===</span> <span class="token string">&#39;parentId&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      item<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>departments<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> modalConfig
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9875\u9762\u516C\u5171\u903B\u8F91\u7684-hooks-\u62BD\u53D6" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u516C\u5171\u903B\u8F91\u7684-hooks-\u62BD\u53D6" aria-hidden="true">#</a> \u9875\u9762\u516C\u5171\u903B\u8F91\u7684 hooks \u62BD\u53D6</h3><h4 id="\u62BD\u53D6\u8868\u5355\u641C\u7D22\u5185\u5BB9\u4E2D\u7684\u641C\u7D22\u529F\u80FD\u548C\u91CD\u7F6E\u529F\u80FD\u3002" tabindex="-1"><a class="header-anchor" href="#\u62BD\u53D6\u8868\u5355\u641C\u7D22\u5185\u5BB9\u4E2D\u7684\u641C\u7D22\u529F\u80FD\u548C\u91CD\u7F6E\u529F\u80FD\u3002" aria-hidden="true">#</a> \u62BD\u53D6\u8868\u5355\u641C\u7D22\u5185\u5BB9\u4E2D\u7684\u641C\u7D22\u529F\u80FD\u548C\u91CD\u7F6E\u529F\u80FD\u3002</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// hooks/usePageContent.ts</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token class-name">PageContent</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/page-content/page-content.vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">usePageContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> contentRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> PageContent<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// \u641C\u7D22\u529F\u80FD</span>
    <span class="token keyword">function</span> <span class="token function">handleQueryClick</span><span class="token punctuation">(</span>searchInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        contentRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">fetchPageListData</span><span class="token punctuation">(</span>searchInfo<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u91CD\u7F6E\u529F\u80FD</span>
    <span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        contentRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        contentRef<span class="token punctuation">,</span>
        handleQueryClick<span class="token punctuation">,</span>
        handleResetClick
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u62BD\u53D6\u6A21\u6001\u6846\u4E2D\u65B0\u589E\u548C\u7F16\u8F91\u529F\u80FD\u3002" tabindex="-1"><a class="header-anchor" href="#\u62BD\u53D6\u6A21\u6001\u6846\u4E2D\u65B0\u589E\u548C\u7F16\u8F91\u529F\u80FD\u3002" aria-hidden="true">#</a> \u62BD\u53D6\u6A21\u6001\u6846\u4E2D\u65B0\u589E\u548C\u7F16\u8F91\u529F\u80FD\u3002</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// hooks/usePageModal.ts</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token class-name">PageModal</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/page-modal/page-modal.vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> modalRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> PageModal<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// \u65B0\u589E\u529F\u80FD</span>
    <span class="token keyword">function</span> <span class="token function">handleNewDataClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u7F16\u8F91\u529F\u80FD</span>
    <span class="token keyword">function</span> <span class="token function">handleEditDataClick</span><span class="token punctuation">(</span>itemData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> itemData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        modalRef<span class="token punctuation">,</span>
        handleEditDataClick<span class="token punctuation">,</span>
        handleNewDataClick
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u4E2D\u8C03\u7528-hooks\u3002" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u4E2D\u8C03\u7528-hooks\u3002" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u4E2D\u8C03\u7528 hooks\u3002</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;department&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> usePageContent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/usePageContent&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> usePageModal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/usePageModal&#39;</span>
<span class="token comment">// ...</span>
<span class="token comment">// \u62BD\u53D6\u6210hooks</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> contentRef<span class="token punctuation">,</span> handleQueryClick<span class="token punctuation">,</span> handleResetClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> modalRef<span class="token punctuation">,</span> handleEditDataClick<span class="token punctuation">,</span> handleNewDataClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u83DC\u5355\u7BA1\u7406\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u83DC\u5355\u7BA1\u7406\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u83DC\u5355\u7BA1\u7406\u529F\u80FD</h2><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_8C-i5wpqZt.png" alt=""></p><h3 id="\u5B9E\u73B0\u6811\u5F62\u5B50\u6811\u7684\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u6811\u5F62\u5B50\u6811\u7684\u5C55\u793A" aria-hidden="true">#</a> \u5B9E\u73B0\u6811\u5F62\u5B50\u6811\u7684\u5C55\u793A</h3><p>\u4F7F\u7528<code>el-table</code>\u4E2D\u7684<code>row-key=&quot;id&quot;</code>\u6765\u7ED1\u5B9A\u5B50\u6811\u7684<code>id</code>\u3002\u8FD9\u91CC\u4F7F\u7528\u914D\u7F6E\u9879\u6765\u5728\u8868\u683C\u6570\u636E\u4E2D\u52A8\u6001\u7ED1\u5B9A\u3002</p>`,151),L={href:"https://element-plus.gitee.io/zh-CN/component/table.html#%E6%A0%91%E5%BD%A2%E6%95%B0%E6%8D%AE%E4%B8%8E%E6%87%92%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},P=s("\u6811\u5F62\u6570\u636E"),E=p("\uFF1A\u652F\u6301\u6811\u7C7B\u578B\u7684\u6570\u636E\u7684\u663E\u793A\u3002 \u5F53 row \u4E2D\u5305\u542B <code>children</code> \u5B57\u6BB5\u65F6\uFF0C\u88AB\u89C6\u4E3A\u6811\u5F62\u6570\u636E\u3002 \u6E32\u67D3\u5D4C\u5957\u6570\u636E\u9700\u8981 prop \u7684 <code>row-key</code>\u3002 \u6B64\u5916\uFF0C\u5B50\u884C\u6570\u636E\u53EF\u4EE5\u5F02\u6B65\u52A0\u8F7D\u3002 \u8BBE\u7F6E Table \u7684<code>lazy</code>\u5C5E\u6027\u4E3A true \u4E0E\u52A0\u8F7D\u51FD\u6570 <code>load</code> \u3002 \u901A\u8FC7\u6307\u5B9A row \u4E2D\u7684<code>hasChildren</code>\u5B57\u6BB5\u6765\u6307\u5B9A\u54EA\u4E9B\u884C\u662F\u5305\u542B\u5B50\u8282\u70B9\u3002 <code>children</code> \u4E0E<code>hasChildren</code>\u90FD\u53EF\u4EE5\u901A\u8FC7 <code>tree-props</code> \u914D\u7F6E\u3002",17),T=p(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-content.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h3 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> contentConfig<span class="token operator">?.</span>header<span class="token operator">?.</span>title <span class="token operator">??</span> <span class="token string">&#39;\u6570\u636E\u5217\u8868&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleNewData&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> contentConfig<span class="token operator">?.</span>header<span class="token operator">?.</span>btnTitle <span class="token operator">??</span> <span class="token string">&#39;\u65B0\u5EFA\u6570\u636E&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;pageList&quot;</span> <span class="token operator">:</span>border<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;contentConfig.childrenTree&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in contentConfig.propsList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406\u5E26\u81EA\u5B9A\u4E49\u63D2\u69FD\u7684\u65F6\u95F4\u683C\u5F0F\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;timer&#39;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">formatUTC</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span>row<span class="token punctuation">[</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406handle\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;handler&#39;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template #<span class="token keyword">default</span><span class="token operator">=</span><span class="token string">&quot;scope&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;EditPen&quot;</span> link <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleEditClick(scope.row)&quot;</span><span class="token operator">&gt;</span>
                  \u7F16\u8F91
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> link <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleDeleteClick(scope.row.id)&quot;</span><span class="token operator">&gt;</span>
                  \u5220\u9664
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406\u666E\u901A\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> <span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;item.type&quot;</span> <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span> <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;item.label&quot;</span> <span class="token operator">:</span>width<span class="token operator">=</span><span class="token string">&quot;item.width&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span> \u76F8\u5F53\u4E8E\u4E0B\u9762<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
        v<span class="token operator">-</span>model<span class="token operator">:</span>currentPage<span class="token operator">=</span><span class="token string">&quot;currentPage&quot;</span>
        v<span class="token operator">-</span>model<span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">&quot;pageSize&quot;</span>
        <span class="token operator">:</span>page<span class="token operator">-</span>sizes<span class="token operator">=</span><span class="token string">&quot;[10, 20, 30]&quot;</span>
        layout<span class="token operator">=</span><span class="token string">&quot;total, sizes, prev, pager, next, jumper&quot;</span>
        <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">&quot;pageTotalCount&quot;</span>
        <span class="token decorator"><span class="token at operator">@</span><span class="token function">current</span></span><span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">&quot;handleCurrentChange&quot;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> useSystemStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/system/system&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatUTC <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/format&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  contentConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7528\u4E8E\u5904\u7406\u63A5\u53E3\u65B9\u6CD5\u4E2D\u4F20\u5165\u7684pageName\u53C2\u6570</span>
    pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    header<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      btnTitle<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    propsList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    childrenTree<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 1.\u8BF7\u6C42\u6570\u636E</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> currentPage <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> pageSize <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">fetchPageListData</span><span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1.\u83B7\u53D6offset\u548Csize</span>
  <span class="token keyword">const</span> size <span class="token operator">=</span> pageSize<span class="token punctuation">.</span>value
  <span class="token keyword">const</span> offset <span class="token operator">=</span> <span class="token punctuation">(</span>currentPage<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> size
  <span class="token keyword">const</span> pageInfo <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">,</span> offset<span class="token punctuation">}</span>

  <span class="token comment">// 2.\u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42</span>
  <span class="token keyword">const</span> queryInfo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>pageInfo<span class="token punctuation">,</span> <span class="token operator">...</span>formData<span class="token punctuation">}</span>
  systemStore<span class="token punctuation">.</span><span class="token function">getPageListDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> <span class="token punctuation">{</span> offset<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token operator">...</span>queryInfo <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.\u5C55\u793A\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> pageList<span class="token punctuation">,</span> pageTotalCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>systemStore<span class="token punctuation">)</span>

<span class="token comment">// 3.\u7ED1\u5B9A\u5206\u9875\u6570\u636E</span>
<span class="token keyword">function</span> <span class="token function">handleCurrentChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">handleResetClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  currentPage<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
  pageSize<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token function">fetchPageListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 4.\u65B0\u5EFA\u6570\u636E\u7684\u5904\u7406</span>
<span class="token keyword">function</span> <span class="token function">handleNewData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 5.\u5220\u9664\u548C\u7F16\u8F91\u64CD\u4F5C</span>
<span class="token keyword">function</span> <span class="token function">handleDeleteClick</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  systemStore<span class="token punctuation">.</span><span class="token function">deletePageDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handleEditClick</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u66B4\u9732\u51FD\u6570</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  fetchPageListData<span class="token punctuation">,</span>
  handleResetClick
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>content <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
  padding<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>

  <span class="token punctuation">.</span>header <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    height<span class="token operator">:</span> 45px<span class="token punctuation">;</span>
    padding<span class="token operator">:</span> <span class="token number">0</span> 5px<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
    align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>

    <span class="token punctuation">.</span>title <span class="token punctuation">{</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
      font<span class="token operator">-</span>weight<span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>handler <span class="token punctuation">{</span>
      align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>table <span class="token punctuation">{</span>
    <span class="token operator">:</span><span class="token function">deep</span><span class="token punctuation">(</span><span class="token punctuation">.</span>el<span class="token operator">-</span>table__cell<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      padding<span class="token operator">:</span> 14px <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>footer <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> flex<span class="token operator">-</span>end<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528\u914D\u7F6E\u9879\u7ED1\u5B9A<code>row-key</code>\u5C5E\u6027\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// content.config.ts</span>
<span class="token keyword">const</span> contentConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    pageName<span class="token operator">:</span> <span class="token string">&#39;menu&#39;</span><span class="token punctuation">,</span>
    header<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u5217\u8868&#39;</span><span class="token punctuation">,</span>
      btnTitle<span class="token operator">:</span> <span class="token string">&#39;\u65B0\u5EFA\u83DC\u5355&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    propsList<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// \u82E5\u8981\u5B9E\u73B0\u6811\u5F62\u6570\u636E\uFF0C\u5C31\u4E0D\u80FD\u52A0type\uFF0C\u4F1A\u51B2\u7A81</span>
      <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u540D\u79F0&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;180px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u7EA7\u522B&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;120px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token string">&#39;url&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355url&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355icon&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;180px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token string">&#39;sort&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u6392\u5E8F&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;120px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token string">&#39;permission&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u6743\u9650&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;time&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;createAt&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u521B\u5EFA\u65F6\u95F4&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;time&#39;</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token string">&#39;updateAt&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u66F4\u65B0\u65F6\u95F4&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#39;handler&#39;</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">&#39;\u64CD\u4F5C&#39;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&#39;150px&#39;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    childrenTree<span class="token operator">:</span> <span class="token punctuation">{</span>
      rowKey<span class="token operator">:</span> <span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span>
      treeProps<span class="token operator">:</span> <span class="token punctuation">{</span>
        children<span class="token operator">:</span> <span class="token string">&#39;children&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> contentConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u65B0\u589E\u3001\u7F16\u8F91\u6A21\u6001\u6846\u529F\u80FD\u4EE5\u53CA\u5220\u9664\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u65B0\u589E\u3001\u7F16\u8F91\u6A21\u6001\u6846\u529F\u80FD\u4EE5\u53CA\u5220\u9664\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u65B0\u589E\u3001\u7F16\u8F91\u6A21\u6001\u6846\u529F\u80FD\u4EE5\u53CA\u5220\u9664\u529F\u80FD</h3><p>\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\u5B8C\u6210\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// modal.config.ts</span>
<span class="token keyword">const</span> modalConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    pageName<span class="token operator">:</span> <span class="token string">&#39;menu&#39;</span><span class="token punctuation">,</span>
    header<span class="token operator">:</span> <span class="token punctuation">{</span>
      newTitle<span class="token operator">:</span> <span class="token string">&#39;\u65B0\u5EFA\u83DC\u5355&#39;</span><span class="token punctuation">,</span>
      editTitle<span class="token operator">:</span> <span class="token string">&#39;\u7F16\u8F91\u83DC\u5355&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    formItems<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u7EA7\u522B&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u83DC\u5355\u7EA7\u522B&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u7EA7\u522B&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u83DC\u5355\u7EA7\u522B&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355url&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;url&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u83DC\u5355url&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355icon&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;icon&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u83DC\u5355icon&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u6392\u5E8F&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;sort&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u6392\u5E8F&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u6743\u9650&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;permission&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u6743\u9650&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u521B\u5EFA\u65F6\u95F4&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;createAt&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u521B\u5EFA\u65F6\u95F4&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u66F4\u65B0\u65F6\u95F4&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;updateAt&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u66F4\u65B0\u65F6\u95F4&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;custom&#39;</span><span class="token punctuation">,</span>
        slotName<span class="token operator">:</span> <span class="token string">&#39;menulist&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> modalConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7236\u7EC4\u4EF6<code>menu.vue</code>\u4F20\u9012\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u914D\u7F6E\u9879\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;menu&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>content <span class="token operator">:</span>content<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;contentConfig&quot;</span> @<span class="token keyword">new</span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleNewDataClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">edit</span></span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleEditDataClick&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal <span class="token operator">:</span>modal<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;modalConfig&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;menu&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> PageContent <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-content/page-content.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> contentConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/content.config&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> PageModal <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-modal/page-modal.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> modalConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/modal.config&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> usePageModal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/usePageModal&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> modalRef<span class="token punctuation">,</span> handleEditDataClick<span class="token punctuation">,</span> handleNewDataClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u89D2\u8272\u7BA1\u7406\u4E2D\u7684\u6743\u9650\u5206\u914D-\u96BE\u70B9" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u89D2\u8272\u7BA1\u7406\u4E2D\u7684\u6743\u9650\u5206\u914D-\u96BE\u70B9" aria-hidden="true">#</a> \u5B9E\u73B0\u89D2\u8272\u7BA1\u7406\u4E2D\u7684\u6743\u9650\u5206\u914D\uFF08\u96BE\u70B9\uFF09</h2><p><strong>\u5728\u65B0\u5EFA\u89D2\u8272\u65F6\u4F7F\u7528\u4E0A\u6587\u5199\u7684\u81EA\u5B9A\u4E49\u4F5C\u7528\u57DF\u63D2\u69FD\u5B9A\u5236\u5316\u6811\u5F62\u9009\u62E9\u89D2\u8272\u6743\u9650\u5217\u8868\u3002</strong></p><h3 id="\u521B\u5EFA\u89D2\u8272\u7684\u83DC\u5355\u6811\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u89D2\u8272\u7684\u83DC\u5355\u6811\u5C55\u793A" aria-hidden="true">#</a> \u521B\u5EFA\u89D2\u8272\u7684\u83DC\u5355\u6811\u5C55\u793A</h3><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_eZshQ2Ucrq.png" alt=""></p><h4 id="\u5C01\u88C5\u8BF7\u6C42\u63A5\u53E3\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u8BF7\u6C42\u63A5\u53E3\u6570\u636E" aria-hidden="true">#</a> \u5C01\u88C5\u8BF7\u6C42\u63A5\u53E3\u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/main.ts</span>
<span class="token comment">// \u83B7\u53D6\u6240\u6709\u83DC\u5355</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getEntireMenus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&quot;/menu/list&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getEntireDepartments<span class="token punctuation">,</span> getEntireMenus<span class="token punctuation">,</span> getEntireRoles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/main&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IMainState</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    entireMenus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> useMainStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IMainState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        entireMenus<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">fetchEntireDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
            <span class="token keyword">const</span> menuResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getEntireMenus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>entireMenus <span class="token operator">=</span> menuResult<span class="token punctuation">.</span>data<span class="token punctuation">.</span>list
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> useMainStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u5B9A\u4E49\u81EA\u5B9A\u4E49\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u5B9A\u4E49\u81EA\u5B9A\u4E49\u7C7B\u578B" aria-hidden="true">#</a> \u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u5B9A\u4E49\u81EA\u5B9A\u4E49\u7C7B\u578B</h4><p>\u56E0\u4E3A\u65B0\u5EFA\u89D2\u8272\u5728\u6A21\u6001\u6846\u4E2D\u5C55\u73B0\uFF0C\u56E0\u6B64\u5728<code>modal.config.ts</code>\u4E2D\u5B9A\u4E49\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> modalConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    pageName<span class="token operator">:</span> <span class="token string">&#39;role&#39;</span><span class="token punctuation">,</span>
    header<span class="token operator">:</span> <span class="token punctuation">{</span>
      newTitle<span class="token operator">:</span> <span class="token string">&#39;\u65B0\u5EFA\u89D2\u8272&#39;</span><span class="token punctuation">,</span>
      editTitle<span class="token operator">:</span> <span class="token string">&#39;\u7F16\u8F91\u89D2\u8272&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    formItems<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u89D2\u8272\u540D\u79F0&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">&#39;\u6743\u9650\u4ECB\u7ECD&#39;</span><span class="token punctuation">,</span>
        prop<span class="token operator">:</span> <span class="token string">&#39;intro&#39;</span><span class="token punctuation">,</span>
        placeholder<span class="token operator">:</span> <span class="token string">&#39;\u8BF7\u8F93\u5165\u6743\u9650\u4ECB\u7ECD&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// \u81EA\u5B9A\u4E49\u7C7B\u578B</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;custom&#39;</span><span class="token punctuation">,</span>
        slotName<span class="token operator">:</span> <span class="token string">&#39;menulist&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> modalConfig
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7F16\u5199\u81EA\u5B9A\u4E49\u63D2\u69FD" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199\u81EA\u5B9A\u4E49\u63D2\u69FD" aria-hidden="true">#</a> \u7F16\u5199\u81EA\u5B9A\u4E49\u63D2\u69FD</h4><p>\u5728<code>page-modal.vue</code>\u4E2D\u7F16\u5199<code>type</code>\u4E3A<code>custom</code>\u7684\u4F5C\u7528\u57DF\u63D2\u69FD\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span> <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;isEdit ? modalConfig.header.editTitle : modalConfig.header.newTitle&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;30%&quot;</span> center<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;formData&quot;</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;80px&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;large&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in modalConfig.formItems&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;input&#39;&quot;</span><span class="token operator">&gt;</span>
                <span class="token comment">// ...</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

              <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;select&#39;&quot;</span><span class="token operator">&gt;</span>
                <span class="token comment">// ...</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

              <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u81EA\u5B9A\u4E49\u63D2\u69FD\uFF1A\u5982\u89D2\u8272\u7BA1\u7406\u4E2D\u7684\u6743\u9650\u6811\u5F62\u9009\u62E9 <span class="token operator">--</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;custom&#39;&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>slot <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.slotName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728\u7236\u7EC4\u4EF6\u4E2D\u5B9E\u73B0\u83DC\u5355\u5217\u8868\u7684\u81EA\u5B9A\u4E49\u63D2\u69FD" tabindex="-1"><a class="header-anchor" href="#\u5728\u7236\u7EC4\u4EF6\u4E2D\u5B9E\u73B0\u83DC\u5355\u5217\u8868\u7684\u81EA\u5B9A\u4E49\u63D2\u69FD" aria-hidden="true">#</a> \u5728\u7236\u7EC4\u4EF6\u4E2D\u5B9E\u73B0\u83DC\u5355\u5217\u8868\u7684\u81EA\u5B9A\u4E49\u63D2\u69FD</h4><p>\u4F7F\u7528<code>el-tree</code>\u4E2D\u7684\u6811\u8282\u70B9\u9009\u62E9\u5B9E\u73B0\uFF0C\u5C06\u8BF7\u6C42\u63A5\u53E3\u6570\u636E<code>entireMenus</code>\u4F20\u5165\u7ED9<code>:data</code>\u5373\u53EF\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;role&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>search <span class="token operator">:</span>search<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;searchConfig&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">query</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleQueryClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">reset</span></span><span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleResetClick&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>content <span class="token operator">:</span>content<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;contentConfig&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;contentRef&quot;</span> @<span class="token keyword">new</span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleNewDataClick&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">edit</span></span><span class="token operator">-</span>data<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;handleEditDataClick&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal <span class="token operator">:</span>modal<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;modalConfig&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u81EA\u5B9A\u4E49\u83DC\u5355\u5217\u8868 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #menulist<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>tree
          ref<span class="token operator">=</span><span class="token string">&quot;treeRef&quot;</span>
          <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;entireMenus&quot;</span>
          show<span class="token operator">-</span>checkbox
          <span class="token keyword">default</span><span class="token operator">-</span>expand<span class="token operator">-</span>all
          node<span class="token operator">-</span>key<span class="token operator">=</span><span class="token string">&quot;id&quot;</span>
          highlight<span class="token operator">-</span>current
          <span class="token operator">:</span>props<span class="token operator">=</span><span class="token string">&quot;{ children: &#39;children&#39;, label: &#39;name&#39; }&quot;</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>page<span class="token operator">-</span>modal<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> pageSearch <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-search/page-search.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> searchConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/search.config&#39;</span>

<span class="token keyword">import</span> pageContent <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-content/page-content.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> contentConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/content.config&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> pageModal <span class="token keyword">from</span> <span class="token string">&#39;@/components/page-modal/page-modal.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> modalConfig <span class="token keyword">from</span> <span class="token string">&#39;./config/modal.config&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> usePageContent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/usePageContent&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> usePageModal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/usePageModal&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useMainStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/main&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// hooks\u903B\u8F91\u5173\u7CFB</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> contentRef<span class="token punctuation">,</span> handleQueryClick<span class="token punctuation">,</span> handleResetClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> modalRef<span class="token punctuation">,</span> handleEditDataClick<span class="token punctuation">,</span> handleNewDataClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> mainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> entireMenus <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>mainStore<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u89D2\u8272\u643A\u5E26\u83DC\u5355\u6811\u7684\u6743\u9650\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u89D2\u8272\u643A\u5E26\u83DC\u5355\u6811\u7684\u6743\u9650\u6570\u636E" aria-hidden="true">#</a> \u521B\u5EFA\u89D2\u8272\u643A\u5E26\u83DC\u5355\u6811\u7684\u6743\u9650\u6570\u636E</h3><p>\u5C06\u83DC\u5355\u6811\u7684<code>menulist</code>\u548C<code>formData</code>\u7ED1\u5B9A\u4E00\u8D77\u4F20\u9012\u7ED9\u670D\u52A1\u5668\uFF0C\u4F7F\u7528<code>el-tree</code>\u4E2D<code>check</code>\u5C5E\u6027\u83B7\u53D6\u9009\u4E2D\u503C\uFF0C\u91CC\u9762\u6709 2 \u4E2A\u53C2\u6570\uFF0C\u7B2C 2 \u4E2A\u53C2\u6570\u80FD\u591F\u83B7\u53D6\u5F53\u524D\u9009\u4E2D\u7684\u7ED3\u70B9<code>checkedNodes</code>\u4EE5\u53CA\u5B83\u7684\u7236\u7ED3\u70B9<code>halfCheckedNodes</code>\u548C\u5B83\u4EEC\u7684<code>key</code>\u3002</p><h4 id="\u7236\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u6743\u9650\u6570\u636E\u5E76\u4F20\u9012\u7ED9-page-modal-\u5B50\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u6743\u9650\u6570\u636E\u5E76\u4F20\u9012\u7ED9-page-modal-\u5B50\u7EC4\u4EF6" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u4E2D\u83B7\u53D6\u6743\u9650\u6570\u636E\u5E76\u4F20\u9012\u7ED9 page-modal \u5B50\u7EC4\u4EF6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// role.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;role&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal <span class="token operator">:</span>modal<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;modalConfig&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span> <span class="token operator">:</span>other<span class="token operator">-</span>info<span class="token operator">=</span><span class="token string">&quot;otherInfo&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u81EA\u5B9A\u4E49\u83DC\u5355\u5217\u8868 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #menulist<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>tree
          <span class="token comment">// ...</span>
          <span class="token decorator"><span class="token at operator">@</span><span class="token function">check</span></span><span class="token operator">=</span><span class="token string">&quot;handleELTreeCheck&quot;</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>page<span class="token operator">-</span>modal<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token comment">// \u83B7\u53D6\u6811\u5F62\u5217\u8868\u7684key(id)</span>
<span class="token keyword">const</span> otherInfo <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleELTreeCheck</span><span class="token punctuation">(</span>data1<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> data2<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>data2<span class="token punctuation">.</span>checkedKeys<span class="token punctuation">,</span> <span class="token operator">...</span>data2<span class="token punctuation">.</span>halfCheckedKeys<span class="token punctuation">]</span>
  otherInfo<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> menuList <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B50\u7EC4\u4EF6\u63A5\u53D7\u6570\u636E\u5E76\u5C06\u5176\u5408\u5E76\u53D1\u9001\u7ED9\u670D\u52A1\u5668" tabindex="-1"><a class="header-anchor" href="#\u5B50\u7EC4\u4EF6\u63A5\u53D7\u6570\u636E\u5E76\u5C06\u5176\u5408\u5E76\u53D1\u9001\u7ED9\u670D\u52A1\u5668" aria-hidden="true">#</a> \u5B50\u7EC4\u4EF6\u63A5\u53D7\u6570\u636E\u5E76\u5C06\u5176\u5408\u5E76\u53D1\u9001\u7ED9\u670D\u52A1\u5668</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-modal.vue</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;modal&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  modalConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  otherInfo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...</span>

<span class="token comment">// \u70B9\u51FB\u786E\u5B9A</span>
<span class="token keyword">const</span> systemStore <span class="token operator">=</span> <span class="token function">useSystemStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">handleConfirmClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dialogVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token comment">// \u82E5\u6709\u5176\u5B83info\u8FDB\u884C\u5408\u5E76\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF08\u5982\uFF1A\u89D2\u8272\u7BA1\u7406\u4E2D\u65B0\u5EFA\u89D2\u8272\u7684\u6743\u9650\u5206\u914D\u83DC\u5355\u6811menuList\uFF09</span>
  <span class="token keyword">let</span> infoData <span class="token operator">=</span> formData
  <span class="token keyword">if</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>otherInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    infoData <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>formData<span class="token punctuation">,</span> <span class="token operator">...</span>props<span class="token punctuation">.</span>otherInfo<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isEdit<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    systemStore<span class="token punctuation">.</span><span class="token function">newPageDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modalConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> infoData<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    systemStore<span class="token punctuation">.</span><span class="token function">editPageDataAction</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modalConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> editData<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id<span class="token punctuation">,</span> infoData<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7F16\u8F91\u65F6\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E" tabindex="-1"><a class="header-anchor" href="#\u7F16\u8F91\u65F6\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E" aria-hidden="true">#</a> \u7F16\u8F91\u65F6\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E</h3><h4 id="\u5C01\u88C5\u83DC\u5355\u6620\u5C04\u6743\u9650-id-\u5217\u8868\u7684\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u83DC\u5355\u6620\u5C04\u6743\u9650-id-\u5217\u8868\u7684\u5DE5\u5177" aria-hidden="true">#</a> \u5C01\u88C5\u83DC\u5355\u6620\u5C04\u6743\u9650 Id \u5217\u8868\u7684\u5DE5\u5177</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// utils/map-menus.ts</span>
<span class="token comment">/**
 * \u83DC\u5355\u6620\u5C04\u5230id\u7684\u5217\u8868\uFF08\u7528\u4E8E\u89D2\u8272\u7BA1\u7406\u7684\u6743\u9650\u6811\u5206\u914D\uFF09
 * @param menuList
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapMenuListToIds</span><span class="token punctuation">(</span>menuList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> ids<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">function</span> <span class="token function">recurseGetId</span><span class="token punctuation">(</span>menus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> menus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5982\u679C\u6709\u5B50\u83DC\u5355\uFF0C\u5C31\u9012\u5F52\u76F4\u5230\u6CA1\u6709\u5B50\u83DC\u5355\uFF0C\u7136\u540E\u628Aid\u6DFB\u52A0\u5230ids\u4E2D</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">recurseGetId</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ids<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">recurseGetId</span><span class="token punctuation">(</span>menuList<span class="token punctuation">)</span>
  <span class="token keyword">return</span> ids
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u83B7\u53D6\u89D2\u8272\u6743\u9650\u83DC\u5355\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u89D2\u8272\u6743\u9650\u83DC\u5355\u7684\u6570\u636E" aria-hidden="true">#</a> \u83B7\u53D6\u89D2\u8272\u6743\u9650\u83DC\u5355\u7684\u6570\u636E</h4><p>\u5728\u70B9\u51FB\u7F16\u8F91\u6309\u94AE\u89E6\u53D1<code>usePageModal</code>\u4E8B\u4EF6\u65F6\uFF0C\u4F20\u5165\u7684\u53C2\u6570<code>itemData</code>\u4E2D\u53EF\u4EE5\u62FF\u5230\u6A21\u6001\u6846\u91CC\u7684\u6570\u636E\uFF08\u5305\u62EC\u83DC\u5355\u6811\u63A7\u4EF6<code>el-tree</code>\uFF09\uFF0C\u4F46\u662F\u56E0\u4E3A\u70B9\u51FB\u7F16\u8F91\u4E8B\u4EF6\u5C01\u88C5\u5728<code>hooks</code>\u91CC\u9762\uFF0C\u5728<code>role.vue</code>\u4E2D\u9700\u8981\u4F20\u5165\u4E00\u4E2A\u51FD\u6570<code>editCallback</code>\u6765\u83B7\u53D6\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">callbackType</span> <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span>editCallback<span class="token operator">?</span><span class="token operator">:</span> callbackType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> modalRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> PageModal<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// ...</span>
    <span class="token comment">// \u7F16\u8F91\u529F\u80FD</span>
    <span class="token keyword">function</span> <span class="token function">handleEditDataClick</span><span class="token punctuation">(</span>itemData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> itemData<span class="token punctuation">)</span>
        <span class="token comment">// \u56DE\u663E\u89D2\u8272\u7BA1\u7406\u4E2D\u6743\u9650\u83DC\u5355\u6811</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>editCallback<span class="token punctuation">)</span> <span class="token function">editCallback</span><span class="token punctuation">(</span>itemData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        handleEditDataClick<span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 role.vue \u4E2D\u4F7F\u7528<code>editCallback</code>\u51FD\u6570\u6765\u63A5\u53D7\u7F16\u8F91\u4E8B\u4EF6\u4F20\u6765\u7684<code>itemData</code>\uFF08\u5BF9\u8C61\uFF09\uFF0C\u5E76\u5C06\u5176\u7528<code>mapMenuListToIds</code>\u5DE5\u5177\u5904\u7406\u6210<code>id</code>\u6570\u7EC4\uFF0C\u5728<code>nextTick()</code>\u4E2D\u8C03\u7528\u3002</p><blockquote><p><code>nextTick</code>\uFF1A\u5F53\u4F60\u5728 Vue \u4E2D\u66F4\u6539\u54CD\u5E94\u5F0F\u72B6\u6001\u65F6\uFF0C\u6700\u7EC8\u7684 DOM \u66F4\u65B0\u5E76\u4E0D\u662F\u540C\u6B65\u751F\u6548\u7684\uFF0C\u800C\u662F\u7531 Vue \u5C06\u5B83\u4EEC\u7F13\u5B58\u5728\u4E00\u4E2A\u961F\u5217\u4E2D\uFF0C\u76F4\u5230\u4E0B\u4E00\u4E2A\u201Ctick\u201D\u624D\u4E00\u8D77\u6267\u884C\u3002\u8FD9\u6837\u662F\u4E3A\u4E86\u786E\u4FDD\u6BCF\u4E2A\u7EC4\u4EF6\u65E0\u8BBA\u53D1\u751F\u591A\u5C11\u72B6\u6001\u6539\u53D8\uFF0C\u90FD\u4EC5\u6267\u884C\u4E00\u6B21\u66F4\u65B0\u3002<code>nextTick()</code> \u53EF\u4EE5\u5728\u72B6\u6001\u6539\u53D8\u540E\u7ACB\u5373\u4F7F\u7528\uFF0C\u4EE5\u7B49\u5F85 DOM \u66F4\u65B0\u5B8C\u6210\u3002</p></blockquote><blockquote><p>Vue \u662F\u5F02\u6B65\u6267\u884C dom \u66F4\u65B0\u7684\uFF0C\u4E00\u65E6\u89C2\u5BDF\u5230\u6570\u636E\u53D8\u5316\uFF0CVue \u5C31\u4F1A\u5F00\u542F\u4E00\u4E2A\u961F\u5217\uFF0C\u7136\u540E\u628A\u5728\u540C\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF (event loop) \u5F53\u4E2D\u89C2\u5BDF\u5230\u6570\u636E\u53D8\u5316\u7684 watcher \u63A8\u9001\u8FDB\u8FD9\u4E2A\u961F\u5217\u3002\u5982\u679C\u8FD9\u4E2A watcher \u88AB\u89E6\u53D1\u591A\u6B21\uFF0C\u53EA\u4F1A\u88AB\u63A8\u9001\u5230\u961F\u5217\u4E00\u6B21\u3002\u8FD9\u79CD\u7F13\u51B2\u884C\u4E3A\u53EF\u4EE5\u6709\u6548\u7684\u53BB\u6389\u91CD\u590D\u6570\u636E\u9020\u6210\u7684\u4E0D\u5FC5\u8981\u7684\u8BA1\u7B97\u548C DOm \u64CD\u4F5C\u3002\u800C\u5728\u4E0B\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u65F6\uFF0CVue \u4F1A\u6E05\u7A7A\u961F\u5217\uFF0C\u5E76\u8FDB\u884C\u5FC5\u8981\u7684 DOM \u66F4\u65B0\u3002<br> \u5F53\u4F60\u8BBE\u7F6E vm.someData = &#39;new value&#39;\uFF0CDOM \u5E76\u4E0D\u4F1A\u9A6C\u4E0A\u66F4\u65B0\uFF0C\u800C\u662F\u5728\u5F02\u6B65\u961F\u5217\u88AB\u6E05\u9664\uFF0C\u4E5F\u5C31\u662F\u4E0B\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u5F00\u59CB\u65F6\u6267\u884C\u66F4\u65B0\u65F6\u624D\u4F1A\u8FDB\u884C\u5FC5\u8981\u7684 DOM \u66F4\u65B0\u3002\u5982\u679C\u6B64\u65F6\u4F60\u60F3\u8981\u6839\u636E\u66F4\u65B0\u7684 DOM \u72B6\u6001\u53BB\u505A\u67D0\u4E9B\u4E8B\u60C5\uFF0C\u5C31\u4F1A\u51FA\u73B0\u95EE\u9898\u3002\u3002\u4E3A\u4E86\u5728\u6570\u636E\u53D8\u5316\u4E4B\u540E\u7B49\u5F85 Vue \u5B8C\u6210\u66F4\u65B0 DOM \uFF0C\u53EF\u4EE5\u5728\u6570\u636E\u53D8\u5316\u4E4B\u540E\u7ACB\u5373\u4F7F\u7528 Vue.nextTick(callback) \uFF0C\u8FD9\u6837\u56DE\u8C03\u51FD\u6570\u5728 DOM \u66F4\u65B0\u5B8C\u6210\u540E\u5C31\u4F1A\u8C03\u7528\u3002\u5728 Vue3 \u4E2D\u662F\u5FAE\u4EFB\u52A1\uFF0CVue2 \u4E2D\u4E0D\u65AD\u66F4\u65B0\u53D8\u5316\u3002</p></blockquote><p><img src="https://nevermore-picbed-1304219157.cos.ap-guangzhou.myqcloud.com/image_gYbI_P1Qvc.png" alt=""></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;role&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>page<span class="token operator">-</span>modal <span class="token operator">:</span>modal<span class="token operator">-</span>config<span class="token operator">=</span><span class="token string">&quot;modalConfig&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;modalRef&quot;</span> <span class="token operator">:</span>other<span class="token operator">-</span>info<span class="token operator">=</span><span class="token string">&quot;otherInfo&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u81EA\u5B9A\u4E49\u83DC\u5355\u5217\u8868 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #menulist<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>tree
          ref<span class="token operator">=</span><span class="token string">&quot;treeRef&quot;</span>
          <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;entireMenus&quot;</span>
          show<span class="token operator">-</span>checkbox
          <span class="token keyword">default</span><span class="token operator">-</span>expand<span class="token operator">-</span>all
          node<span class="token operator">-</span>key<span class="token operator">=</span><span class="token string">&quot;id&quot;</span>
          highlight<span class="token operator">-</span>current
          <span class="token operator">:</span>props<span class="token operator">=</span><span class="token string">&quot;{ children: &#39;children&#39;, label: &#39;name&#39; }&quot;</span>
          <span class="token decorator"><span class="token at operator">@</span><span class="token function">check</span></span><span class="token operator">=</span><span class="token string">&quot;handleELTreeCheck&quot;</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>page<span class="token operator">-</span>modal<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapMenuListToIds <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/map-menus&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ElTree <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-plus/es/components/index.js&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> modalRef<span class="token punctuation">,</span> handleEditDataClick<span class="token punctuation">,</span> handleNewDataClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span>editCallback<span class="token punctuation">)</span>

<span class="token comment">// ...</span>
<span class="token comment">// \u7F16\u8F91\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E</span>
<span class="token keyword">const</span> treeRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> ElTree<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">editCallback</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token function">mapMenuListToIds</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>menuList<span class="token punctuation">)</span>
    <span class="token comment">// \u53EA\u6709\u5728nextTick\u4E4B\u540E\u624D\u80FD\u8BBE\u7F6EsetCheckedKeys</span>
    treeRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setCheckedKeys</span><span class="token punctuation">(</span>menuList<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u65B0\u589E\u65F6\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E\u91CD\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u65B0\u589E\u65F6\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E\u91CD\u7F6E" aria-hidden="true">#</a> \u65B0\u589E\u65F6\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E\u91CD\u7F6E</h3><h4 id="\u91CD\u7F6E\u89D2\u8272\u6743\u9650\u83DC\u5355\u6811\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u91CD\u7F6E\u89D2\u8272\u6743\u9650\u83DC\u5355\u6811\u7684\u6570\u636E" aria-hidden="true">#</a> \u91CD\u7F6E\u89D2\u8272\u6743\u9650\u83DC\u5355\u6811\u7684\u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// role.vue</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapMenuListToIds <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/map-menus&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ElTree <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-plus/es/components/index.js&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> modalRef<span class="token punctuation">,</span> handleEditDataClick<span class="token punctuation">,</span> handleNewDataClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span>newCallback<span class="token punctuation">,</span> editCallback<span class="token punctuation">)</span>

<span class="token comment">// ...</span>
<span class="token comment">// \u65B0\u589E\u89D2\u8272\u83DC\u5355\u6743\u9650\u91CD\u7F6E</span>
<span class="token keyword">function</span> <span class="token function">newCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    treeRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setCheckedKeys</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u7F16\u8F91\u89D2\u8272\u83DC\u5355\u6743\u9650\u56DE\u663E...</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="hooks-\u4E2D\u8C03\u7528" tabindex="-1"><a class="header-anchor" href="#hooks-\u4E2D\u8C03\u7528" aria-hidden="true">#</a> hooks \u4E2D\u8C03\u7528</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// ...</span>
<span class="token keyword">type</span> <span class="token class-name">callbackType</span> <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">usePageModal</span><span class="token punctuation">(</span>newCallback<span class="token operator">?</span><span class="token operator">:</span> callbackType<span class="token punctuation">,</span> editCallback<span class="token operator">?</span><span class="token operator">:</span> callbackType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> modalRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> PageModal<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// \u65B0\u589E\u529F\u80FD</span>
    <span class="token keyword">function</span> <span class="token function">handleNewDataClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modalRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">setDialogVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>newCallback<span class="token punctuation">)</span> <span class="token function">newCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u7F16\u8F91\u529F\u80FD...</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        modalRef<span class="token punctuation">,</span>
        handleEditDataClick<span class="token punctuation">,</span>
        handleNewDataClick
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u767B\u5F55\u7528\u6237\u7684\u6743\u9650\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u767B\u5F55\u7528\u6237\u7684\u6743\u9650\u529F\u80FD" aria-hidden="true">#</a> \u5B9E\u73B0\u767B\u5F55\u7528\u6237\u7684\u6743\u9650\u529F\u80FD</h2><p>\u901A\u8FC7\u6BCF\u4E2A\u5B50\u83DC\u5355\u4E0B\u589E\u5220\u6539\u67E5\u7684\u5982<code>permission:&quot;system:users:create&quot;</code>\u5B57\u6BB5\u5B9E\u73B0\uFF0C\u7528\u4E8E\u63A7\u5236\u6309\u94AE\u6743\u9650\u7684\u5C55\u793A\u3002</p><h3 id="\u5C01\u88C5\u83DC\u5355\u6620\u5C04\u6309\u94AE\u6743\u9650\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u83DC\u5355\u6620\u5C04\u6309\u94AE\u6743\u9650\u5DE5\u5177" aria-hidden="true">#</a> \u5C01\u88C5\u83DC\u5355\u6620\u5C04\u6309\u94AE\u6743\u9650\u5DE5\u5177</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// map-menus.ts</span>
<span class="token comment">/**
 * \u83DC\u5355\u6620\u5C04\u5230\u6309\u94AE\u7684\u6743\u9650permissions
 * @param menuList \u83DC\u5355\u5217\u8868
 * @returns \u6743\u9650\u7684\u6570\u7EC4
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mapMenuListToPermissions</span><span class="token punctuation">(</span>menuList <span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> permissions<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">function</span> <span class="token function">recurseGetPermission</span><span class="token punctuation">(</span>menus<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> menus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        permissions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>permission<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6CA1\u6709\u5B50\u6811\u7684\u8BDD\u5C31\u5C06menus\u8BBE\u7F6E\u4E3A\u7A7A\u6570\u7EC4\uFF0C\u5426\u5219\u4F1Anull/undefine\u62A5\u9519</span>
        <span class="token function">recurseGetPermission</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">recurseGetPermission</span><span class="token punctuation">(</span>menuList<span class="token punctuation">)</span>

  <span class="token keyword">return</span> permissions
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u83B7\u53D6\u767B\u5F55\u7528\u6237\u7684\u6240\u6709\u6309\u94AE\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u767B\u5F55\u7528\u6237\u7684\u6240\u6709\u6309\u94AE\u6743\u9650" aria-hidden="true">#</a> \u83B7\u53D6\u767B\u5F55\u7528\u6237\u7684\u6240\u6709\u6309\u94AE\u6743\u9650</h3><p>\u4F7F\u7528\u83DC\u5355\u6620\u5C04\u6309\u94AE\u6743\u9650\u5DE5\u5177\uFF0C\u83B7\u53D6\u767B\u5F55\u7528\u6237\u7684\u6240\u6709\u6743\u9650\uFF0C\u5B58\u5165<code>pinia</code>\u4E2D\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapMenuListToPermissions<span class="token punctuation">,</span> mapMenuToRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/map-menus&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">ILoginState</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    permissions<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> useLoginStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ILoginState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        permissions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">loginAccountAction</span><span class="token punctuation">(</span>account<span class="token operator">:</span> IAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>

            <span class="token comment">// 7.\u83B7\u53D6\u767B\u5F55\u7528\u6237\u7684\u6240\u6709\u6309\u94AE\u6743\u9650</span>
            <span class="token keyword">const</span> permissions <span class="token operator">=</span> <span class="token function">mapMenuListToPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userMenus<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>permissions <span class="token operator">=</span> permissions
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// \u89E3\u51B3\u5237\u65B0\u9875\u9762\u540E\uFF0C\u52A8\u6001\u8DEF\u7531\u4E22\u5931\u7684\u95EE\u9898(\u4E0D\u518D\u662FloginAccountAction\u767B\u5F55\u65F6\u624D\u6267\u884C)</span>
        <span class="token function">loadLocalDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> userInfo <span class="token operator">&amp;&amp;</span> userMenus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// ...</span>
                <span class="token comment">// \u5237\u65B0\u65F6\u7F13\u5B58\u6309\u94AE\u6743\u9650</span>
                <span class="token keyword">const</span> permissions <span class="token operator">=</span> <span class="token function">mapMenuListToPermissions</span><span class="token punctuation">(</span>userMenus<span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>permissions <span class="token operator">=</span> permissions
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useLoginStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C01\u88C5\u6743\u9650-hooks" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u6743\u9650-hooks" aria-hidden="true">#</a> \u5C01\u88C5\u6743\u9650 hooks</h3><p>\u7528\u4E8E\u67E5\u8BE2\u67D0\u4E2A\u9875\u9762\u7684\u6743\u9650\u662F\u5426\u5728\u83B7\u53D6\u5230\u7684\u767B\u5F55\u7528\u6237\u6240\u6709\u6743\u9650\u4E2D\uFF0C\u5982\u5224\u65AD<code>department:create</code>\u3001<code>department:update</code>\u662F\u5426\u5305\u542B\u5728\u767B\u5F55\u7528\u6237\u5B58\u5165\u5728<code>pinia</code>\u4E2D\u7684<code>permissions</code>\u6570\u7EC4\uFF0C\u7528<code>permissions.find</code>\u53BB\u67E5\u627E\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// hooks/usePermission.ts</span>
<span class="token keyword">import</span> useLoginStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/login/login&#39;</span>

<span class="token keyword">function</span> <span class="token function">usePermission</span><span class="token punctuation">(</span>pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> handleName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> queryPermission <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pageName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>handleName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> permissions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useLoginStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// !!\u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u5E03\u5C14\u503C</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>permissions<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>queryPermission<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> usePermission
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7F16\u5199-page-content-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199-page-content-\u7EC4\u4EF6" aria-hidden="true">#</a> \u7F16\u5199 Page-content \u7EC4\u4EF6</h3><p>\u8C03\u7528 hooks\uFF0C\u5224\u65AD\u6BCF\u4E00\u4E2A\u6309\u94AE\u662F\u5426\u6709\u6709\u5BF9\u5E94\u7684\u589E\u5220\u6539\u67E5\u6743\u9650\uFF0C\u4F7F\u7528<code>v-if</code>\u63A7\u5236\u5BF9\u5E94\u6309\u94AE\u7684\u663E\u793A\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
      <span class="token comment">// ...</span>
      <span class="token comment">// \u589E</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isCreate&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleNewData&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> contentConfig<span class="token operator">?.</span>header<span class="token operator">?.</span>btnTitle <span class="token operator">??</span> <span class="token string">&#39;\u65B0\u5EFA\u6570\u636E&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;table&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;pageList&quot;</span> <span class="token operator">:</span>border<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 100%&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;contentConfig.childrenTree&quot;</span><span class="token operator">&gt;</span>
            <span class="token comment">// ...</span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> \u5904\u7406handle\u7C7B\u578B <span class="token operator">--</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type === &#39;handler&#39;&quot;</span><span class="token operator">&gt;</span>
            <span class="token comment">// ...</span>
            <span class="token comment">// \u6539</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isUpdate&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;EditPen&quot;</span> link <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleEditClick(scope.row)&quot;</span><span class="token operator">&gt;</span>
              \u7F16\u8F91
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
            <span class="token comment">// \u5220</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>button v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isDelete&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;small&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;Delete&quot;</span> link <span class="token decorator"><span class="token at operator">@</span><span class="token function">click</span></span><span class="token operator">=</span><span class="token string">&quot;handleDeleteClick(scope.row.id)&quot;</span><span class="token operator">&gt;</span>
              \u5220\u9664
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
          <span class="token comment">// ...</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> usePermission <span class="token keyword">from</span> <span class="token string">&#39;@/hooks/usePermission&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  contentConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7528\u4E8E\u5904\u7406\u63A5\u53E3\u65B9\u6CD5\u4E2D\u4F20\u5165\u7684pageName\u53C2\u6570</span>
    pageName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    header<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      btnTitle<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    propsList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    childrenTree<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;newDataClick&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;editDataClick&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 0. \u83B7\u53D6\u662F\u5426\u6709\u5BF9\u5E94\u7684\u589E\u5220\u6539\u67E5\u6743\u9650</span>
<span class="token comment">// \u589E</span>
<span class="token keyword">const</span> isCreate <span class="token operator">=</span> <span class="token function">usePermission</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> <span class="token string">&#39;create&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u5220</span>
<span class="token keyword">const</span> isDelete <span class="token operator">=</span> <span class="token function">usePermission</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> <span class="token string">&#39;delete&#39;</span><span class="token punctuation">)</span>\u3011
<span class="token comment">// \u6539</span>
<span class="token keyword">const</span> isUpdate <span class="token operator">=</span> <span class="token function">usePermission</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> <span class="token string">&#39;update&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u67E5</span>
<span class="token keyword">const</span> isQuery <span class="token operator">=</span> <span class="token function">usePermission</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>contentConfig<span class="token punctuation">.</span>pageName<span class="token punctuation">,</span> <span class="token string">&#39;query&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 1.\u8BF7\u6C42\u6570\u636E...</span>
<span class="token keyword">function</span> <span class="token function">fetchPageListData</span><span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u67E5</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isQuery<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7EC6\u8282\u5904\u7406-\u65B0\u589E\u7F16\u8F91\u5220\u9664\u64CD\u4F5C\u91CD\u7F6E-current-\u5206\u9875" tabindex="-1"><a class="header-anchor" href="#\u7EC6\u8282\u5904\u7406-\u65B0\u589E\u7F16\u8F91\u5220\u9664\u64CD\u4F5C\u91CD\u7F6E-current-\u5206\u9875" aria-hidden="true">#</a> (\u7EC6\u8282\u5904\u7406)\u65B0\u589E\u7F16\u8F91\u5220\u9664\u64CD\u4F5C\u91CD\u7F6E current \u5206\u9875</h2>`,60),M=s("\u901A\u8FC7\u4F7F\u7528"),_=n("code",null,"pinia",-1),z=s("\u4E2D\u7684"),N={href:"https://pinia.vuejs.org/zh/core-concepts/actions.html#subscribing-to-actions",target:"_blank",rel:"noopener noreferrer"},U=s("\u8BA2\u9605"),V={href:"https://pinia.vuejs.org/zh/core-concepts/actions.html#subscribing-to-actions",target:"_blank",rel:"noopener noreferrer"},F=n("code",null,"action",-1),j=s("\uFF0C\u53BB\u76D1\u542C\u589E\u5220\u6539\u7684"),O=n("code",null,"actions",-1),G=s("\uFF0C\u4ECE\u800C\u5C06"),B=n("code",null,"current",-1),H=s("\u91CD\u7F6E\u3002"),Q=p(`<blockquote><p>\u8BA2\u9605 <code>action</code>\uFF1A\u4F60\u53EF\u4EE5\u901A\u8FC7 <code>store.$onAction()</code> \u6765\u76D1\u542C <code>action</code> \u548C\u5B83\u4EEC\u7684\u7ED3\u679C\u3002\u4F20\u9012\u7ED9\u5B83\u7684\u56DE\u8C03\u51FD\u6570\u4F1A\u5728 <code>action</code> \u672C\u8EAB\u4E4B\u524D\u6267\u884C\u3002<code>after</code> \u8868\u793A\u5728 promise \u89E3\u51B3\u4E4B\u540E\uFF0C\u5141\u8BB8\u4F60\u5728 <code>action</code> \u89E3\u51B3\u540E\u6267\u884C\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u3002\u540C\u6837\u5730\uFF0C<code>onError</code> \u5141\u8BB8\u4F60\u5728 <code>action</code> \u629B\u51FA\u9519\u8BEF\u6216 <code>reject</code> \u65F6\u6267\u884C\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u3002</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-content.vue</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token comment">// 6.\u76D1\u542CsystemStore\u7684\u589E\u5220\u6539action,\u5C06\u9875\u9762currentPage\u91CD\u7F6E</span>
systemStore<span class="token punctuation">.</span><span class="token function">$onAction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> after <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// after\u8868\u793A\u5728action\u6210\u529F\u6267\u884C\u4E4B\u540E\u6267\u884C\uFF08\u5931\u8D25\u65F6\u4E0D\u6267\u884C\uFF09</span>
  <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">&#39;editPageDataAction&#39;</span> <span class="token operator">||</span> name <span class="token operator">===</span> <span class="token string">&#39;newPageDataAction&#39;</span> <span class="token operator">||</span> name <span class="token operator">===</span> <span class="token string">&#39;deletePageDataAction&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      currentPage<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0\u6570\u636E\u7EDF\u8BA1\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u6570\u636E\u7EDF\u8BA1\u9875\u9762" aria-hidden="true">#</a> \u5B9E\u73B0\u6570\u636E\u7EDF\u8BA1\u9875\u9762</h2><h3 id="\u5B9E\u73B0\u9876\u90E8\u5361\u7247\u7EC4\u4EF6\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u9876\u90E8\u5361\u7247\u7EC4\u4EF6\u9875\u9762" aria-hidden="true">#</a> \u5B9E\u73B0\u9876\u90E8\u5361\u7247\u7EC4\u4EF6\u9875\u9762</h3><h4 id="\u5B9E\u73B0\u5B50\u7EC4\u4EF6\u6570\u5B57\u7EDF\u8BA1\u5361\u7247\u7684\u9759\u6001\u9ED8\u8BA4\u5C55\u793A\u3002" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5B50\u7EC4\u4EF6\u6570\u5B57\u7EDF\u8BA1\u5361\u7247\u7684\u9759\u6001\u9ED8\u8BA4\u5C55\u793A\u3002" aria-hidden="true">#</a> \u5B9E\u73B0\u5B50\u7EC4\u4EF6\u6570\u5B57\u7EDF\u8BA1\u5361\u7247\u7684\u9759\u6001\u9ED8\u8BA4\u5C55\u793A\u3002</h4><p>\u4F7F\u7528\u4E86<code>withDefaults</code>\u5B9E\u73B0\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// cpns/count-card/count-card.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;count-card&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>tooltip <span class="token operator">:</span>content<span class="token operator">=</span><span class="token string">&quot;tips&quot;</span> placement<span class="token operator">=</span><span class="token string">&quot;top-start&quot;</span> effect<span class="token operator">=</span><span class="token string">&quot;dark&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>icon<span class="token operator">&gt;</span><span class="token operator">&lt;</span>Warning <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>icon<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;count&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> number1 <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> subtitle <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> number2 <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
    title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    tips<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    number1<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    number2<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    subtitle<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// withDefaults\u9ED8\u8BA4\u503C</span>
<span class="token function">withDefaults</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">&#39;\u5546\u54C1\u603B\u9500\u91CF&#39;</span><span class="token punctuation">,</span>
    tips<span class="token operator">:</span> <span class="token string">&#39;\u6240\u6709\u5546\u54C1\u7684\u603B\u9500\u91CF&#39;</span><span class="token punctuation">,</span>
    number1<span class="token operator">:</span> <span class="token number">509989</span><span class="token punctuation">,</span>
    number2<span class="token operator">:</span> <span class="token number">509989</span><span class="token punctuation">,</span>
    subtitle<span class="token operator">:</span> <span class="token string">&#39;\u5546\u54C1\u603B\u9500\u91CF&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>count<span class="token operator">-</span>card <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    flex<span class="token operator">-</span>direction<span class="token operator">:</span> column<span class="token punctuation">;</span>
    padding<span class="token operator">:</span> <span class="token number">0</span> 20px<span class="token punctuation">;</span>
    height<span class="token operator">:</span> 130px<span class="token punctuation">;</span>
    background<span class="token operator">:</span> white<span class="token punctuation">;</span>
    box<span class="token operator">-</span>shadow<span class="token operator">:</span> <span class="token number">0</span> <span class="token number">0</span> 10px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">.</span>header <span class="token punctuation">{</span>
        display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 38px<span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
        color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
        align<span class="token operator">-</span>items<span class="token operator">:</span> flex<span class="token operator">-</span>end
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>content <span class="token punctuation">{</span>
        display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
        flex<span class="token operator">-</span>direction<span class="token operator">:</span> column<span class="token punctuation">;</span>
        justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
        align<span class="token operator">-</span>items<span class="token operator">:</span> flex<span class="token operator">-</span>start<span class="token punctuation">;</span>
        flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        margin<span class="token operator">-</span>left<span class="token operator">:</span> 0px<span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span> 26px<span class="token punctuation">;</span>
        color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.85</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span>footer <span class="token punctuation">{</span>
        display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 38px<span class="token punctuation">;</span>
        line<span class="token operator">-</span>height<span class="token operator">:</span> 38px<span class="token punctuation">;</span>
        letter<span class="token operator">-</span>spacing<span class="token operator">:</span> 1px<span class="token punctuation">;</span>
        color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.85</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        border<span class="token operator">-</span>top<span class="token operator">:</span> 1px solid #f0f0f0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42\u5B9E\u73B0\u52A8\u6001\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42\u5B9E\u73B0\u52A8\u6001\u9875\u9762" aria-hidden="true">#</a> \u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42\u5B9E\u73B0\u52A8\u6001\u9875\u9762</h4><p>\u4F7F\u7528<code>hyRequest</code>\u548C<code>pinia</code>\u5C01\u88C5\u7F51\u7EDC\u8BF7\u6C42\u4EE5\u53CA\u6570\u636E\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/main/analysis.ts</span>
<span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&quot;@/service&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getAmountListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/goods/amount/list&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getAmountListData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/analysis/analysis&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IAnalysisState</span> <span class="token punctuation">{</span>
    amountList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> useAnalysisStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;analysis&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IAnalysisState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        amountList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> amountResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getAmountListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>amountList <span class="token operator">=</span> amountResult<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useAnalysisStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u83B7\u53D6\u8BF7\u6C42\u6570\u636E\u5E76\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u83B7\u53D6\u8BF7\u6C42\u6570\u636E\u5E76\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u83B7\u53D6\u8BF7\u6C42\u6570\u636E\u5E76\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// views/main/analysis.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in amountList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.amount&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span> <span class="token operator">:</span>xs<span class="token operator">=</span><span class="token string">&quot;24&quot;</span> <span class="token operator">:</span>sm<span class="token operator">=</span><span class="token string">&quot;12&quot;</span> <span class="token operator">:</span>md<span class="token operator">=</span><span class="token string">&quot;8&quot;</span> <span class="token operator">:</span>lg<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>count<span class="token operator">-</span>card v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> countCard <span class="token keyword">from</span> <span class="token string">&quot;./cpns/count-card/count-card.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useAnalysisStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/analysis/analysis&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token comment">// \u53D1\u8D77actions\u5C01\u88C5\u7684\u7F51\u7EDC\u8BF7\u6C42</span>
<span class="token keyword">const</span> analysisStore <span class="token operator">=</span> <span class="token function">useAnalysisStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
analysisStore<span class="token punctuation">.</span><span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> amountList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>analysisStore<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u9876\u90E8\u5361\u7247\u4E2D\u7684\u6570\u636E\u9012\u589E\u52A8\u753B\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u9876\u90E8\u5361\u7247\u4E2D\u7684\u6570\u636E\u9012\u589E\u52A8\u753B\u5B9E\u73B0" aria-hidden="true">#</a> \u9876\u90E8\u5361\u7247\u4E2D\u7684\u6570\u636E\u9012\u589E\u52A8\u753B\u5B9E\u73B0</h3><p>\u5B89\u88C5<code>npm install countup.js</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token comment">// ...</span>
  <span class="token operator">&lt;</span>span ref<span class="token operator">=</span><span class="token string">&quot;count1Ref&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> number1 <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>span ref<span class="token operator">=</span><span class="token string">&quot;count2Ref&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> number2 <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// \u6570\u5B57\u9012\u589E\u52A8\u753B</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CountUp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;countup.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
    amount<span class="token operator">?</span> <span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
    title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    tips<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    number1<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    number2<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    subtitle<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// withDefaults\u9ED8\u8BA4\u503C</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">withDefaults</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">&#39;\u5546\u54C1\u603B\u9500\u91CF&#39;</span><span class="token punctuation">,</span>
    tips<span class="token operator">:</span> <span class="token string">&#39;\u6240\u6709\u5546\u54C1\u7684\u603B\u9500\u91CF&#39;</span><span class="token punctuation">,</span>
    number1<span class="token operator">:</span> <span class="token number">509989</span><span class="token punctuation">,</span>
    number2<span class="token operator">:</span> <span class="token number">509989</span><span class="token punctuation">,</span>
    subtitle<span class="token operator">:</span> <span class="token string">&#39;\u5546\u54C1\u603B\u9500\u91CF&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u7ED9\u6570\u5B57\u524D\u9762\u52A0\u524D\u7F00\xA5</span>
<span class="token keyword">const</span> countOption <span class="token operator">=</span> <span class="token punctuation">{</span>
    prefix<span class="token operator">:</span> props<span class="token punctuation">.</span>amount <span class="token operator">==</span> <span class="token string">&#39;sale&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;\xA5&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u521B\u5EFACountUp\u7684\u5B9E\u4F8B\u5BF9\u8C61</span>
<span class="token keyword">const</span> count1Ref <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count2Ref <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u53C2\u65701: \u6570\u5B57\u52A8\u753B\u7684\u5143\u7D20</span>
<span class="token comment">// \u53C2\u65702: \u6570\u5B57\u589E\u52A0\u5230\u591A\u5C11</span>
<span class="token comment">// \u53C2\u65703: \u7ED9\u53C2\u65701\u524D\u9762\u52A0\u4E2A\u524D\u7F00\uFF0C\u5982\xA5</span>
<span class="token comment">// \u8FD9\u91CC\u4F7F\u7528onMounted\u662F\u56E0\u4E3Asetup\u7684\u65F6\u5019\u8FD8\u6CA1\u6302\u8F7D\u5230ref,\u5C31\u4F1A\u62A5\u9519</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> countup1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountUp</span><span class="token punctuation">(</span>count1Ref<span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>number1<span class="token punctuation">,</span> countOption<span class="token punctuation">)</span>
    <span class="token keyword">const</span> countup2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountUp</span><span class="token punctuation">(</span>count2Ref<span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>number2<span class="token punctuation">,</span> countOption<span class="token punctuation">)</span>

    countup1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    countup2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u9876\u90E8\u5361\u7247\u54CD\u5E94\u5F0F\u5E03\u5C40" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u9876\u90E8\u5361\u7247\u54CD\u5E94\u5F0F\u5E03\u5C40" aria-hidden="true">#</a> \u5B9E\u73B0\u9876\u90E8\u5361\u7247\u54CD\u5E94\u5F0F\u5E03\u5C40</h3><p>\u4F7F\u7528<code>el-col</code>\u7684<code>xs</code>\uFF0C<code>sm</code>\uFF0C<code>md</code>\uFF0C<code>lg</code>\uFF0C<code>xl</code>\u5B9E\u73B0\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span> <span class="token operator">:</span>xs<span class="token operator">=</span><span class="token string">&quot;24&quot;</span> <span class="token operator">:</span>sm<span class="token operator">=</span><span class="token string">&quot;12&quot;</span> <span class="token operator">:</span>md<span class="token operator">=</span><span class="token string">&quot;8&quot;</span> <span class="token operator">:</span>lg<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
  <span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B9E\u73B0-echart-\u53EF\u89C6\u5316" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0-echart-\u53EF\u89C6\u5316" aria-hidden="true">#</a> \u5B9E\u73B0 echart \u53EF\u89C6\u5316</h2>`,20),Y=s("\u5B89\u88C5\uFF1A"),$={href:"https://echarts.apache.org/handbook/zh/get-started/",target:"_blank",rel:"noopener noreferrer"},W=n("code",null,"npm install echarts --save",-1),K=p(`<h3 id="\u521D\u6B65\u642D\u5EFA\u53EF\u89C6\u5316\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u521D\u6B65\u642D\u5EFA\u53EF\u89C6\u5316\u9875\u9762" aria-hidden="true">#</a> \u521D\u6B65\u642D\u5EFA\u53EF\u89C6\u5316\u9875\u9762</h3><h4 id="\u4F7F\u7528-element-\u5C01\u88C5\u5361\u7247\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-element-\u5C01\u88C5\u5361\u7247\u7EC4\u4EF6" aria-hidden="true">#</a> \u4F7F\u7528 element \u5C01\u88C5\u5361\u7247\u7EC4\u4EF6</h4><p>\u4F7F\u7528<code>el-card</code>\u5361\u7247\uFF0C\u5C06<code>echart</code>\u53EF\u89C6\u5316\u56FE\u5F62\u805A\u5408\u5728\u5361\u7247\u5BB9\u5668\u4E2D\u5C55\u793A\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// chart-card.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;chart-card&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>card <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box-card&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template #header<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;cart-header&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token function">\u5206\u7C7B\u5546\u54C1\u6570\u91CF</span><span class="token punctuation">(</span>\u997C\u56FE<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5F15\u5165-echarts-\u7684\u997C\u56FE" tabindex="-1"><a class="header-anchor" href="#\u5F15\u5165-echarts-\u7684\u997C\u56FE" aria-hidden="true">#</a> \u5F15\u5165 ECharts \u7684\u997C\u56FE</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// dashboard.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span><span class="token operator">&gt;</span>
    <span class="token comment">// \u9876\u90E8\u5361\u7247\u7EC4\u4EF6</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in amountList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.amount&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>count<span class="token operator">-</span>card v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token comment">// echart\u997C\u56FE</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;7&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;echart&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;echartRef&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;7&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;12&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>\u6298\u7EBF\u56FE<span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;12&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>\u67F1\u72B6\u56FE<span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token keyword">import</span> chartCard <span class="token keyword">from</span> <span class="token string">&quot;./cpns/chart-card/chart-card.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>

<span class="token comment">// \u53D1\u8D77actions\u5C01\u88C5\u7684\u7F51\u7EDC\u8BF7\u6C42...</span>
<span class="token comment">// \u83B7\u53D6\u6570\u636E...</span>

<span class="token comment">// 1. \u5F15\u7528dom\u5B9E\u4F8B</span>
<span class="token keyword">const</span> echartRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2. \u57FA\u4E8E\u51C6\u5907\u597D\u7684dom\uFF0C\u521D\u59CB\u5316echart\u5B9E\u4F8B</span>
  <span class="token keyword">const</span> echartInstance <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>echartRef<span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">,</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    renderer<span class="token operator">:</span> <span class="token string">&#39;canvas&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 3.\u8BBE\u7F6Eoptions(\u914D\u7F6E)</span>
  echartInstance<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span> <span class="token string">&#39;Referer of a Website&#39;</span><span class="token punctuation">,</span>
      subtext<span class="token operator">:</span> <span class="token string">&#39;Fake Data&#39;</span><span class="token punctuation">,</span>
      left<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;item&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    legend<span class="token operator">:</span> <span class="token punctuation">{</span>
      orient<span class="token operator">:</span> <span class="token string">&#39;vertical&#39;</span><span class="token punctuation">,</span>
      left<span class="token operator">:</span> <span class="token string">&#39;left&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&#39;Access From&#39;</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#39;pie&#39;</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token string">&#39;50%&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">1048</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Search Engine&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">735</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Direct&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">580</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Email&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">484</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Union Ads&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Video Ads&#39;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
          itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            shadowBlur<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            shadowOffsetX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            shadowColor<span class="token operator">:</span> <span class="token string">&#39;rgba(0, 0, 0, 0.5)&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>el<span class="token operator">-</span>row <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>echart <span class="token punctuation">{</span>
  height<span class="token operator">:</span> 250px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4E09\u5C42\u7EC4\u4EF6\u5C01\u88C5-echart" tabindex="-1"><a class="header-anchor" href="#\u4E09\u5C42\u7EC4\u4EF6\u5C01\u88C5-echart" aria-hidden="true">#</a> \u4E09\u5C42\u7EC4\u4EF6\u5C01\u88C5 echart</h3><h4 id="\u5C01\u88C5-base-echart-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-base-echart-\u7EC4\u4EF6" aria-hidden="true">#</a> \u5C01\u88C5 Base-echart \u7EC4\u4EF6</h4><p><code>base-echart</code>\u505A\u521D\u59CB\u5316\uFF08\u57FA\u4E8E\u51C6\u5907\u597D\u7684<code>dom</code>\uFF0C\u521D\u59CB\u5316<code>echart</code>\u5B9E\u4F8B\uFF09\uFF0C\u7528\u4E8E\u63A5\u6536\u4E0D\u540C<code>echart</code>\u56FE\u5F62\u7684<code>option</code>\u914D\u7F6E\u3002\u76D1\u542C<code>window</code>\u7684<code>resize</code>\u5C5E\u6027\u8BBE\u7F6E<code>echartInstance.resize()</code>\u53EF\u4EE5\u5B9E\u73B0<code>echart</code>\u7684\u54CD\u5E94\u5F0F\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// base-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;base-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;echart&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;echartRef&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token comment">// \u83B7\u53D6echart\u7684option\u7C7B\u578B</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>

<span class="token comment">// \u63A5\u6536\u6BCF\u4E2Aechart\u4E0D\u540C\u914D\u7F6E</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
    option<span class="token operator">:</span> EChartsOption
<span class="token punctuation">}</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 1. \u5F15\u7528dom\u5B9E\u4F8B</span>
<span class="token keyword">const</span> echartRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2. \u57FA\u4E8E\u51C6\u5907\u597D\u7684dom\uFF0C\u521D\u59CB\u5316echart\u5B9E\u4F8B</span>
  <span class="token keyword">const</span> echartInstance <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>echartRef<span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">,</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    renderer<span class="token operator">:</span> <span class="token string">&#39;canvas&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 3.\u7B2C\u4E00\u6B21options(\u914D\u7F6E),\u52A8\u6001\u4F20\u5165\u6BCF\u4E2A\u56FE\u7684option</span>
  <span class="token comment">// watchEffect\u76D1\u542Coption\u53D8\u5316\uFF0C\u91CD\u65B0\u6267\u884C</span>
  <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> echartInstance<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>option<span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// 4.\u76D1\u542Cwindow\u7F29\u653E\u5B9E\u73B0echart\u54CD\u5E94\u5F0F\u5E03\u5C40</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    echartInstance<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>echart <span class="token punctuation">{</span>
  height<span class="token operator">:</span> 250px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7ED8\u5236-echarts-\u56FE\u5F62" tabindex="-1"><a class="header-anchor" href="#\u7ED8\u5236-echarts-\u56FE\u5F62" aria-hidden="true">#</a> \u7ED8\u5236 ECharts \u56FE\u5F62</h4><p>\u7F16\u5199<code>option</code>\u914D\u7F6E\uFF0C\u5C06<code>option</code>\u4F20\u5165\u5B50\u7EC4\u4EF6<code>base-echart.vue</code>\uFF0C\u4F7F\u7528<code>:option</code>\u63A5\u6536\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// pie-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pie-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>base<span class="token operator">-</span>echart <span class="token operator">:</span>option<span class="token operator">=</span><span class="token string">&quot;option&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./base-echart.vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>

<span class="token comment">// \u53EA\u8D1F\u8D23\u4F20\u5165\u997C\u56FE\u7684option</span>
<span class="token keyword">const</span> option<span class="token operator">:</span> EChartsOption <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span> <span class="token string">&#39;Referer of a Website&#39;</span><span class="token punctuation">,</span>
      subtext<span class="token operator">:</span> <span class="token string">&#39;Fake Data&#39;</span><span class="token punctuation">,</span>
      left<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;item&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    legend<span class="token operator">:</span> <span class="token punctuation">{</span>
      orient<span class="token operator">:</span> <span class="token string">&#39;vertical&#39;</span><span class="token punctuation">,</span>
      left<span class="token operator">:</span> <span class="token string">&#39;left&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&#39;Access From&#39;</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#39;pie&#39;</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token string">&#39;50%&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">1048</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Search Engine&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">735</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Direct&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">580</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Email&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">484</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Union Ads&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Video Ads&#39;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
          itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            shadowBlur<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            shadowOffsetX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            shadowColor<span class="token operator">:</span> <span class="token string">&#39;rgba(0, 0, 0, 0.5)&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EDF\u4E00\u5BFC\u51FA" tabindex="-1"><a class="header-anchor" href="#\u7EDF\u4E00\u5BFC\u51FA" aria-hidden="true">#</a> \u7EDF\u4E00\u5BFC\u51FA</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// index.ts</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./src/base-echart.vue&#39;</span>
<span class="token keyword">import</span> PieEchart <span class="token keyword">from</span> <span class="token string">&#39;./src/pie-echart.vue&#39;</span>
<span class="token keyword">import</span> LineEchart <span class="token keyword">from</span> <span class="token string">&#39;./src/line-echart.vue&#39;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> PieEchart<span class="token punctuation">,</span> LineEchart <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BaseEchart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5F15\u5165-echarts-\u56FE\u5F62" tabindex="-1"><a class="header-anchor" href="#\u5F15\u5165-echarts-\u56FE\u5F62" aria-hidden="true">#</a> \u5F15\u5165 ECharts \u56FE\u5F62</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// dashboard,vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>\u9876\u90E8\u5361\u7247\u7EC4\u4EF6 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in amountList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.amount&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>count<span class="token operator">-</span>card v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;7&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>pie<span class="token operator">-</span>echart<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>line<span class="token operator">-</span>echart<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">// ...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u83B7\u53D6\u8BF7\u6C42\u6570\u636E\u7528\u4E8E-echarts-\u663E\u793A" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u8BF7\u6C42\u6570\u636E\u7528\u4E8E-echarts-\u663E\u793A" aria-hidden="true">#</a> \u83B7\u53D6\u8BF7\u6C42\u6570\u636E\u7528\u4E8E ECharts \u663E\u793A</h3><h4 id="\u5C01\u88C5-service-\u8BF7\u6C42\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-service-\u8BF7\u6C42\u63A5\u53E3" aria-hidden="true">#</a> \u5C01\u88C5 service \u8BF7\u6C42\u63A5\u53E3</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/analysis.ts</span>
<span class="token comment">// \u83B7\u53D6\u997C\u56FE\u5206\u7C7B\u5546\u54C1\u6570\u91CF</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getGoodsCategoryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/goods/category/count&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5-pinia-\u8BF7\u6C42\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-pinia-\u8BF7\u6C42\u6570\u636E" aria-hidden="true">#</a> \u5C01\u88C5 pinia \u8BF7\u6C42\u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/analysis.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getAmountListData<span class="token punctuation">,</span> getGoodsCategoryCount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/analysis/analysis&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IAnalysisState</span> <span class="token punctuation">{</span>
    amountList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    goodsCategoryCount<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> useAnalysisStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;analysis&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IAnalysisState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        amountList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        goodsCategoryCount<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u9876\u90E8\u5361\u7247\u6570\u636E</span>
            <span class="token keyword">const</span> amountResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getAmountListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>amountList <span class="token operator">=</span> amountResult<span class="token punctuation">.</span>data

            <span class="token comment">// \u83B7\u53D6\u997C\u56FE\u6570\u636E</span>
            <span class="token keyword">const</span> goodsResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getGoodsCategoryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>goodsCategoryCount <span class="token operator">=</span> goodsResult<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> useAnalysisStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u8C03\u7528-pinia-\u4E2D\u7684-actions-\u53D1\u8D77\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u8C03\u7528-pinia-\u4E2D\u7684-actions-\u53D1\u8D77\u8BF7\u6C42" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u8C03\u7528 pinia \u4E2D\u7684 actions \u53D1\u8D77\u8BF7\u6C42</h4><p>\u7236\u7EC4\u4EF6<code>dashboard.vue</code>\u53D1\u8D77\u8BF7\u6C42\u83B7\u53D6\u997C\u56FE\u6570\u636E\uFF0C\u5C06\u6570\u636E\uFF08<code>name</code>\uFF0C<code>goodsCount</code>\uFF09\u901A\u8FC7<code>map</code>\u6620\u5C04\u6210\u997C\u56FE\u9700\u8981\u7684\u6570\u636E\uFF08<code>name</code>\uFF0C<code>value</code>\uFF09\uFF0C\u901A\u8FC7<code>:pie-data=&quot;showGoodsCategoryCount</code>\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6<code>pie-echart.vue</code>\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// dashboard.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>\u9876\u90E8\u5361\u7247\u7EC4\u4EF6 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token comment">// \u997C\u56FE</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;7&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>pie<span class="token operator">-</span>echart <span class="token operator">:</span>pie<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;showGoodsCategoryCount&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> countCard <span class="token keyword">from</span> <span class="token string">&quot;./cpns/count-card/count-card.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> chartCard <span class="token keyword">from</span> <span class="token string">&quot;./cpns/chart-card/chart-card.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useAnalysisStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/analysis/analysis&#39;</span>

<span class="token comment">// \u53D1\u8D77actions\u5C01\u88C5\u7684\u7F51\u7EDC\u8BF7\u6C42</span>
<span class="token keyword">const</span> analysisStore <span class="token operator">=</span> <span class="token function">useAnalysisStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
analysisStore<span class="token punctuation">.</span><span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> amountList<span class="token punctuation">,</span> goodsCategoryCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>analysisStore<span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6echart\u997C\u56FE\u6570\u636E</span>
<span class="token keyword">const</span> showGoodsCategoryCount <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> goodsCategoryCount<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    value<span class="token operator">:</span> item<span class="token punctuation">.</span>goodsCount
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B50\u7EC4\u4EF6\u52A8\u6001\u63A5\u6536\u997C\u56FE-option-\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5B50\u7EC4\u4EF6\u52A8\u6001\u63A5\u6536\u997C\u56FE-option-\u6570\u636E" aria-hidden="true">#</a> \u5B50\u7EC4\u4EF6\u52A8\u6001\u63A5\u6536\u997C\u56FE option \u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pie-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>base<span class="token operator">-</span>echart <span class="token operator">:</span>option<span class="token operator">=</span><span class="token string">&quot;option&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./base-echart.vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IEchartValueType</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token builtin">number</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  pieData<span class="token operator">:</span> IEchartValueType<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u53EA\u8D1F\u8D23\u4F20\u5165\u997C\u56FE\u7684option</span>
<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span>EChartsOption<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        trigger<span class="token operator">:</span> <span class="token string">&#39;item&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      legend<span class="token operator">:</span> <span class="token punctuation">{</span>
        orient<span class="token operator">:</span> <span class="token string">&#39;horizontal&#39;</span><span class="token punctuation">,</span>
        left<span class="token operator">:</span> <span class="token string">&#39;left&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&#39;\u8BBF\u95EE\u6765\u95EE&#39;</span><span class="token punctuation">,</span>
          type<span class="token operator">:</span> <span class="token string">&#39;pie&#39;</span><span class="token punctuation">,</span>
          radius<span class="token operator">:</span> <span class="token string">&#39;50%&#39;</span><span class="token punctuation">,</span>
          bottom<span class="token operator">:</span> <span class="token string">&#39;-10%&#39;</span><span class="token punctuation">,</span>
          data<span class="token operator">:</span> props<span class="token punctuation">.</span>pieData<span class="token punctuation">,</span>
          emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
              shadowBlur<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
              shadowOffsetX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
              shadowColor<span class="token operator">:</span> <span class="token string">&#39;rgba(0, 0, 0, 0.5)&#39;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0\u5404\u79CD-echart-\u56FE\u52A8\u6001\u6570\u636E\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u5404\u79CD-echart-\u56FE\u52A8\u6001\u6570\u636E\u5C55\u793A" aria-hidden="true">#</a> \u5B9E\u73B0\u5404\u79CD Echart \u56FE\u52A8\u6001\u6570\u636E\u5C55\u793A</h3><h4 id="\u5C01\u88C5\u8BF7\u6C42\u63A5\u53E3\u7684\u52A8\u6001\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u8BF7\u6C42\u63A5\u53E3\u7684\u52A8\u6001\u6570\u636E" aria-hidden="true">#</a> \u5C01\u88C5\u8BF7\u6C42\u63A5\u53E3\u7684\u52A8\u6001\u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/analysis.ts</span>
<span class="token comment">// \u83B7\u53D6\u997C\u56FE\u3001\u73AB\u7470\u56FE\u5206\u7C7B\u5546\u54C1\u6570\u91CF</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getGoodsCategoryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/goods/category/count&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u6298\u7EBF\u56FE\u5546\u54C1\u9500\u91CF</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getGoodsCategorySale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/goods/category/sale&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u83B7\u53D6\u67F1\u72B6\u56FE\u5546\u54C1\u6536\u85CF\u6570\u91CF</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getGoodsCategoryFavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/goods/category/favor&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// store/analysis.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getAmountListData<span class="token punctuation">,</span> getGoodsCategoryCount<span class="token punctuation">,</span> getGoodsCategoryFavor<span class="token punctuation">,</span> getGoodsCategorySale <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/analysis/analysis&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IAnalysisState</span> <span class="token punctuation">{</span>
    amountList<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    goodsCategoryCount<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    goodsCategorySale<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    goodsCategoryFavor<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> useAnalysisStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;analysis&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IAnalysisState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        amountList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        goodsCategoryCount<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        goodsCategorySale<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        goodsCategoryFavor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u9876\u90E8\u5361\u7247\u6570\u636E</span>
            <span class="token keyword">const</span> amountResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getAmountListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>amountList <span class="token operator">=</span> amountResult<span class="token punctuation">.</span>data

            <span class="token comment">// \u83B7\u53D6\u997C\u56FE\u3001\u73AB\u7470\u56FE\u6570\u636E</span>
            <span class="token keyword">const</span> goodsCountResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getGoodsCategoryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>goodsCategoryCount <span class="token operator">=</span> goodsCountResult<span class="token punctuation">.</span>data

            <span class="token comment">// \u83B7\u53D6\u6298\u7EBF\u56FE\u6570\u636E</span>
            <span class="token keyword">const</span> goodsSaleResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getGoodsCategorySale</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>goodsCategorySale <span class="token operator">=</span> goodsSaleResult<span class="token punctuation">.</span>data

            <span class="token comment">// \u83B7\u53D6\u67F1\u72B6\u56FE\u6570\u636E</span>
            <span class="token keyword">const</span> goodsFavorResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getGoodsCategoryFavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>goodsCategoryFavor <span class="token operator">=</span> goodsFavorResult<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useAnalysisStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5-type-\u7C7B\u578B\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5-type-\u7C7B\u578B\u63A5\u53E3" aria-hidden="true">#</a> \u5C01\u88C5 Type \u7C7B\u578B\u63A5\u53E3</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// types/index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IEchartValueType</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token builtin">number</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B9E\u73B0\u73AB\u7470\u56FE\u6570\u636E\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u73AB\u7470\u56FE\u6570\u636E\u5C55\u793A" aria-hidden="true">#</a> \u5B9E\u73B0\u73AB\u7470\u56FE\u6570\u636E\u5C55\u793A</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-echarts/src/rose-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;pie-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>base<span class="token operator">-</span>echart <span class="token operator">:</span>option<span class="token operator">=</span><span class="token string">&quot;option&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./base-echart.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> IEchartValueType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../types&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  roseData<span class="token operator">:</span> IEchartValueType<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u73AB\u7470\u56FE</span>
<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span>EChartsOption<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
      trigger<span class="token operator">:</span> <span class="token string">&#39;item&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    toolbox<span class="token operator">:</span> <span class="token punctuation">{</span>
      show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      feature<span class="token operator">:</span> <span class="token punctuation">{</span>
        mark<span class="token operator">:</span> <span class="token punctuation">{</span> show<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        dataView<span class="token operator">:</span> <span class="token punctuation">{</span> show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> readOnly<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        restore<span class="token operator">:</span> <span class="token punctuation">{</span> show<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        saveAsImage<span class="token operator">:</span> <span class="token punctuation">{</span> show<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&#39;\u8BBF\u95EE\u6765\u6E90&#39;</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#39;pie&#39;</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;50%&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;50%&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        roseType<span class="token operator">:</span> <span class="token string">&#39;area&#39;</span><span class="token punctuation">,</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
          borderRadius<span class="token operator">:</span> <span class="token number">8</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        bottom<span class="token operator">:</span> <span class="token string">&#39;-25%&#39;</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> props<span class="token punctuation">.</span>roseData<span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B9E\u73B0\u6298\u7EBF\u56FE\u6570\u636E\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u6298\u7EBF\u56FE\u6570\u636E\u5C55\u793A" aria-hidden="true">#</a> \u5B9E\u73B0\u6298\u7EBF\u56FE\u6570\u636E\u5C55\u793A</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// page-echarts/src/line-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;line-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>base<span class="token operator">-</span>echart <span class="token operator">:</span>option<span class="token operator">=</span><span class="token string">&quot;option&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./base-echart.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  labels<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  values<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u73AB\u7470\u56FE</span>
<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span>EChartsOption<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    grid<span class="token operator">:</span> <span class="token punctuation">{</span>
      left<span class="token operator">:</span> <span class="token string">&#39;3%&#39;</span><span class="token punctuation">,</span>
      right<span class="token operator">:</span> <span class="token string">&#39;4%&#39;</span><span class="token punctuation">,</span>
      bottom<span class="token operator">:</span> <span class="token string">&#39;3%&#39;</span><span class="token punctuation">,</span>
      containLabel<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;category&#39;</span><span class="token punctuation">,</span>
      boundaryGap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> props<span class="token punctuation">.</span>labels
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;value&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&#39;\u5206\u7C7B\u9500\u91CF\u7EDF\u8BA1&#39;</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#39;line&#39;</span><span class="token punctuation">,</span>
        stack<span class="token operator">:</span> <span class="token string">&#39;\u603B\u91CF&#39;</span><span class="token punctuation">,</span>
        areaStyle<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
          focus<span class="token operator">:</span> <span class="token string">&#39;series&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> props<span class="token punctuation">.</span>values
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5B9E\u73B0\u67F1\u72B6\u56FE\u6570\u636E\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u67F1\u72B6\u56FE\u6570\u636E\u5C55\u793A" aria-hidden="true">#</a> \u5B9E\u73B0\u67F1\u72B6\u56FE\u6570\u636E\u5C55\u793A</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// // page-echarts/src/bar-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;bar-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>base<span class="token operator">-</span>echart <span class="token operator">:</span>option<span class="token operator">=</span><span class="token string">&quot;option&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./base-echart.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>

<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
  labels<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  values<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u73AB\u7470\u56FE</span>
<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span>EChartsOption<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span> <span class="token string">&#39;\u652F\u6301\u9F20\u6807\u6EDA\u52A8\u7F29\u653E&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    grid<span class="token operator">:</span> <span class="token punctuation">{</span>
      bottom<span class="token operator">:</span> <span class="token string">&#39;5%&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
      data<span class="token operator">:</span> props<span class="token punctuation">.</span>labels<span class="token punctuation">,</span>
      axisLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
        inside<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      z<span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
      axisLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
        color<span class="token operator">:</span> <span class="token string">&#39;#999&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span>
        showBackground<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> props<span class="token punctuation">.</span>values<span class="token punctuation">,</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
          color<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts</span><span class="token punctuation">.</span>graphic<span class="token punctuation">.</span><span class="token function">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#39;#2378f7&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#39;#188df0&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#39;#188df0&#39;</span> <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
          itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts</span><span class="token punctuation">.</span>graphic<span class="token punctuation">.</span><span class="token function">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#39;#2378f7&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">0.7</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#39;#2378f7&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span> offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">&#39;#83bff6&#39;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u5C06\u63A5\u53E3\u6570\u636E\u6620\u5C04-echart-\u9700\u8981\u7684\u6570\u636E\u8FDB\u884C\u4F20\u9012\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u5C06\u63A5\u53E3\u6570\u636E\u6620\u5C04-echart-\u9700\u8981\u7684\u6570\u636E\u8FDB\u884C\u4F20\u9012\u4F7F\u7528" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u5C06\u63A5\u53E3\u6570\u636E\u6620\u5C04 Echart \u9700\u8981\u7684\u6570\u636E\u8FDB\u884C\u4F20\u9012\u4F7F\u7528</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// dashboard.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>\u9876\u90E8\u5361\u7247\u7EC4\u4EF6 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in amountList&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.amount&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;6&quot;</span> <span class="token operator">:</span>xs<span class="token operator">=</span><span class="token string">&quot;24&quot;</span> <span class="token operator">:</span>sm<span class="token operator">=</span><span class="token string">&quot;12&quot;</span> <span class="token operator">:</span>md<span class="token operator">=</span><span class="token string">&quot;8&quot;</span> <span class="token operator">:</span>lg<span class="token operator">=</span><span class="token string">&quot;6&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>count<span class="token operator">-</span>card v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;7&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>pie<span class="token operator">-</span>echart <span class="token operator">:</span>pie<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;showGoodsCategoryCount&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>line<span class="token operator">-</span>echart<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;7&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>rose<span class="token operator">-</span>echart <span class="token operator">:</span>rose<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;showGoodsCategoryCount&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;12&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>line<span class="token operator">-</span>echart <span class="token operator">:</span>labels<span class="token operator">=</span><span class="token string">&quot;showGoodsCategorySale.labels&quot;</span> <span class="token operator">:</span>values<span class="token operator">=</span><span class="token string">&quot;showGoodsCategorySale.values&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;12&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>bar<span class="token operator">-</span>echart v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;showGoodsCategoryFavor&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> countCard <span class="token keyword">from</span> <span class="token string">&quot;./cpns/count-card/count-card.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> chartCard <span class="token keyword">from</span> <span class="token string">&quot;./cpns/chart-card/chart-card.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useAnalysisStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/analysis/analysis&#39;</span>

<span class="token comment">// \u53D1\u8D77actions\u5C01\u88C5\u7684\u7F51\u7EDC\u8BF7\u6C42</span>
<span class="token keyword">const</span> analysisStore <span class="token operator">=</span> <span class="token function">useAnalysisStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
analysisStore<span class="token punctuation">.</span><span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> amountList<span class="token punctuation">,</span> goodsCategoryCount<span class="token punctuation">,</span> goodsCategorySale<span class="token punctuation">,</span> goodsCategoryFavor <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>analysisStore<span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6echart\u997C\u56FE\u3001\u73AB\u7470\u56FE\u6570\u636E(\u5C06\u63A5\u53E3\u6570\u636E\u6620\u5C04\u6210name, value)</span>
<span class="token keyword">const</span> showGoodsCategoryCount <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> goodsCategoryCount<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    value<span class="token operator">:</span> item<span class="token punctuation">.</span>goodsCount
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6echart\u6298\u7EBF\u56FE\u6570\u636E(\u5C06\u63A5\u53E3\u6570\u636E\u6620\u5C04\u6210labels\u3001values)</span>
<span class="token keyword">const</span> showGoodsCategorySale <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> labels <span class="token operator">=</span> goodsCategorySale<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token keyword">const</span> values <span class="token operator">=</span> goodsCategorySale<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>goodsSale<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> labels<span class="token punctuation">,</span> values <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6echart\u67F1\u72B6\u56FE\u6570\u636E</span>
<span class="token keyword">const</span> showGoodsCategoryFavor <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> labels <span class="token operator">=</span> goodsCategoryFavor<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token keyword">const</span> values <span class="token operator">=</span> goodsCategoryFavor<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>goodsFavor<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> labels<span class="token punctuation">,</span> values <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>el<span class="token operator">-</span>row <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u73B0-echart-\u5730\u56FE\u6570\u636E\u5C55\u793A" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0-echart-\u5730\u56FE\u6570\u636E\u5C55\u793A" aria-hidden="true">#</a> \u5B9E\u73B0 echart \u5730\u56FE\u6570\u636E\u5C55\u793A</h3><h4 id="\u5F15\u5165\u5730\u56FE\u4F4D\u7F6E\u7ECF\u7EAC\u5EA6-json-\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5F15\u5165\u5730\u56FE\u4F4D\u7F6E\u7ECF\u7EAC\u5EA6-json-\u6570\u636E" aria-hidden="true">#</a> \u5F15\u5165\u5730\u56FE\u4F4D\u7F6E\u7ECF\u7EAC\u5EA6 json \u6570\u636E</h4>`,43),J={href:"https://datav.aliyun.com/portal/school/atlas/area_selector#&lat=31.769817845138945&lng=104.29901249999999&zoom=4",target:"_blank",rel:"noopener noreferrer"},X=s("\u963F\u91CC\u4E91\u5730\u56FE JSON API"),Z=s("\uFF1A"),nn={href:"https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json",target:"_blank",rel:"noopener noreferrer"},sn=s("https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json"),an=p(`<h4 id="\u5C01\u88C5\u5750\u6807\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u5750\u6807\u4FE1\u606F" aria-hidden="true">#</a> \u5C01\u88C5\u5750\u6807\u4FE1\u606F</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// utils/coordinate-data.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> coordinateData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  \u4E0A\u6D77<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.487899486</span><span class="token punctuation">,</span> <span class="token number">31.24916171</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E34\u6CA7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.092612914</span><span class="token punctuation">,</span> <span class="token number">23.8878061038</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E3D\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.229628399</span><span class="token punctuation">,</span> <span class="token number">26.8753510895</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4FDD\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">99.1779956133</span><span class="token punctuation">,</span> <span class="token number">25.1204891962</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.223674789</span><span class="token punctuation">,</span> <span class="token number">25.5968996394</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">98.5894342874</span><span class="token punctuation">,</span> <span class="token number">24.441239663</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">98.8599320425</span><span class="token punctuation">,</span> <span class="token number">25.8606769782</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.246294318</span><span class="token punctuation">,</span> <span class="token number">23.3740868504</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6606\u660E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.714601139</span><span class="token punctuation">,</span> <span class="token number">25.0491531005</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u662D\u901A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.725020656</span><span class="token punctuation">,</span> <span class="token number">27.3406329636</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u666E\u6D31<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.98005773</span><span class="token punctuation">,</span> <span class="token number">22.7887777801</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u66F2\u9756<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.782538888</span><span class="token punctuation">,</span> <span class="token number">25.5207581429</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">101.529382239</span><span class="token punctuation">,</span> <span class="token number">25.0663556742</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7389\u6EAA<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.545067892</span><span class="token punctuation">,</span> <span class="token number">24.3704471344</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.384064757</span><span class="token punctuation">,</span> <span class="token number">23.3677175165</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.803038275</span><span class="token punctuation">,</span> <span class="token number">22.0094330022</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">99.7136815989</span><span class="token punctuation">,</span> <span class="token number">27.8310294612</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E4C\u5170\u5BDF\u5E03<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.112846391</span><span class="token punctuation">,</span> <span class="token number">41.0223629468</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E4C\u6D77<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.831999097</span><span class="token punctuation">,</span> <span class="token number">39.6831770068</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5174\u5B89\u76DF<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.048166514</span><span class="token punctuation">,</span> <span class="token number">46.0837570652</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5305\u5934<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.846238532</span><span class="token punctuation">,</span> <span class="token number">40.6471194257</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u547C\u4F26\u8D1D\u5C14<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.760821794</span><span class="token punctuation">,</span> <span class="token number">49.2016360546</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u547C\u548C\u6D69\u7279<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.66035052</span><span class="token punctuation">,</span> <span class="token number">40.8283188731</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5DF4\u5F66\u6DD6\u5C14<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.42380672</span><span class="token punctuation">,</span> <span class="token number">40.7691799024</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8D64\u5CF0<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.930761192</span><span class="token punctuation">,</span> <span class="token number">42.2971123203</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u901A\u8FBD<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.260363263</span><span class="token punctuation">,</span> <span class="token number">43.633756073</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9102\u5C14\u591A\u65AF<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.993706251</span><span class="token punctuation">,</span> <span class="token number">39.8164895606</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9521\u6797\u90ED\u52D2\u76DF<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.027339689</span><span class="token punctuation">,</span> <span class="token number">43.9397048423</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u963F\u62C9\u5584\u76DF<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.695682871</span><span class="token punctuation">,</span> <span class="token number">38.8430752644</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5317\u4EAC<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.395645038</span><span class="token punctuation">,</span> <span class="token number">39.9299857781</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u53F0\u4E2D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.337634104</span><span class="token punctuation">,</span> <span class="token number">26.0911937119</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u53F0\u5317<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.130474436</span><span class="token punctuation">,</span> <span class="token number">22.3748329286</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u53F0\u5357<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.360525873</span><span class="token punctuation">,</span> <span class="token number">38.9658447898</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5609\u4E49<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.246701335</span><span class="token punctuation">,</span> <span class="token number">22.7288657203</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9AD8\u96C4<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.590952812</span><span class="token punctuation">,</span> <span class="token number">21.9464822541</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5409\u6797<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">126.564543989</span><span class="token punctuation">,</span> <span class="token number">43.8719883344</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u56DB\u5E73<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">124.391382074</span><span class="token punctuation">,</span> <span class="token number">43.1755247011</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">129.485901958</span><span class="token punctuation">,</span> <span class="token number">42.8964136037</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u677E\u539F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">124.832994532</span><span class="token punctuation">,</span> <span class="token number">45.1360489701</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u767D\u57CE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.840776679</span><span class="token punctuation">,</span> <span class="token number">45.6210862752</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u767D\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">126.435797675</span><span class="token punctuation">,</span> <span class="token number">41.945859397</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8FBD\u6E90<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">125.133686052</span><span class="token punctuation">,</span> <span class="token number">42.9233026191</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u901A\u5316<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">125.942650139</span><span class="token punctuation">,</span> <span class="token number">41.7363971299</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u957F\u6625<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">125.313642427</span><span class="token punctuation">,</span> <span class="token number">43.8983376071</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E50\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.760824239</span><span class="token punctuation">,</span> <span class="token number">29.6009576111</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5185\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.073055992</span><span class="token punctuation">,</span> <span class="token number">29.5994615348</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.259590803</span><span class="token punctuation">,</span> <span class="token number">27.8923929037</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u5145<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.105553984</span><span class="token punctuation">,</span> <span class="token number">30.8009651682</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B9C\u5BBE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.633019062</span><span class="token punctuation">,</span> <span class="token number">28.7696747963</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5DF4\u4E2D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.757915842</span><span class="token punctuation">,</span> <span class="token number">31.8691891592</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E7F\u5143<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.81968694</span><span class="token punctuation">,</span> <span class="token number">32.4410401584</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E7F\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.635720331</span><span class="token punctuation">,</span> <span class="token number">30.4639838879</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5FB7\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.402397818</span><span class="token punctuation">,</span> <span class="token number">31.1311396527</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6210\u90FD<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.067923463</span><span class="token punctuation">,</span> <span class="token number">30.6799428454</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6500\u679D\u82B1<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">101.722423152</span><span class="token punctuation">,</span> <span class="token number">26.5875712571</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CF8\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.443970289</span><span class="token punctuation">,</span> <span class="token number">28.8959298039</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">101.969232063</span><span class="token punctuation">,</span> <span class="token number">30.0551441144</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7709\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.841429563</span><span class="token punctuation">,</span> <span class="token number">30.0611150799</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7EF5\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.705518975</span><span class="token punctuation">,</span> <span class="token number">31.5047012581</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u81EA\u8D21<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.776071339</span><span class="token punctuation">,</span> <span class="token number">29.3591568895</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8D44\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.635930302</span><span class="token punctuation">,</span> <span class="token number">30.132191434</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8FBE\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.494973447</span><span class="token punctuation">,</span> <span class="token number">31.2141988589</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9042\u5B81<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.564887792</span><span class="token punctuation">,</span> <span class="token number">30.5574913504</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.228564689</span><span class="token punctuation">,</span> <span class="token number">31.9057628583</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u96C5\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.009356466</span><span class="token punctuation">,</span> <span class="token number">29.9997163371</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5929\u6D25<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.210813092</span><span class="token punctuation">,</span> <span class="token number">39.1439299033</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E2D\u536B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.196754199</span><span class="token punctuation">,</span> <span class="token number">37.5211241916</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5434\u5FE0<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.208254199</span><span class="token punctuation">,</span> <span class="token number">37.9935610029</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u56FA\u539F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.285267996</span><span class="token punctuation">,</span> <span class="token number">36.0215234807</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u77F3\u5634\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.379337202</span><span class="token punctuation">,</span> <span class="token number">39.0202232836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u94F6\u5DDD<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.206478608</span><span class="token punctuation">,</span> <span class="token number">38.5026210119</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4EB3\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.787928245</span><span class="token punctuation">,</span> <span class="token number">33.8712105653</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u516D\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.505252683</span><span class="token punctuation">,</span> <span class="token number">31.7555583552</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5408\u80A5<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.282699092</span><span class="token punctuation">,</span> <span class="token number">31.8669422607</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B89\u5E86<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.058738772</span><span class="token punctuation">,</span> <span class="token number">30.5378978174</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5BA3\u57CE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.752096311</span><span class="token punctuation">,</span> <span class="token number">30.9516423543</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5BBF\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.988692412</span><span class="token punctuation">,</span> <span class="token number">33.6367723858</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C60\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.494476772</span><span class="token punctuation">,</span> <span class="token number">30.6600192482</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6DEE\u5317<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.791447429</span><span class="token punctuation">,</span> <span class="token number">33.9600233054</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6DEE\u5357<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.018638863</span><span class="token punctuation">,</span> <span class="token number">32.6428118237</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6EC1\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.324570351</span><span class="token punctuation">,</span> <span class="token number">32.3173505954</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u829C\u6E56<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.384108423</span><span class="token punctuation">,</span> <span class="token number">31.3660197875</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u868C\u57E0<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.357079866</span><span class="token punctuation">,</span> <span class="token number">32.9294989067</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u94DC\u9675<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.819428729</span><span class="token punctuation">,</span> <span class="token number">30.9409296947</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u961C\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.820932259</span><span class="token punctuation">,</span> <span class="token number">32.9012113306</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9A6C\u978D\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.515881847</span><span class="token punctuation">,</span> <span class="token number">31.6885281589</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9EC4\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.293569632</span><span class="token punctuation">,</span> <span class="token number">29.7344348562</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E1C\u8425<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.583926333</span><span class="token punctuation">,</span> <span class="token number">37.4871211553</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E34\u6C82<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.340768237</span><span class="token punctuation">,</span> <span class="token number">35.0724090744</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5A01\u6D77<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.093958366</span><span class="token punctuation">,</span> <span class="token number">37.5287870813</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5FB7\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.328161364</span><span class="token punctuation">,</span> <span class="token number">37.4608259263</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65E5\u7167<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.507179943</span><span class="token punctuation">,</span> <span class="token number">35.4202251931</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u67A3\u5E84<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.279305383</span><span class="token punctuation">,</span> <span class="token number">34.8078830784</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CF0\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.089414917</span><span class="token punctuation">,</span> <span class="token number">36.1880777589</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D4E\u5357<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.024967066</span><span class="token punctuation">,</span> <span class="token number">36.6827847272</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D4E\u5B81<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.600797625</span><span class="token punctuation">,</span> <span class="token number">35.4021216643</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6DC4\u535A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.059134278</span><span class="token punctuation">,</span> <span class="token number">36.8046848542</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6EE8\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.968292415</span><span class="token punctuation">,</span> <span class="token number">37.4053139418</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6F4D\u574A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.142633823</span><span class="token punctuation">,</span> <span class="token number">36.7161148731</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u70DF\u53F0<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.30955503</span><span class="token punctuation">,</span> <span class="token number">37.5365615629</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u804A\u57CE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.986869139</span><span class="token punctuation">,</span> <span class="token number">36.4558285147</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u83B1\u829C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.684666912</span><span class="token punctuation">,</span> <span class="token number">36.2336541336</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u83CF\u6CFD<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.463359775</span><span class="token punctuation">,</span> <span class="token number">35.2624404961</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9752\u5C9B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.384428184</span><span class="token punctuation">,</span> <span class="token number">36.1052149013</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E34\u6C7E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.538787596</span><span class="token punctuation">,</span> <span class="token number">36.0997454436</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5415\u6881<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.143156602</span><span class="token punctuation">,</span> <span class="token number">37.527316097</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5927\u540C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.290508673</span><span class="token punctuation">,</span> <span class="token number">40.1137444997</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u592A\u539F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.550863589</span><span class="token punctuation">,</span> <span class="token number">37.890277054</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5FFB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.727938829</span><span class="token punctuation">,</span> <span class="token number">38.461030573</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u664B\u4E2D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.7385144</span><span class="token punctuation">,</span> <span class="token number">37.6933615268</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u664B\u57CE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.867332758</span><span class="token punctuation">,</span> <span class="token number">35.4998344672</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6714\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.479927727</span><span class="token punctuation">,</span> <span class="token number">39.3376719662</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8FD0\u57CE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.006853653</span><span class="token punctuation">,</span> <span class="token number">35.0388594798</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u957F\u6CBB<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.120292086</span><span class="token punctuation">,</span> <span class="token number">36.2016643857</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9633\u6CC9<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.569237602</span><span class="token punctuation">,</span> <span class="token number">37.8695294932</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E1C\u839E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.763433991</span><span class="token punctuation">,</span> <span class="token number">23.0430238154</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E2D\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.422060021</span><span class="token punctuation">,</span> <span class="token number">22.5451775145</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E91\u6D6E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.050945959</span><span class="token punctuation">,</span> <span class="token number">22.9379756855</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4F5B\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.134025635</span><span class="token punctuation">,</span> <span class="token number">23.0350948405</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E7F\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.307649675</span><span class="token punctuation">,</span> <span class="token number">23.1200491021</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u60E0\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.41065808</span><span class="token punctuation">,</span> <span class="token number">23.1135398524</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u63ED\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.379500855</span><span class="token punctuation">,</span> <span class="token number">23.5479994669</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6885\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.126403098</span><span class="token punctuation">,</span> <span class="token number">24.304570606</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C55\u5934<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.728650288</span><span class="token punctuation">,</span> <span class="token number">23.3839084533</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C55\u5C3E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.372924289</span><span class="token punctuation">,</span> <span class="token number">22.7787305002</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C5F\u95E8<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.078125341</span><span class="token punctuation">,</span> <span class="token number">22.5751167835</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CB3\u6E90<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.713721476</span><span class="token punctuation">,</span> <span class="token number">23.7572508505</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6DF1\u5733<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.025973657</span><span class="token punctuation">,</span> <span class="token number">22.5460535462</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E05\u8FDC<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.040773349</span><span class="token punctuation">,</span> <span class="token number">23.6984685504</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E5B\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.365067263</span><span class="token punctuation">,</span> <span class="token number">21.2574631038</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6F6E\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.630075991</span><span class="token punctuation">,</span> <span class="token number">23.6618116765</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u73E0\u6D77<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.562447026</span><span class="token punctuation">,</span> <span class="token number">22.2569146461</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8087\u5E86<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.47965337</span><span class="token punctuation">,</span> <span class="token number">23.0786632829</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8302\u540D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.931245331</span><span class="token punctuation">,</span> <span class="token number">21.6682257188</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9633\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.977009756</span><span class="token punctuation">,</span> <span class="token number">21.8715173045</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u97F6\u5173<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.594461107</span><span class="token punctuation">,</span> <span class="token number">24.8029603119</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5317\u6D77<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.122627919</span><span class="token punctuation">,</span> <span class="token number">21.472718235</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u5B81<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.297233556</span><span class="token punctuation">,</span> <span class="token number">22.8064929356</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5D07\u5DE6<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.357322038</span><span class="token punctuation">,</span> <span class="token number">22.4154552965</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6765\u5BBE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.231816505</span><span class="token punctuation">,</span> <span class="token number">23.7411659265</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u67F3\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.42240181</span><span class="token punctuation">,</span> <span class="token number">24.3290533525</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6842\u6797<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.260920147</span><span class="token punctuation">,</span> <span class="token number">25.262901246</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u68A7\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.30547195</span><span class="token punctuation">,</span> <span class="token number">23.4853946367</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CB3\u6C60<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.069947709</span><span class="token punctuation">,</span> <span class="token number">24.6995207829</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7389\u6797<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.151676316</span><span class="token punctuation">,</span> <span class="token number">22.6439736084</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u767E\u8272<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.631821404</span><span class="token punctuation">,</span> <span class="token number">23.9015123679</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8D35\u6E2F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.613707557</span><span class="token punctuation">,</span> <span class="token number">23.1033731644</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8D3A\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.552594179</span><span class="token punctuation">,</span> <span class="token number">24.4110535471</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u94A6\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.638798056</span><span class="token punctuation">,</span> <span class="token number">21.9733504653</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9632\u57CE\u6E2F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.351791153</span><span class="token punctuation">,</span> <span class="token number">21.6173984705</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E4C\u9C81\u6728\u9F50<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">87.5649877411</span><span class="token punctuation">,</span> <span class="token number">43.8403803472</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">81.2978535304</span><span class="token punctuation">,</span> <span class="token number">43.9222480963</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">76.1375644775</span><span class="token punctuation">,</span> <span class="token number">39.7503455778</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u514B\u62C9\u739B\u4F9D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">84.8811801861</span><span class="token punctuation">,</span> <span class="token number">45.5943310667</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">82.0524362672</span><span class="token punctuation">,</span> <span class="token number">44.9136513743</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5410\u9C81\u756A\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">89.1815948657</span><span class="token punctuation">,</span> <span class="token number">42.9604700169</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u548C\u7530\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">79.9302386372</span><span class="token punctuation">,</span> <span class="token number">37.1167744927</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u54C8\u5BC6\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">93.5283550928</span><span class="token punctuation">,</span> <span class="token number">42.8585963324</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5580\u4EC0\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">75.9929732675</span><span class="token punctuation">,</span> <span class="token number">39.4706271887</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5854\u57CE\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">82.9748805837</span><span class="token punctuation">,</span> <span class="token number">46.7586836297</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">87.2960381257</span><span class="token punctuation">,</span> <span class="token number">44.0070578985</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u81EA\u6CBB\u533A\u76F4\u8F96<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">85.6148993383</span><span class="token punctuation">,</span> <span class="token number">42.1270009576</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u963F\u514B\u82CF\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">80.2698461793</span><span class="token punctuation">,</span> <span class="token number">41.1717309015</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u963F\u52D2\u6CF0\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">88.1379154871</span><span class="token punctuation">,</span> <span class="token number">47.8397444862</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u4EAC<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.778074408</span><span class="token punctuation">,</span> <span class="token number">32.0572355018</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u901A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.873800951</span><span class="token punctuation">,</span> <span class="token number">32.0146645408</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5BBF\u8FC1<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.296893379</span><span class="token punctuation">,</span> <span class="token number">33.9520497337</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E38\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.981861013</span><span class="token punctuation">,</span> <span class="token number">31.7713967447</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5F90\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.188106623</span><span class="token punctuation">,</span> <span class="token number">34.2715534311</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u626C\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.427777551</span><span class="token punctuation">,</span> <span class="token number">32.4085052546</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65E0\u9521<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.305455901</span><span class="token punctuation">,</span> <span class="token number">31.5700374519</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CF0\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.919606016</span><span class="token punctuation">,</span> <span class="token number">32.4760532748</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6DEE\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.030186365</span><span class="token punctuation">,</span> <span class="token number">33.6065127393</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u76D0\u57CE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.148871818</span><span class="token punctuation">,</span> <span class="token number">33.3798618771</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u82CF\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.619907115</span><span class="token punctuation">,</span> <span class="token number">31.317987368</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8FDE\u4E91\u6E2F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.173872217</span><span class="token punctuation">,</span> <span class="token number">34.601548967</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9547\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.455835405</span><span class="token punctuation">,</span> <span class="token number">32.2044094436</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E0A\u9976<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.955463877</span><span class="token punctuation">,</span> <span class="token number">28.4576225539</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E5D\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.999848022</span><span class="token punctuation">,</span> <span class="token number">29.7196395261</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u660C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.893527546</span><span class="token punctuation">,</span> <span class="token number">28.6895780001</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5409\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.992038711</span><span class="token punctuation">,</span> <span class="token number">27.1138476502</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B9C\u6625<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.400038672</span><span class="token punctuation">,</span> <span class="token number">27.8111298958</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u629A\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.360918867</span><span class="token punctuation">,</span> <span class="token number">27.9545451703</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65B0\u4F59<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.947117417</span><span class="token punctuation">,</span> <span class="token number">27.8223215586</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u666F\u5FB7\u9547<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.186522625</span><span class="token punctuation">,</span> <span class="token number">29.3035627684</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u840D\u4E61<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.859917033</span><span class="token punctuation">,</span> <span class="token number">27.639544223</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8D63\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.935909079</span><span class="token punctuation">,</span> <span class="token number">25.8452955363</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9E70\u6F6D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.035450186</span><span class="token punctuation">,</span> <span class="token number">28.2413095972</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4FDD\u5B9A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.494810169</span><span class="token punctuation">,</span> <span class="token number">38.886564548</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5510\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.183450598</span><span class="token punctuation">,</span> <span class="token number">39.6505309225</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5ECA\u574A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.703602223</span><span class="token punctuation">,</span> <span class="token number">39.5186106251</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5F20\u5BB6\u53E3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.89378153</span><span class="token punctuation">,</span> <span class="token number">40.8111884911</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u627F\u5FB7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.933822456</span><span class="token punctuation">,</span> <span class="token number">40.9925210525</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CA7\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.863806476</span><span class="token punctuation">,</span> <span class="token number">38.2976153503</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u77F3\u5BB6\u5E84<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.522081844</span><span class="token punctuation">,</span> <span class="token number">38.0489583146</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u79E6\u7687\u5C9B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.604367616</span><span class="token punctuation">,</span> <span class="token number">39.9454615659</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8861\u6C34<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.686228653</span><span class="token punctuation">,</span> <span class="token number">37.7469290459</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u90A2\u53F0<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.520486813</span><span class="token punctuation">,</span> <span class="token number">37.0695311969</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u90AF\u90F8<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.482693932</span><span class="token punctuation">,</span> <span class="token number">36.6093079285</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E09\u95E8\u5CE1<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.181262093</span><span class="token punctuation">,</span> <span class="token number">34.7833199411</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4FE1\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.085490993</span><span class="token punctuation">,</span> <span class="token number">32.1285823075</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.542841901</span><span class="token punctuation">,</span> <span class="token number">33.0114195691</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5468\u53E3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.654101942</span><span class="token punctuation">,</span> <span class="token number">33.6237408181</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5546\u4E18<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.641885688</span><span class="token punctuation">,</span> <span class="token number">34.4385886402</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B89\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.351806508</span><span class="token punctuation">,</span> <span class="token number">36.1102667222</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E73\u9876\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.300848978</span><span class="token punctuation">,</span> <span class="token number">33.7453014565</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5F00\u5C01<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.351642118</span><span class="token punctuation">,</span> <span class="token number">34.8018541758</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65B0\u4E61<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.912690161</span><span class="token punctuation">,</span> <span class="token number">35.3072575577</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D1B\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.447524769</span><span class="token punctuation">,</span> <span class="token number">34.6573678177</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6F2F\u6CB3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.0460614</span><span class="token punctuation">,</span> <span class="token number">33.5762786885</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6FEE\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.026627441</span><span class="token punctuation">,</span> <span class="token number">35.7532978882</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7126\u4F5C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.211835885</span><span class="token punctuation">,</span> <span class="token number">35.234607555</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8BB8\u660C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.83531246</span><span class="token punctuation">,</span> <span class="token number">34.0267395887</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u90D1\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.64964385</span><span class="token punctuation">,</span> <span class="token number">34.7566100641</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9A7B\u9A6C\u5E97<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.049153547</span><span class="token punctuation">,</span> <span class="token number">32.9831581541</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9E64\u58C1<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.297769838</span><span class="token punctuation">,</span> <span class="token number">35.7554258742</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E3D\u6C34<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.929575843</span><span class="token punctuation">,</span> <span class="token number">28.4562995521</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u53F0\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.440612936</span><span class="token punctuation">,</span> <span class="token number">28.6682832857</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5609\u5174<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.760427699</span><span class="token punctuation">,</span> <span class="token number">30.7739922396</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B81\u6CE2<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.579005973</span><span class="token punctuation">,</span> <span class="token number">29.8852589659</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u676D\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.219375416</span><span class="token punctuation">,</span> <span class="token number">30.2592444615</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E29\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.690634734</span><span class="token punctuation">,</span> <span class="token number">28.002837594</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E56\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.137243163</span><span class="token punctuation">,</span> <span class="token number">30.8779251557</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7ECD\u5174<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.592467386</span><span class="token punctuation">,</span> <span class="token number">30.0023645805</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u821F\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.169872098</span><span class="token punctuation">,</span> <span class="token number">30.0360103026</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8862\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.875841652</span><span class="token punctuation">,</span> <span class="token number">28.9569104475</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u91D1\u534E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.652575704</span><span class="token punctuation">,</span> <span class="token number">29.1028991054</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E09\u4E9A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.522771281</span><span class="token punctuation">,</span> <span class="token number">18.2577759149</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E09\u6C99<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.350383075</span><span class="token punctuation">,</span> <span class="token number">16.840062894</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D77\u53E3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.330801848</span><span class="token punctuation">,</span> <span class="token number">20.022071277</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5341\u5830<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.801228917</span><span class="token punctuation">,</span> <span class="token number">32.6369943395</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u54B8\u5B81<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.300060592</span><span class="token punctuation">,</span> <span class="token number">29.8806567577</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B5D\u611F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.935734392</span><span class="token punctuation">,</span> <span class="token number">30.9279547842</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B9C\u660C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.310981092</span><span class="token punctuation">,</span> <span class="token number">30.732757818</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.491923304</span><span class="token punctuation">,</span> <span class="token number">30.2858883166</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6B66\u6C49<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.316200103</span><span class="token punctuation">,</span> <span class="token number">30.5810841269</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7701\u76F4\u8F96<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.410562192</span><span class="token punctuation">,</span> <span class="token number">31.2093162501</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8346\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.241865807</span><span class="token punctuation">,</span> <span class="token number">30.332590523</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8346\u95E8<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.217330299</span><span class="token punctuation">,</span> <span class="token number">31.0426112029</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8944\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.250092848</span><span class="token punctuation">,</span> <span class="token number">32.2291685915</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9102\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.895594041</span><span class="token punctuation">,</span> <span class="token number">30.3844393228</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u968F\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.379358364</span><span class="token punctuation">,</span> <span class="token number">31.7178576082</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9EC4\u5188<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.906618047</span><span class="token punctuation">,</span> <span class="token number">30.4461089379</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9EC4\u77F3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">115.050683164</span><span class="token punctuation">,</span> <span class="token number">30.2161271277</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5A04\u5E95<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.996396357</span><span class="token punctuation">,</span> <span class="token number">27.7410733023</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5CB3\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.146195519</span><span class="token punctuation">,</span> <span class="token number">29.3780070755</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E38\u5FB7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.653718137</span><span class="token punctuation">,</span> <span class="token number">29.0121488552</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5F20\u5BB6\u754C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110.481620157</span><span class="token punctuation">,</span> <span class="token number">29.1248893532</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6000\u5316<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.986958796</span><span class="token punctuation">,</span> <span class="token number">27.5574829012</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u682A\u6D32<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.131695341</span><span class="token punctuation">,</span> <span class="token number">27.8274329277</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C38\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.614647686</span><span class="token punctuation">,</span> <span class="token number">26.4359716468</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E58\u6F6D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.935555633</span><span class="token punctuation">,</span> <span class="token number">27.835095053</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.7457458</span><span class="token punctuation">,</span> <span class="token number">28.3179507937</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u76CA\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.366546645</span><span class="token punctuation">,</span> <span class="token number">28.5880877799</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8861\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.583818811</span><span class="token punctuation">,</span> <span class="token number">26.8981644154</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u90B5\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.461525404</span><span class="token punctuation">,</span> <span class="token number">27.2368112449</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u90F4\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.037704468</span><span class="token punctuation">,</span> <span class="token number">25.7822639757</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u957F\u6C99<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.979352788</span><span class="token punctuation">,</span> <span class="token number">28.2134782309</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65E0\u5802\u533A\u5212\u5206\u533A\u57DF<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.557519102</span><span class="token punctuation">,</span> <span class="token number">22.2041179884</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6FB3\u95E8\u534A\u5C9B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.566432335</span><span class="token punctuation">,</span> <span class="token number">22.1950041592</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6FB3\u95E8\u79BB\u5C9B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.557519102</span><span class="token punctuation">,</span> <span class="token number">22.2041179884</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.215249178</span><span class="token punctuation">,</span> <span class="token number">35.5985143488</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5170\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.823305441</span><span class="token punctuation">,</span> <span class="token number">36.064225525</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5609\u5CEA\u5173<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">98.2816345853</span><span class="token punctuation">,</span> <span class="token number">39.8023973267</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5929\u6C34<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.736931623</span><span class="token punctuation">,</span> <span class="token number">34.5843194189</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B9A\u897F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.626637601</span><span class="token punctuation">,</span> <span class="token number">35.5860562418</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E73\u51C9<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.688911157</span><span class="token punctuation">,</span> <span class="token number">35.55011019</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5E86\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.644227087</span><span class="token punctuation">,</span> <span class="token number">35.7268007545</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5F20\u6396<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.459891869</span><span class="token punctuation">,</span> <span class="token number">38.939320297</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6B66\u5A01<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.640147343</span><span class="token punctuation">,</span> <span class="token number">37.9331721429</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.917442486</span><span class="token punctuation">,</span> <span class="token number">34.9922111784</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u767D\u94F6<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.171240904</span><span class="token punctuation">,</span> <span class="token number">36.5466817062</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9152\u6CC9<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">98.5084145062</span><span class="token punctuation">,</span> <span class="token number">39.7414737682</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u91D1\u660C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.208126263</span><span class="token punctuation">,</span> <span class="token number">38.5160717995</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9647\u5357<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.934573406</span><span class="token punctuation">,</span> <span class="token number">33.3944799729</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E09\u660E<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.642193934</span><span class="token punctuation">,</span> <span class="token number">26.2708352794</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5357\u5E73<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.181882949</span><span class="token punctuation">,</span> <span class="token number">26.6436264742</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u53A6\u95E8<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.103886046</span><span class="token punctuation">,</span> <span class="token number">24.4892306125</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B81\u5FB7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.54208215</span><span class="token punctuation">,</span> <span class="token number">26.6565274192</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6CC9\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.600362343</span><span class="token punctuation">,</span> <span class="token number">24.901652384</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6F33\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.676204679</span><span class="token punctuation">,</span> <span class="token number">24.5170647798</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u798F\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.330221107</span><span class="token punctuation">,</span> <span class="token number">26.0471254966</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8386\u7530<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">119.077730964</span><span class="token punctuation">,</span> <span class="token number">25.4484501367</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9F99\u5CA9<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">117.017996739</span><span class="token punctuation">,</span> <span class="token number">25.0786854335</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5C71\u5357\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">91.7506438744</span><span class="token punctuation">,</span> <span class="token number">29.2290269317</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u62C9\u8428<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">91.111890896</span><span class="token punctuation">,</span> <span class="token number">29.6625570621</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65E5\u5580\u5219\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">88.8914855677</span><span class="token punctuation">,</span> <span class="token number">29.2690232039</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u660C\u90FD\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">97.18558158</span><span class="token punctuation">,</span> <span class="token number">31.1405756319</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6797\u829D\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">94.3499854582</span><span class="token punctuation">,</span> <span class="token number">29.6669406258</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u90A3\u66F2\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">92.0670183689</span><span class="token punctuation">,</span> <span class="token number">31.4806798301</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u963F\u91CC\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">81.1076686895</span><span class="token punctuation">,</span> <span class="token number">30.4045565883</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u516D\u76D8\u6C34<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.85208676</span><span class="token punctuation">,</span> <span class="token number">26.5918660603</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B89\u987A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.928269966</span><span class="token punctuation">,</span> <span class="token number">26.2285945777</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6BD5\u8282<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">105.333323371</span><span class="token punctuation">,</span> <span class="token number">27.4085621313</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8D35\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.709177096</span><span class="token punctuation">,</span> <span class="token number">26.6299067414</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9075\u4E49<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.931260316</span><span class="token punctuation">,</span> <span class="token number">27.6999613771</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u94DC\u4EC1<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.168558028</span><span class="token punctuation">,</span> <span class="token number">27.6749026906</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.985352573</span><span class="token punctuation">,</span> <span class="token number">26.5839917665</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.52320511</span><span class="token punctuation">,</span> <span class="token number">26.2645359974</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.900557798</span><span class="token punctuation">,</span> <span class="token number">25.0951480559</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E39\u4E1C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">124.338543115</span><span class="token punctuation">,</span> <span class="token number">40.1290228266</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5927\u8FDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.593477781</span><span class="token punctuation">,</span> <span class="token number">38.9487099383</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u629A\u987A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.929819767</span><span class="token punctuation">,</span> <span class="token number">41.8773038296</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u671D\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.446162703</span><span class="token punctuation">,</span> <span class="token number">41.5718276679</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u672C\u6EAA<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.77806237</span><span class="token punctuation">,</span> <span class="token number">41.3258376266</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C88\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.432790922</span><span class="token punctuation">,</span> <span class="token number">41.8086447835</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u76D8\u9526<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.07322781</span><span class="token punctuation">,</span> <span class="token number">41.141248023</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8425\u53E3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122.233391371</span><span class="token punctuation">,</span> <span class="token number">40.6686510665</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u846B\u82A6\u5C9B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120.860757645</span><span class="token punctuation">,</span> <span class="token number">40.7430298813</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u8FBD\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.172451205</span><span class="token punctuation">,</span> <span class="token number">41.2733392656</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u94C1\u5CAD<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.854849615</span><span class="token punctuation">,</span> <span class="token number">42.2997570121</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9526\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.147748738</span><span class="token punctuation">,</span> <span class="token number">41.1308788759</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u961C\u65B0<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.660822129</span><span class="token punctuation">,</span> <span class="token number">42.0192501071</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u978D\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.007763329</span><span class="token punctuation">,</span> <span class="token number">41.1187436822</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u91CD\u5E86<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">106.530635013</span><span class="token punctuation">,</span> <span class="token number">29.5446061089</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u54B8\u9633<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.707509278</span><span class="token punctuation">,</span> <span class="token number">34.345372996</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5546\u6D1B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.934208154</span><span class="token punctuation">,</span> <span class="token number">33.8739073951</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B89\u5EB7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.038044563</span><span class="token punctuation">,</span> <span class="token number">32.70437045</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5B9D\u9E21<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.170645452</span><span class="token punctuation">,</span> <span class="token number">34.3640808097</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5EF6\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.500509757</span><span class="token punctuation">,</span> <span class="token number">36.6033203523</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6986\u6797<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.745925744</span><span class="token punctuation">,</span> <span class="token number">38.2794392401</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6C49\u4E2D<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">107.045477629</span><span class="token punctuation">,</span> <span class="token number">33.0815689782</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6E2D\u5357<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">109.483932697</span><span class="token punctuation">,</span> <span class="token number">34.5023579758</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u897F\u5B89<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.953098279</span><span class="token punctuation">,</span> <span class="token number">34.2777998978</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u94DC\u5DDD<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">108.968067013</span><span class="token punctuation">,</span> <span class="token number">34.9083676964</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.223722769</span><span class="token punctuation">,</span> <span class="token number">34.4804845846</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D77\u4E1C\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.085206987</span><span class="token punctuation">,</span> <span class="token number">36.5176101677</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.879802174</span><span class="token punctuation">,</span> <span class="token number">36.9606541011</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100.624066094</span><span class="token punctuation">,</span> <span class="token number">36.2843638038</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">97.3426254153</span><span class="token punctuation">,</span> <span class="token number">37.3737990706</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">97.0133161374</span><span class="token punctuation">,</span> <span class="token number">33.0062399097</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u897F\u5B81<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">101.76792099</span><span class="token punctuation">,</span> <span class="token number">36.640738612</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">102.007600308</span><span class="token punctuation">,</span> <span class="token number">35.5228515517</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E5D\u9F99<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.173291988</span><span class="token punctuation">,</span> <span class="token number">22.3072458588</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u65B0\u754C<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.146701965</span><span class="token punctuation">,</span> <span class="token number">22.4274312754</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9999\u6E2F\u5C9B<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">114.183870524</span><span class="token punctuation">,</span> <span class="token number">22.2721034276</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4E03\u53F0\u6CB3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">131.019048047</span><span class="token punctuation">,</span> <span class="token number">45.7750053686</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4F0A\u6625<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">128.910765978</span><span class="token punctuation">,</span> <span class="token number">47.7346850751</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u4F73\u6728\u65AF<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">130.284734586</span><span class="token punctuation">,</span> <span class="token number">46.8137796047</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u53CC\u9E2D\u5C71<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">131.17140174</span><span class="token punctuation">,</span> <span class="token number">46.6551020625</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u54C8\u5C14\u6EE8<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">126.657716855</span><span class="token punctuation">,</span> <span class="token number">45.7732246332</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5927\u5174\u5B89\u5CAD\u5730\u533A<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">124.19610419</span><span class="token punctuation">,</span> <span class="token number">51.991788968</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u5927\u5E86<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">125.02183973</span><span class="token punctuation">,</span> <span class="token number">46.59670902</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7261\u4E39\u6C5F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">129.608035396</span><span class="token punctuation">,</span> <span class="token number">44.5885211528</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u7EE5\u5316<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">126.989094572</span><span class="token punctuation">,</span> <span class="token number">46.646063927</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9E21\u897F<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">130.941767273</span><span class="token punctuation">,</span> <span class="token number">45.3215398866</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9E64\u5C97<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">130.292472051</span><span class="token punctuation">,</span> <span class="token number">47.3386659037</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9ED1\u6CB3<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">127.500830295</span><span class="token punctuation">,</span> <span class="token number">50.2506900907</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  \u9F50\u9F50\u54C8\u5C14<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">123.987288942</span><span class="token punctuation">,</span> <span class="token number">47.3476998134</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5\u8F6C\u5316\u5750\u6807\u4FE1\u606F\u5C5E\u6027\u4E3A-echart-\u5730\u56FE\u6240\u9700\u5C5E\u6027\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u8F6C\u5316\u5750\u6807\u4FE1\u606F\u5C5E\u6027\u4E3A-echart-\u5730\u56FE\u6240\u9700\u5C5E\u6027\u5DE5\u5177" aria-hidden="true">#</a> \u5C01\u88C5\u8F6C\u5316\u5750\u6807\u4FE1\u606F\u5C5E\u6027\u4E3A echart \u5730\u56FE\u6240\u9700\u5C5E\u6027\u5DE5\u5177</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// utils/convert-data.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> coordinateData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./coordinate-data&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">convertData</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> geoCoord <span class="token operator">=</span> coordinateData<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">]</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>geoCoord<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                name<span class="token operator">:</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                value<span class="token operator">:</span> geoCoord<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="echart-\u6CE8\u518C\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#echart-\u6CE8\u518C\u5730\u56FE" aria-hidden="true">#</a> echart \u6CE8\u518C\u5730\u56FE</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// base-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;base-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;echart&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;echartRef&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token comment">// \u83B7\u53D6echart\u7684option\u7C7B\u578B</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> ChinaJSON <span class="token keyword">from</span> <span class="token string">&#39;../data/china.json&#39;</span>

<span class="token comment">// echart\u6CE8\u518C\u5730\u56FE</span>
echarts<span class="token punctuation">.</span><span class="token function">registerMap</span><span class="token punctuation">(</span><span class="token string">&#39;china&#39;</span><span class="token punctuation">,</span> ChinaJSON <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span>

<span class="token comment">// \u63A5\u6536\u6BCF\u4E2Aechart\u4E0D\u540C\u914D\u7F6E</span>
<span class="token keyword">interface</span> <span class="token class-name">IProps</span> <span class="token punctuation">{</span>
    option<span class="token operator">:</span> EChartsOption
<span class="token punctuation">}</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 1. \u5F15\u7528dom\u5B9E\u4F8B</span>
<span class="token keyword">const</span> echartRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2. \u57FA\u4E8E\u51C6\u5907\u597D\u7684dom\uFF0C\u521D\u59CB\u5316echart\u5B9E\u4F8B</span>
  <span class="token keyword">const</span> echartInstance <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>echartRef<span class="token punctuation">.</span>value<span class="token operator">!</span><span class="token punctuation">,</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    renderer<span class="token operator">:</span> <span class="token string">&#39;canvas&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 3.\u7B2C\u4E00\u6B21options(\u914D\u7F6E),\u52A8\u6001\u4F20\u5165\u6BCF\u4E2A\u56FE\u7684option</span>
  <span class="token comment">// watchEffect\u76D1\u542Coption\u53D8\u5316\uFF0C\u91CD\u65B0\u6267\u884C</span>
  <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> echartInstance<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>option<span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// 4.\u76D1\u542Cwindow\u7F29\u653E\u5B9E\u73B0echart\u54CD\u5E94\u5F0F\u5E03\u5C40</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    echartInstance<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>echart <span class="token punctuation">{</span>
  height<span class="token operator">:</span> 250px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7F16\u5199-echart-\u5730\u56FE\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7F16\u5199-echart-\u5730\u56FE\u7EC4\u4EF6" aria-hidden="true">#</a> \u7F16\u5199 echart \u5730\u56FE\u7EC4\u4EF6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// map-echart.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;map-echart&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>base<span class="token operator">-</span>echart <span class="token operator">:</span>option<span class="token operator">=</span><span class="token string">&quot;option&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> BaseEchart <span class="token keyword">from</span> <span class="token string">&#39;./base-echart.vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> EChartsOption <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;echarts&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> IEchartValueType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../types&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> convertData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils/convert-data&#39;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token generic-function"><span class="token function">defineProps</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>
    mapData<span class="token operator">:</span> IEchartValueType<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u53EA\u8D1F\u8D23\u4F20\u5165\u997C\u56FE\u7684option</span>
<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token generic-function"><span class="token function">computed</span><span class="token generic class-name"><span class="token operator">&lt;</span>EChartsOption<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token string">&#39;270px&#39;</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token string">&#39;250px&#39;</span><span class="token punctuation">,</span>
    center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">&#39;\u5168\u56FD\u9500\u91CF\u7EDF\u8BA1&#39;</span><span class="token punctuation">,</span>
        left<span class="token operator">:</span> <span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span>
        textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        trigger<span class="token operator">:</span> <span class="token string">&#39;item&#39;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> params<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39; : &#39;</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">{</span>
        min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        max<span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span>
        left<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        bottom<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        calculable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        text<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;\u9AD8&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u4F4E&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        inRange<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;rgb(70, 240, 252)&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;rgb(250, 220, 46)&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;rgb(245, 38, 186)&#39;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u8BBE\u7F6E\u4F7F\u7528\u7684\u5730\u56FE(\u6CE8\u518C\u8FC7\u7684china\u5730\u5740)</span>
        map<span class="token operator">:</span> <span class="token string">&#39;china&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// \u652F\u6301\u9F20\u6807\u7F29\u653E\u6548\u679C</span>
        <span class="token comment">// roam: &#39;scale&#39;,</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
            areaColor<span class="token operator">:</span> <span class="token string">&#39;#f4cccc&#39;</span><span class="token punctuation">,</span>
            borderColor<span class="token operator">:</span> <span class="token string">&#39;rgb(9, 54, 95)&#39;</span><span class="token punctuation">,</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">&#39;#f4cccc&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;\u9500\u91CF&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">// \u6563\u70B9\u56FE\u5728\u5730\u56FE\u4E0A\u5C55\u793A\u6570\u636E</span>
            type<span class="token operator">:</span> <span class="token string">&#39;scatter&#39;</span><span class="token punctuation">,</span>
            coordinateSystem<span class="token operator">:</span> <span class="token string">&#39;geo&#39;</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token function">convertData</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>mapData<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// \u6563\u70B9\u7684\u5927\u5C0F\uFF08\u53EF\u4EE5\u6839\u636E\u6570\u636E\u4E0D\u540C\u663E\u793A\u4E0D\u540C\u7684\u5927\u5C0F\uFF0C\u8BBE\u7F6E\u4E3A\u4E00\u4E2A\u51FD\u6570\uFF09</span>
            symbolSize<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                    borderCap<span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">,</span>
                    borderWidth<span class="token operator">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// \u4F1A\u81EA\u52A8\u751F\u6210geo\u5730\u7406\u5750\u6807\u7CFB\u7EDF</span>
            type<span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">// \u8BBE\u7F6E\u4F7F\u7528\u7684\u5730\u56FE\u540D\u79F0\uFF0C\u590D\u7528\u7684\u662F\u7B2C0\u4E2A\u5750\u6807\u7CFB\u7EDF</span>
            map<span class="token operator">:</span> <span class="token string">&#39;china&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C01\u88C5\u5730\u56FE\u5546\u54C1\u9500\u91CF\u8BF7\u6C42\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5C01\u88C5\u5730\u56FE\u5546\u54C1\u9500\u91CF\u8BF7\u6C42\u6570\u636E" aria-hidden="true">#</a> \u5C01\u88C5\u5730\u56FE\u5546\u54C1\u9500\u91CF\u8BF7\u6C42\u6570\u636E</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// service/analysis.ts</span>
<span class="token comment">// \u83B7\u53D6\u5730\u56FE\u6570\u636E</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getGoodsAddressSale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">&#39;/goods/address/sale&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getAmountListData<span class="token punctuation">,</span> getGoodsAddressSale<span class="token punctuation">,</span> getGoodsCategoryCount<span class="token punctuation">,</span> getGoodsCategoryFavor<span class="token punctuation">,</span> getGoodsCategorySale <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/service/main/analysis/analysis&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IAnalysisState</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    goodsAddressSale<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> useAnalysisStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;analysis&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> IAnalysisState <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ....</span>
        goodsAddressSale<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">async</span> <span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u9876\u90E8\u5361\u7247\u6570\u636E...</span>
            <span class="token comment">// \u83B7\u53D6\u997C\u56FE\u3001\u73AB\u7470\u56FE\u6570\u636E...</span>
            <span class="token comment">// \u83B7\u53D6\u6298\u7EBF\u56FE\u6570\u636E...</span>
            <span class="token comment">// \u83B7\u53D6\u67F1\u72B6\u56FE\u6570\u636E...</span>

            <span class="token comment">// \u83B7\u53D6\u5730\u56FE\u6570\u636E</span>
            <span class="token keyword">const</span> goodsAddressSaleResult <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getGoodsAddressSale</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>goodsAddressSale <span class="token operator">=</span> goodsAddressSaleResult<span class="token punctuation">.</span>data
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>goodsAddressSale<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useAnalysisStore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7236\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\u7ED9\u5730\u56FE\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7236\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\u7ED9\u5730\u56FE\u7EC4\u4EF6" aria-hidden="true">#</a> \u7236\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\u7ED9\u5730\u56FE\u7EC4\u4EF6</h4><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// dashboard.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>\u9876\u90E8\u5361\u7247\u7EC4\u4EF6 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token comment">// ...</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;10&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>map<span class="token operator">-</span>echart <span class="token operator">:</span>map<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;showGoodsAddressSale&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>chart<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token comment">// ....</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> useAnalysisStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/main/analysis/analysis&#39;</span>
<span class="token comment">// ...</span>

<span class="token comment">// \u53D1\u8D77actions\u5C01\u88C5\u7684\u7F51\u7EDC\u8BF7\u6C42</span>
<span class="token keyword">const</span> analysisStore <span class="token operator">=</span> <span class="token function">useAnalysisStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
analysisStore<span class="token punctuation">.</span><span class="token function">fetchAnalysisDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> amountList<span class="token punctuation">,</span> goodsCategoryCount<span class="token punctuation">,</span> goodsCategorySale<span class="token punctuation">,</span> goodsCategoryFavor<span class="token punctuation">,</span> goodsAddressSale <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>analysisStore<span class="token punctuation">)</span>

<span class="token comment">// \u83B7\u53D6echart\u997C\u56FE\u6570\u636E...</span>
<span class="token comment">// \u83B7\u53D6echart\u6298\u7EBF\u56FE\u6570\u636E...</span>
<span class="token comment">// \u83B7\u53D6echart\u67F1\u72B6\u56FE\u6570\u636E...</span>

<span class="token comment">// \u83B7\u53D6echart\u5730\u56FE\u6570\u636E</span>
<span class="token keyword">const</span> showGoodsAddressSale <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> goodsAddressSale<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> item<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
    value<span class="token operator">:</span> item<span class="token punctuation">.</span>count
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13);function tn(pn,en){const a=l("ExternalLinkIcon");return o(),c("div",null,[n("h2",r,[u,k,n("a",d,[v,t(a)])]),m,n("p",null,[b,n("a",g,[y,t(a)]),f,n("a",h,[q,t(a)]),w,x,C,S,R,D,I]),A,n("blockquote",null,[n("p",null,[n("a",L,[P,t(a)]),E])]),T,n("p",null,[M,_,z,n("a",N,[U,t(a)]),n("a",V,[F,t(a)]),j,O,G,B,H]),Q,n("p",null,[Y,n("a",$,[W,t(a)])]),K,n("p",null,[n("a",J,[X,t(a)]),Z,n("a",nn,[sn,t(a)])]),an])}const ln=e(i,[["render",tn],["__file","cms.html.vue"]]);export{ln as default};
